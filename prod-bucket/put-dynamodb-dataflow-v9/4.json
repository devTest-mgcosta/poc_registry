{"externalControllerServices":{},"flowContents":{"comments":"Put dynamodb processor group, used for ROW and NA market.","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5d81074d-5039-39da-8d24-300d541ee68a","id":"5759dc76-0eed-3c2c-afb1-3ba63208fe53","name":"start_cms_response","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","identifier":"f59439e4-392e-3d0d-a9f0-f28f52bb50bd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isResponseTable"],"source":{"comments":"","groupId":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","id":"016f8fef-7f90-3d83-a1a7-fdb046a35108","name":"Validate by Table Name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"e6582713-042c-3a54-82a0-925c0439dcdc","name":"start_cms_apl","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","identifier":"38910c32-57b1-32ea-a28a-e304a93d403d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isAplTable"],"source":{"comments":"","groupId":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","id":"016f8fef-7f90-3d83-a1a7-fdb046a35108","name":"Validate by Table Name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","id":"016f8fef-7f90-3d83-a1a7-fdb046a35108","name":"Validate by Table Name","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","identifier":"11741fee-8e24-3d7c-a416-cc25873e7d5c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","id":"d9d9e767-5f40-37e0-86ff-0a027d4a08ed","name":"start_put_dynamodb","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"identifier":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","identifier":"d9d9e767-5f40-37e0-86ff-0a027d4a08ed","name":"start_put_dynamodb","position":{"x":328.0,"y":816.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb","outputPorts":[],"position":{"x":1648.0,"y":1248.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"12a11ad8-a023-3859-9e1e-3a7e95fb1f6e","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"c1030527-cc74-3ca6-a337-c7009f765c76","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"0756f65f-86b4-304a-9ebf-945a11058fac","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"dc7ba602-803b-3aa8-95e1-cb2541f34eea","name":"Start Apl Content Upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"7d0e7480-dcb6-3f1a-852b-8a0be1b84a07","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"12a11ad8-a023-3859-9e1e-3a7e95fb1f6e","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"9d897db3-a8ce-3732-be08-1c9cbab8f014","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"73ed1df5-ee95-3760-946c-dc2f5da7881a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"e6582713-042c-3a54-82a0-925c0439dcdc","name":"start_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"ead3b080-752d-37d1-95be-22eb58a926bc","name":"Start APL Metadata Upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"37f2c8fb-a2ea-3bb1-bf26-772617909409","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"12a11ad8-a023-3859-9e1e-3a7e95fb1f6e","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"0756f65f-86b4-304a-9ebf-945a11058fac","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"8ef9da02-d57e-3ead-91d5-3f52e1eb1840","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"650b7389-752a-38b5-a8b1-2e0cd7656336","id":"9d897db3-a8ce-3732-be08-1c9cbab8f014","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"12a11ad8-a023-3859-9e1e-3a7e95fb1f6e","position":{"x":32.0,"y":1472.0}}],"groupIdentifier":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","identifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"e6582713-042c-3a54-82a0-925c0439dcdc","name":"start_cms_apl","position":{"x":-64.0,"y":944.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL","outputPorts":[],"position":{"x":-16.0,"y":1232.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"810571f2-d295-3d8d-9556-3898b645eb1e","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"1f51079f-87e6-379c-88a6-3e4af5d0c201","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"163612d0-5828-3370-8d41-b244137596de","name":"Transform APL","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"1190c0eb-fa73-31ad-b199-8d407188c4d3","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"89da6750-5ec1-3d24-9ed3-63d123a87250","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["split"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"9715c98d-4169-340d-b1de-c0db152ad572","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","id":"f7ab1480-12bc-3dd1-98eb-a8cf9e4dbc07","name":"start_apl_image_flow","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"4dd38bd9-7204-37f9-ab9c-f2dbc44714e0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"dd7c958c-beb3-3988-85a2-8166629e518a","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"810571f2-d295-3d8d-9556-3898b645eb1e","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"9c53ca02-f182-33ea-8335-78aea2478cb5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"2e711d4c-b105-3182-ba7b-be932a3713e8","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"fb80cedd-c93d-3574-9332-9f508a97e650","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"747f5f34-af60-3307-aa9b-d3f209c743c4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"dd7c958c-beb3-3988-85a2-8166629e518a","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"fbe18ef4-474c-3ecc-b72c-8d66c38f71d7","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"0247c489-e24f-375d-9e24-5f30e8371013","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isTestEnvironment"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"fb80cedd-c93d-3574-9332-9f508a97e650","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"9715c98d-4169-340d-b1de-c0db152ad572","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"dbc9432e-1d48-30b1-8755-3fd70a595b4d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"163612d0-5828-3370-8d41-b244137596de","name":"Transform APL","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"810571f2-d295-3d8d-9556-3898b645eb1e","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"64e7c6c6-c81e-3772-8370-63b92e220b74","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"9715c98d-4169-340d-b1de-c0db152ad572","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"c2a6c541-e498-324c-bb61-ed6ffed0203e","name":"Update Content Attribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"4aa3abbd-3d6b-31ca-8472-bc4532e7cd2c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"1190c0eb-fa73-31ad-b199-8d407188c4d3","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"2e711d4c-b105-3182-ba7b-be932a3713e8","name":"ReplaceText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"02adbe5c-3c66-3522-a8d1-df0394fee7b2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"c2a6c541-e498-324c-bb61-ed6ffed0203e","name":"Update Content Attribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"bbc78ff1-895f-33de-b76c-68adfc75ac13","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"d791e701-0d9d-3d19-a0d1-b0fa88fd1c93","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"810571f2-d295-3d8d-9556-3898b645eb1e","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"73b91305-8370-3270-b079-c3b32de8f875","id":"7fb8821b-29a8-3056-a6bf-6480372ece78","name":"start_upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"04eb179d-76ea-3087-812b-06946e9b1411","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"fb80cedd-c93d-3574-9332-9f508a97e650","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"dd7c958c-beb3-3988-85a2-8166629e518a","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"e9cf7615-a503-3b1a-b730-de1d9b3cc120","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"2e711d4c-b105-3182-ba7b-be932a3713e8","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"163612d0-5828-3370-8d41-b244137596de","name":"Transform APL","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"4a32c277-7405-3569-958a-b58ff978912d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"dc7ba602-803b-3aa8-95e1-cb2541f34eea","name":"Start Apl Content Upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"777de64c-0f28-3da9-9c8f-feacc4259294","name":"LogDiscardOriginalContent","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"e75702e6-0077-3713-b683-fe975c2b0486","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"9715c98d-4169-340d-b1de-c0db152ad572","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"810571f2-d295-3d8d-9556-3898b645eb1e","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"97a0fee6-9703-35cd-a0f7-c2e6ea2592c3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"1190c0eb-fa73-31ad-b199-8d407188c4d3","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6851d5f2-be74-3e89-94f4-f2c283b959ea","id":"67c1391c-d4ad-3e55-9eae-33ac4f0d2514","name":"start_upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"3fd4c7c6-4e30-3b95-b914-635f326f77a9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"d22b13cd-9d86-39b8-8d5c-043d8969e729","id":"fb80cedd-c93d-3574-9332-9f508a97e650","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"810571f2-d295-3d8d-9556-3898b645eb1e","position":{"x":-272.0,"y":712.0}}],"groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"dc7ba602-803b-3aa8-95e1-cb2541f34eea","name":"Start Apl Content Upsert","position":{"x":248.0,"y":200.0},"type":"INPUT_PORT"}],"labels":[],"name":"APL Content","outputPorts":[],"position":{"x":224.0,"y":1640.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"870b18ea-b071-3a94-b1fb-474697bc9d6c","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"bedefe0b-2e2b-3b34-8536-4c4166d09a3f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"fbe18ef4-474c-3ecc-b72c-8d66c38f71d7","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"b0743db0-cfc3-3519-9988-3bc4cb99f4fc","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"a656f2ec-b933-3eed-85f0-9320e6997824","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"f588857b-082f-3576-9318-854f02dec803","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"f588857b-082f-3576-9318-854f02dec803","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"c3972cc1-6f43-3846-8c81-5d2298345393","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"870b18ea-b071-3a94-b1fb-474697bc9d6c","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"8b70189a-7761-347c-ad86-62fa56213ec4","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"bfbe6382-769e-38ad-8ba7-da1b2e7d0f48","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"b0743db0-cfc3-3519-9988-3bc4cb99f4fc","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"b0743db0-cfc3-3519-9988-3bc4cb99f4fc","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"9d6072f6-87ab-3b34-b061-ef0b0ef1b007","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"870b18ea-b071-3a94-b1fb-474697bc9d6c","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"a2346d09-75af-3456-8bbd-e091a2f31efa","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"a56ae021-ceaa-31f4-ab9a-8c6be6ce03bb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"f588857b-082f-3576-9318-854f02dec803","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"870b18ea-b071-3a94-b1fb-474697bc9d6c","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"21476fd0-a8f3-33b9-8fdf-2c89fcb7da21","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"7af16af8-0483-31b0-81c2-7265b3eda24e","id":"a2346d09-75af-3456-8bbd-e091a2f31efa","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"b0743db0-cfc3-3519-9988-3bc4cb99f4fc","position":{"x":1032.0,"y":328.0}}],"groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"fbe18ef4-474c-3ecc-b72c-8d66c38f71d7","name":"start_putdynamodb","position":{"x":496.0,"y":72.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content DEV","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":456.0,"y":1920.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"8b70189a-7761-347c-ad86-62fa56213ec4","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1328.0,"y":280.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"f588857b-082f-3576-9318-854f02dec803","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":440.0000226844937,"y":406.00007975514495},"properties":{"Table Name":"${DEV_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"870b18ea-b071-3a94-b1fb-474697bc9d6c","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":440.0,"y":200.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7af16af8-0483-31b0-81c2-7265b3eda24e","identifier":"a2346d09-75af-3456-8bbd-e091a2f31efa","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-160.0,"y":408.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"aead9ac4-e405-347f-a6f7-1109f62c5a24","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"345b415c-58ac-301d-86b7-e03c024404d5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"6851d5f2-be74-3e89-94f4-f2c283b959ea","id":"38385c24-3d08-33db-918d-7b2002ca2c76","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6851d5f2-be74-3e89-94f4-f2c283b959ea","id":"38385c24-3d08-33db-918d-7b2002ca2c76","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"43d5e229-423d-3962-a3b6-e765bf359ec4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"6851d5f2-be74-3e89-94f4-f2c283b959ea","id":"67c1391c-d4ad-3e55-9eae-33ac4f0d2514","name":"start_upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"b8dcb5dd-bd0a-384a-91d6-85f1bf6c5698","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"0016e5c9-6181-3178-8075-f0a74f4bb143","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"6851d5f2-be74-3e89-94f4-f2c283b959ea","id":"38385c24-3d08-33db-918d-7b2002ca2c76","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"6c3f62cb-8a37-388c-ae0b-29d5cf526c79","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"f83ba420-c2cc-3ea6-8e99-beb4562fea10","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"6851d5f2-be74-3e89-94f4-f2c283b959ea","id":"38385c24-3d08-33db-918d-7b2002ca2c76","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"67c1391c-d4ad-3e55-9eae-33ac4f0d2514","name":"start_upsert","position":{"x":832.0,"y":104.0},"type":"INPUT_PORT"}],"labels":[],"name":"EU-Region","outputPorts":[],"position":{"x":-168.0,"y":1912.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"00b9064e-1c13-3932-8385-7228d9e473c7","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"00336376-3e66-32c5-9cc1-5cae4fc9e38f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"0f7d56a0-a75e-3bd5-8592-59436837d77b","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"aa6e481a-8e61-3df9-85b3-e54628178824","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"ab929cf4-6092-3fc5-b3b4-ea6120561d55","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"0f7d56a0-a75e-3bd5-8592-59436837d77b","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"0f7d56a0-a75e-3bd5-8592-59436837d77b","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"ba464993-bcb8-3c22-b7ac-41f9a998375d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"dc8533f3-d080-39f9-8b3d-9d4b8dabc4ba","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"dc8533f3-d080-39f9-8b3d-9d4b8dabc4ba","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"b0aeebcb-d531-3756-b59a-b123d49c6813","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"00b9064e-1c13-3932-8385-7228d9e473c7","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"aa6e481a-8e61-3df9-85b3-e54628178824","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"b1a691b1-4cf6-32ca-bf36-8b33b58c2b9b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"00b9064e-1c13-3932-8385-7228d9e473c7","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"0f7d56a0-a75e-3bd5-8592-59436837d77b","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"33de8682-3126-33bc-9296-b973e8e0f345","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","id":"b8dcb5dd-bd0a-384a-91d6-85f1bf6c5698","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"b8dcb5dd-bd0a-384a-91d6-85f1bf6c5698","name":"start_putdynamodb","position":{"x":496.0,"y":32.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content PROD","outputPorts":[],"parameterContextName":"EU-Prod","position":{"x":760.0,"y":464.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"aa6e481a-8e61-3df9-85b3-e54628178824","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1080.0,"y":264.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"0f7d56a0-a75e-3bd5-8592-59436837d77b","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":444.00001281993434,"y":145.99993850448487},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"dc8533f3-d080-39f9-8b3d-9d4b8dabc4ba","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-131.9999871800657,"y":385.9999385044849},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e9faf60f-6b47-3eda-9f5d-bf1f20167996","identifier":"00b9064e-1c13-3932-8385-7228d9e473c7","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":448.0,"y":360.0},"properties":{"Table Name":"${PROD_EU_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"95870d1b-7dca-3fe1-aec9-3e128366e415","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"4b67faff-f776-3660-a124-698ab56e888a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"c76ad50e-62b7-3ef6-be53-45197932e6bf","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"b2074bb3-75a7-3098-a4fc-d8aed85a2f7d","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"2f945990-e738-3cc6-880c-86839f4b6455","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"c76ad50e-62b7-3ef6-be53-45197932e6bf","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"c76ad50e-62b7-3ef6-be53-45197932e6bf","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"60c3b61f-c151-3369-80f5-58d5abf10c65","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"1bae1d66-4adf-30dd-b5b0-86e33914572e","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"b2074bb3-75a7-3098-a4fc-d8aed85a2f7d","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"08abeb87-6eff-35e9-a26f-6f0c2bb49938","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"95870d1b-7dca-3fe1-aec9-3e128366e415","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"1bae1d66-4adf-30dd-b5b0-86e33914572e","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"6a91ad7d-65a5-3418-a379-5d676b7e91a8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"95870d1b-7dca-3fe1-aec9-3e128366e415","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"c76ad50e-62b7-3ef6-be53-45197932e6bf","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"1271f16b-c42e-3fb9-8217-a41ca4fa6cd1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","id":"6c3f62cb-8a37-388c-ae0b-29d5cf526c79","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"6c3f62cb-8a37-388c-ae0b-29d5cf526c79","name":"start_putdynamodb","position":{"x":496.0,"y":32.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content E2E","outputPorts":[],"parameterContextName":"EU-E2e","position":{"x":1296.0,"y":464.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"b2074bb3-75a7-3098-a4fc-d8aed85a2f7d","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1080.0,"y":264.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"95870d1b-7dca-3fe1-aec9-3e128366e415","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":448.0,"y":360.0},"properties":{"Table Name":"${E2E_EU_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"1bae1d66-4adf-30dd-b5b0-86e33914572e","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-131.9999871800657,"y":385.9999385044849},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e22855a8-03f2-3bfa-ba6b-185074f64c5b","identifier":"c76ad50e-62b7-3ef6-be53-45197932e6bf","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":444.00001281993434,"y":145.99993850448487},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"cc7ea4ae-666a-3529-8d43-9c2e5ad6f61d","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"e75bf26d-9623-3cd8-a69a-9debfc576990","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"f9cdd03e-8511-3d58-b153-182593cdf506","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"22c35778-858a-399a-bab5-3eea2329c43d","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"faf2e685-3ead-3457-a8fd-fa1db29466fb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"cc7ea4ae-666a-3529-8d43-9c2e5ad6f61d","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"f9cdd03e-8511-3d58-b153-182593cdf506","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"34c5be9a-5a31-3297-b479-ab30141da12e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"aead9ac4-e405-347f-a6f7-1109f62c5a24","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"134d7f94-f71b-332c-9c83-4490cd73a724","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"f502d9a2-c806-3bad-bcc9-88c31e9a7543","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"f9cdd03e-8511-3d58-b153-182593cdf506","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"f9cdd03e-8511-3d58-b153-182593cdf506","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"a5d18718-3cd9-35d5-a9c7-d70df10b71ba","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"22c35778-858a-399a-bab5-3eea2329c43d","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"134d7f94-f71b-332c-9c83-4490cd73a724","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"416a5938-9968-36a0-ab20-b8bdae5a9809","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"47a26181-beed-3945-8df3-abd37d5ccc1f","id":"cc7ea4ae-666a-3529-8d43-9c2e5ad6f61d","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"aead9ac4-e405-347f-a6f7-1109f62c5a24","name":"start_putdynamodb","position":{"x":496.0,"y":32.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content INT","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":200.0,"y":464.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"cc7ea4ae-666a-3529-8d43-9c2e5ad6f61d","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":448.0,"y":360.0},"properties":{"Table Name":"${INT_EU_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"22c35778-858a-399a-bab5-3eea2329c43d","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-131.9999871800657,"y":385.9999385044849},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"f9cdd03e-8511-3d58-b153-182593cdf506","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":444.00001281993434,"y":145.99993850448487},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47a26181-beed-3945-8df3-abd37d5ccc1f","identifier":"134d7f94-f71b-332c-9c83-4490cd73a724","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1080.0,"y":264.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6851d5f2-be74-3e89-94f4-f2c283b959ea","identifier":"38385c24-3d08-33db-918d-7b2002ca2c76","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":776.0,"y":232.0},"properties":{"isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6bdac756-e8d0-3ce3-b3d5-e965552d5f55","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"e24cb749-4002-3f5c-ba06-ffddf99bdbad","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","id":"f62db37b-22c4-315e-aff9-68179bb761db","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ae5e719d-bad4-37c5-b668-6362738b9434","id":"4a90a794-49d5-3f10-97d3-268dcb7c9267","name":"start_copy_files_from_s3","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"46b115a7-4aa1-34cd-9395-1fff8db487a7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","id":"db6a11de-263e-3d86-a05d-5f7bee322056","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","id":"f62db37b-22c4-315e-aff9-68179bb761db","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"42e27fb4-d022-3e09-b3c7-f302f18d44be","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"5b1c94c6-bf1b-3311-a1d0-5ef8d9432083","name":"end_file_extraction","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","id":"db6a11de-263e-3d86-a05d-5f7bee322056","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"46e0fcc8-0d73-3262-bab5-9e5e26ef800a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"6bdac756-e8d0-3ce3-b3d5-e965552d5f55","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"79815735-f36a-37ab-b477-4ffc9a4791a7","name":"start_file_extract","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"c18e85bb-ea9a-3ff8-be85-f64fd298e70f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","id":"f7ab1480-12bc-3dd1-98eb-a8cf9e4dbc07","name":"start_apl_image_flow","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","id":"b9f34cb2-3d2f-3608-97e6-723c9c4b1387","name":"start_copy_files_from_s3","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"12a85327-3010-3f58-920b-3b273b169dda","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","id":"db6a11de-263e-3d86-a05d-5f7bee322056","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"7a8f6f00-8d1b-3e01-9b2e-737d5ddc96c4","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"a172ae68-5ece-3fa0-8e92-02b9af878894","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isTestEnvironment"],"source":{"comments":"","groupId":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","id":"db6a11de-263e-3d86-a05d-5f7bee322056","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"f7ab1480-12bc-3dd1-98eb-a8cf9e4dbc07","name":"start_apl_image_flow","position":{"x":72.0,"y":2184.0},"type":"INPUT_PORT"}],"labels":[],"name":"Directus S3","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":-232.0,"y":1624.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"9417a3b0-a7c5-373f-8839-99477a35c022","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"2de9a515-2a67-3d28-a8e9-6301bad7bffa","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"ae5e719d-bad4-37c5-b668-6362738b9434","id":"49e1f0c9-e70d-37d4-87c4-feada2f90627","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ae5e719d-bad4-37c5-b668-6362738b9434","id":"49e1f0c9-e70d-37d4-87c4-feada2f90627","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"2b2d965d-deb3-3770-a3a1-05924a9df64d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"ae5e719d-bad4-37c5-b668-6362738b9434","id":"4a90a794-49d5-3f10-97d3-268dcb7c9267","name":"start_copy_files_from_s3","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"9ea6b088-1e11-3ad2-a28c-708c5d5f46ae","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"3dc829ca-8169-30db-b35a-d4608213fd58","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"ae5e719d-bad4-37c5-b668-6362738b9434","id":"49e1f0c9-e70d-37d4-87c4-feada2f90627","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"064e78d2-9d5b-38b3-8dcb-1900e3a6ca5e","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"12731baf-432c-35aa-8c58-4bcc17874e52","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isPublished"],"source":{"comments":"","groupId":"ae5e719d-bad4-37c5-b668-6362738b9434","id":"49e1f0c9-e70d-37d4-87c4-feada2f90627","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"ae5e719d-bad4-37c5-b668-6362738b9434","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"4a90a794-49d5-3f10-97d3-268dcb7c9267","name":"start_copy_files_from_s3","position":{"x":880.0,"y":104.0},"type":"INPUT_PORT"}],"labels":[],"name":"EU-Region","outputPorts":[],"position":{"x":-520.0,"y":3232.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"876482e6-f403-303c-9f13-eb0535b26d76","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"ba25b8bf-7b29-37c2-955c-4b9567db0540","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"804ea43e-9546-311f-a6bb-cc5301f3ad70","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"804ea43e-9546-311f-a6bb-cc5301f3ad70","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"776daea8-58e9-3125-8a1d-6410823e3b4b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"c07a0061-d7d7-372d-9aae-33cf0a1ec8c8","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"c07a0061-d7d7-372d-9aae-33cf0a1ec8c8","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"57426014-791a-361b-be62-ffa91f922420","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"9fbf7df7-d017-38de-aa72-c537cf8bc0f7","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"9fbf7df7-d017-38de-aa72-c537cf8bc0f7","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"3cc78d04-67cd-337e-973e-47d5a2a5a553","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"9ea6b088-1e11-3ad2-a28c-708c5d5f46ae","name":"start_copying","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"9bf407b4-6082-3bdd-97b8-3b87cdf3abd9","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"39dd7805-e44d-3f3a-963d-3d7b75a0cd14","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"be60352c-ac44-39d3-8f96-cd54388119da","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"be60352c-ac44-39d3-8f96-cd54388119da","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"9cdb0409-c8cf-3045-a786-d1073a57d902","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"9fbf7df7-d017-38de-aa72-c537cf8bc0f7","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"be60352c-ac44-39d3-8f96-cd54388119da","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"a5004610-3da7-3e92-b64f-b1fa8b4e5c1d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d2e17de0-f0c0-3574-b502-35c42a62c90f","id":"876482e6-f403-303c-9f13-eb0535b26d76","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"be60352c-ac44-39d3-8f96-cd54388119da","position":{"x":-192.0,"y":96.0}}],"groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"9ea6b088-1e11-3ad2-a28c-708c5d5f46ae","name":"start_copying","position":{"x":232.0,"y":-472.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow INT","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":208.0,"y":472.0},"processGroups":[{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"804ea43e-9546-311f-a6bb-cc5301f3ad70","inputPorts":[],"labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":200.0,"y":104.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","version":2}}],"processors":[{"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n</criteria>","autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"c07a0061-d7d7-372d-9aae-33cf0a1ec8c8","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":192.0,"y":-104.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content|custom.jolt.config","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/assets/${source_filename}?download=true"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"9bf407b4-6082-3bdd-97b8-3b87cdf3abd9","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-776.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"876482e6-f403-303c-9f13-eb0535b26d76","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":176.0,"y":400.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"${INT_EU_AWS_BUCKET_DESTINATION_ENV}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"eu-central-1","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d2e17de0-f0c0-3574-b502-35c42a62c90f","identifier":"9fbf7df7-d017-38de-aa72-c537cf8bc0f7","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":184.0,"y":-360.0},"properties":{"Destination":"flowfile-attribute","source_filename":"$.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7bd1ab3d-591f-3172-a668-f2dc23b730d6","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"f7ee90a0-89d7-32fa-8f5d-aa673eecd1f9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"34996d2d-6763-37dd-85bc-84fc344317ad","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"2545407f-340e-385f-8aa9-273387fde84e","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"cd721380-fcfe-302f-8c54-465fd3035913","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"ec68e8d9-96c9-39c3-92d8-8c3011260bba","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"34996d2d-6763-37dd-85bc-84fc344317ad","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"e9aacbfd-09d8-3b75-a7cc-e15e6a83a533","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"382a4b31-72ee-3273-a035-6b5746199ba2","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"3730334e-8b78-3ea1-9732-14845f73cbe3","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"37956c98-930a-34ce-928e-50a359e54c5d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"7bd1ab3d-591f-3172-a668-f2dc23b730d6","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"382a4b31-72ee-3273-a035-6b5746199ba2","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"64d4bf0a-9793-3d4c-a43d-556521440827","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"064e78d2-9d5b-38b3-8dcb-1900e3a6ca5e","name":"start_copying","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"ec68e8d9-96c9-39c3-92d8-8c3011260bba","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"3246e4a8-d921-3b90-9f5c-cbed86a5d4f9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"3730334e-8b78-3ea1-9732-14845f73cbe3","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"ec68e8d9-96c9-39c3-92d8-8c3011260bba","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"fc1e1419-4692-3e96-83cc-a9c69f79e958","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"a50685f2-11ce-39fa-b93a-033644fa645b","id":"382a4b31-72ee-3273-a035-6b5746199ba2","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[{"bundle":{"artifact":"nifi-distributed-cache-services-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"CONTROLLER_SERVICE","controllerServiceApis":[{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.12.1"},"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"},{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.12.1"},"type":"org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"}],"groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"e0ef0d12-6fd6-34bc-ae10-b9838150edd7","name":"DistributedMapCacheClientService","properties":{"Server Port":"#{distributed_map_cache_port}","Server Hostname":"#{distributed_map_cache_hostname}","Communications Timeout":"30 secs"},"propertyDescriptors":{"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Server Port":{"displayName":"Server Port","identifiesControllerService":false,"name":"Server Port","sensitive":false},"Server Hostname":{"displayName":"Server Hostname","identifiesControllerService":false,"name":"Server Hostname","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false}},"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"}],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"ec68e8d9-96c9-39c3-92d8-8c3011260bba","position":{"x":-192.0,"y":96.0}}],"groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"a50685f2-11ce-39fa-b93a-033644fa645b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"064e78d2-9d5b-38b3-8dcb-1900e3a6ca5e","name":"start_copying","position":{"x":240.0,"y":-392.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow PROD","outputPorts":[],"parameterContextName":"EU-Prod","position":{"x":808.0,"y":472.0},"processGroups":[{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"7bd1ab3d-591f-3172-a668-f2dc23b730d6","inputPorts":[],"labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":208.0,"y":192.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","version":2}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"2545407f-340e-385f-8aa9-273387fde84e","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-776.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"382a4b31-72ee-3273-a035-6b5746199ba2","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":176.0,"y":-272.0},"properties":{"Destination":"flowfile-attribute","source_filename":"$.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"3730334e-8b78-3ea1-9732-14845f73cbe3","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":184.0,"y":424.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"${PROD_EU_AWS_BUCKET_DESTINATION_ENV}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"eu-central-1","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n</criteria>","autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a50685f2-11ce-39fa-b93a-033644fa645b","identifier":"34996d2d-6763-37dd-85bc-84fc344317ad","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":-32.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content|custom.jolt.config","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/assets/${source_filename}?download=true"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f6dc9ba-7020-3571-aa87-8d6e9aa76e0c","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"13be0150-8914-338f-a2c7-6a6fd86c7d2b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"794211de-7407-304e-91ad-3fc51648a1a3","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"7f02b4cd-2260-3f9a-a631-ab46e0032731","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"b31a57a3-6396-308f-ad42-c938db0fd3b4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f6dc9ba-7020-3571-aa87-8d6e9aa76e0c","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"95df7a1f-e8da-3eb4-8889-b99d47382f8f","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"38e1ca3e-94d9-3528-b037-6a4663efcfac","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"95261d52-b806-3092-966a-f28896e4e7f3","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"4d663e59-dd17-3944-8e7e-2b9d8a7bd2aa","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"ff82e724-a4b5-3d4f-b3e3-6cfc975696f9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"95df7a1f-e8da-3eb4-8889-b99d47382f8f","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"794211de-7407-304e-91ad-3fc51648a1a3","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"71fcc522-aea2-3c06-9108-222c22b9af77","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"95261d52-b806-3092-966a-f28896e4e7f3","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"95df7a1f-e8da-3eb4-8889-b99d47382f8f","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"6ba80fd3-8a2c-37d4-ab21-6a6ce4cbc37f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"7f02b4cd-2260-3f9a-a631-ab46e0032731","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"95261d52-b806-3092-966a-f28896e4e7f3","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"dab6ed58-976f-37ac-bff1-5976421ac806","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"ff693b95-3321-352c-857f-438438160b80","id":"9417a3b0-a7c5-373f-8839-99477a35c022","name":"start_copying","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"95df7a1f-e8da-3eb4-8889-b99d47382f8f","position":{"x":-192.0,"y":96.0}}],"groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"ff693b95-3321-352c-857f-438438160b80","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"9417a3b0-a7c5-373f-8839-99477a35c022","name":"start_copying","position":{"x":240.0,"y":-392.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow E2E","outputPorts":[],"parameterContextName":"EU-E2e","position":{"x":1320.0,"y":472.0},"processGroups":[{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"5f6dc9ba-7020-3571-aa87-8d6e9aa76e0c","inputPorts":[],"labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":192.0,"y":136.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","version":2}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"4d663e59-dd17-3944-8e7e-2b9d8a7bd2aa","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-776.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"7f02b4cd-2260-3f9a-a631-ab46e0032731","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":184.0,"y":416.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"${E2E_EU_AWS_BUCKET_DESTINATION_ENV}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"eu-central-1","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n</criteria>","autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"794211de-7407-304e-91ad-3fc51648a1a3","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":-72.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content|custom.jolt.config","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/assets/${source_filename}?download=true"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ff693b95-3321-352c-857f-438438160b80","identifier":"95261d52-b806-3092-966a-f28896e4e7f3","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":192.0,"y":-280.0},"properties":{"Destination":"flowfile-attribute","source_filename":"$.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ae5e719d-bad4-37c5-b668-6362738b9434","identifier":"49e1f0c9-e70d-37d4-87c4-feada2f90627","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":824.0,"y":216.0},"properties":{"isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isPublished":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isPublished":{"displayName":"isPublished","identifiesControllerService":false,"name":"isPublished","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"21896b83-e74c-37e5-87e0-9c6d025f08a1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"fa035a6f-11a6-3255-bb09-9c904e44c32a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"783ba9c1-eaf5-3b7a-adfe-58c81a21be40","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"783ba9c1-eaf5-3b7a-adfe-58c81a21be40","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"661c0b6f-ccc3-348d-8e91-79d39b323997","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"7a8f6f00-8d1b-3e01-9b2e-737d5ddc96c4","name":"start_copying","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159518a2-6f59-3c02-aad4-52a41bce05ff","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"c7f40eb5-9600-38a6-a2dc-3c69ddad723e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"64b95f47-d45a-3b7a-8dcd-09a4b2f01ef9","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"21896b83-e74c-37e5-87e0-9c6d025f08a1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"a3696dc0-0b35-3402-8286-390dd2eca1f3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"8171cd8d-b760-3561-8b2b-fe03850d5182","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"8171cd8d-b760-3561-8b2b-fe03850d5182","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"316e076a-a28e-32c1-a0be-b7ff9b9802ba","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"159518a2-6f59-3c02-aad4-52a41bce05ff","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"64b95f47-d45a-3b7a-8dcd-09a4b2f01ef9","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"0be46894-bfb9-37a7-9b16-2fb745bb5fcb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"783ba9c1-eaf5-3b7a-adfe-58c81a21be40","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"bb230f60-f317-3887-bdf7-6889a2be8b7e","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"5c1221b4-cbbb-37fd-ae2d-8acfb18cd4cf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"1db47778-6013-3bd9-993d-18ae6836b2a0","id":"21896b83-e74c-37e5-87e0-9c6d025f08a1","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"21896b83-e74c-37e5-87e0-9c6d025f08a1","position":{"x":-232.0,"y":88.0}}],"groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"7a8f6f00-8d1b-3e01-9b2e-737d5ddc96c4","name":"start_copying","position":{"x":248.0,"y":-496.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow DEV","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":0.0,"y":3232.0},"processGroups":[{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"159518a2-6f59-3c02-aad4-52a41bce05ff","inputPorts":[],"labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":176.0,"y":72.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","version":2}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"64b95f47-d45a-3b7a-8dcd-09a4b2f01ef9","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":192.0,"y":-152.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content|custom.jolt.config","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/assets/${source_filename}?download=true"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"783ba9c1-eaf5-3b7a-adfe-58c81a21be40","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":192.0,"y":-368.0},"properties":{"Destination":"flowfile-attribute","source_filename":"$.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"bb230f60-f317-3887-bdf7-6889a2be8b7e","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-736.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1db47778-6013-3bd9-993d-18ae6836b2a0","identifier":"8171cd8d-b760-3561-8b2b-fe03850d5182","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":184.0,"y":384.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"${DEV_AWS_BUCKET_DESTINATION_ENV}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"eu-central-1","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"6bdac756-e8d0-3ce3-b3d5-e965552d5f55","inputPorts":[],"labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":24.0,"y":2752.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","version":2}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"27da36c3-c133-3ea3-a528-a3e598d5ee66","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"1ef467e9-5c12-3b68-91c9-1285be2118a5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","id":"254ea012-2fab-3021-ab6c-adaa4a347dc5","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"fba7ae91-9085-30e1-8c46-870566db7128","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"6f9436b6-fdad-3c04-aa4f-b4b988e4713f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","id":"254ea012-2fab-3021-ab6c-adaa4a347dc5","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","id":"254ea012-2fab-3021-ab6c-adaa4a347dc5","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"25c089e1-e4a8-3402-a006-6dcfc6acb74b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","id":"b9f34cb2-3d2f-3608-97e6-723c9c4b1387","name":"start_copy_files_from_s3","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"d7778993-e3d8-3da6-a702-62e2dc192c23","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"98d26e5b-c9dd-3cc6-b847-893d0932bf9d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isPublished"],"source":{"comments":"","groupId":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","id":"254ea012-2fab-3021-ab6c-adaa4a347dc5","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"b9f34cb2-3d2f-3608-97e6-723c9c4b1387","name":"start_copy_files_from_s3","position":{"x":880.0,"y":88.0},"type":"INPUT_PORT"}],"labels":[],"name":"NA-Region","outputPorts":[],"position":{"x":520.0,"y":3232.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"482bc42a-0459-3a49-9f45-f5aa50ae682c","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"ef629d79-ec0b-36c8-ad82-343e5d586b5f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"9165fc84-faa3-33d7-be0a-3e63d4e3ca26","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"fb9fcfd7-3137-3c98-87b8-4d4907efef46","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"4fbe7d27-905c-3313-aba2-00ad33cdb934","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"27da36c3-c133-3ea3-a528-a3e598d5ee66","name":"start_copying","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"9cfe383f-a153-3a19-bbf5-d3f6a4dd05bb","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"ddf962c0-50be-3eae-b80b-8fea57ebf00d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"81fd7620-f391-38eb-aa19-5f9d375ce417","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"9165fc84-faa3-33d7-be0a-3e63d4e3ca26","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"9538c362-db2c-333a-a6b6-81006ee7b096","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"fb9fcfd7-3137-3c98-87b8-4d4907efef46","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"81fd7620-f391-38eb-aa19-5f9d375ce417","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"bb86d8be-a8d7-31b8-9092-2bf94e2b7493","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"42429f45-67cc-31d1-a938-923c7a070c0b","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"42429f45-67cc-31d1-a938-923c7a070c0b","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"edaa3b16-3829-3e5e-9a11-8a3680b73d86","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"482bc42a-0459-3a49-9f45-f5aa50ae682c","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"81fd7620-f391-38eb-aa19-5f9d375ce417","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"5807b232-ee08-3f7e-832e-2aa111a5fedf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"d94abf62-1011-3203-be49-327a2889d27f","id":"fb9fcfd7-3137-3c98-87b8-4d4907efef46","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"81fd7620-f391-38eb-aa19-5f9d375ce417","position":{"x":-192.0,"y":96.0}}],"groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"d94abf62-1011-3203-be49-327a2889d27f","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"27da36c3-c133-3ea3-a528-a3e598d5ee66","name":"start_copying","position":{"x":240.0,"y":-392.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow E2E","outputPorts":[],"parameterContextName":"NA-E2e","position":{"x":1384.0,"y":472.0},"processGroups":[{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"482bc42a-0459-3a49-9f45-f5aa50ae682c","inputPorts":[],"labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":160.0,"y":136.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","version":2}}],"processors":[{"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n</criteria>","autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"9165fc84-faa3-33d7-be0a-3e63d4e3ca26","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":-80.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content|custom.jolt.config","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/assets/${source_filename}?download=true"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"9cfe383f-a153-3a19-bbf5-d3f6a4dd05bb","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-776.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"fb9fcfd7-3137-3c98-87b8-4d4907efef46","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":176.0,"y":-288.0},"properties":{"Destination":"flowfile-attribute","source_filename":"$.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d94abf62-1011-3203-be49-327a2889d27f","identifier":"42429f45-67cc-31d1-a938-923c7a070c0b","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":184.0,"y":408.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"${E2E_NA_AWS_BUCKET_DESTINATION_ENV}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"eu-central-1","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"23c06150-11b5-3dd6-b778-698fdba4a4eb","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"3ba77370-a8c1-3031-8df4-ec1f8dc5d707","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"9f7c3138-f55f-33e3-a17e-eb7e0045ce56","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"83e6bf5c-0db5-3809-8a41-4e95c19b81f6","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"cfe635cb-c2bf-344b-b249-a365c19a1662","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"fba7ae91-9085-30e1-8c46-870566db7128","name":"start_copying","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"9f7c3138-f55f-33e3-a17e-eb7e0045ce56","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"e03aab06-c7df-3c8f-bea4-ef2a5c92ef32","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"83e6bf5c-0db5-3809-8a41-4e95c19b81f6","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6703281c-881e-3d95-8d0e-443132d39206","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"e5f69e49-44c1-351b-b6cc-cb8bcebfe994","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"1d7608cc-aea1-3a01-8c10-2d7abeddb5c9","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"1d7608cc-aea1-3a01-8c10-2d7abeddb5c9","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"b350df91-1daf-3370-9b30-ff5885dfd470","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"83e6bf5c-0db5-3809-8a41-4e95c19b81f6","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"9f7c3138-f55f-33e3-a17e-eb7e0045ce56","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"5b60b4b3-7851-3b96-9a14-2624d667c78a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"9fc4a0b1-675e-3a12-9317-e94a97448e83","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3061ef63-7485-398c-a0b7-cd07581b0ffe","id":"9fc4a0b1-675e-3a12-9317-e94a97448e83","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"e27605aa-1f71-3560-a334-a0548dd08074","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"6703281c-881e-3d95-8d0e-443132d39206","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"9f7c3138-f55f-33e3-a17e-eb7e0045ce56","position":{"x":-192.0,"y":96.0}}],"groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"fba7ae91-9085-30e1-8c46-870566db7128","name":"start_copying","position":{"x":240.0,"y":-424.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow INT","outputPorts":[],"parameterContextName":"NA-Int","position":{"x":208.0,"y":472.0},"processGroups":[{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"6703281c-881e-3d95-8d0e-443132d39206","inputPorts":[],"labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":168.0,"y":160.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","version":2}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"23c06150-11b5-3dd6-b778-698fdba4a4eb","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-776.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"9fc4a0b1-675e-3a12-9317-e94a97448e83","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":168.0,"y":416.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"${INT_NA_AWS_BUCKET_DESTINATION_ENV}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"eu-central-1","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"83e6bf5c-0db5-3809-8a41-4e95c19b81f6","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":184.0,"y":-296.0},"properties":{"Destination":"flowfile-attribute","source_filename":"$.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n</criteria>","autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"3061ef63-7485-398c-a0b7-cd07581b0ffe","identifier":"1d7608cc-aea1-3a01-8c10-2d7abeddb5c9","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":-80.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content|custom.jolt.config","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/assets/${source_filename}?download=true"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"b86c1e11-454b-314f-88b0-87e84d090519","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"811fd0bb-2c63-390c-ae00-c935e507fcd1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"d6eedc39-ee38-3e9d-aa79-9566365bcbee","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"d6eedc39-ee38-3e9d-aa79-9566365bcbee","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"88fc656e-5810-396d-886f-e9066a99bedc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"d7778993-e3d8-3da6-a702-62e2dc192c23","name":"start_copying","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"42f7f000-6e8d-3a39-84ae-1fcf166b2ac1","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"ce4bf309-300f-33eb-9fd5-eb7697ca1a5f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"b86c1e11-454b-314f-88b0-87e84d090519","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0544b437-9350-3ac8-8569-2a258fdfdd6f","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"7547f47c-dcfc-32e6-b455-b20f6166cd65","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"61537862-d884-30bf-bf4d-3838bc750a67","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"db022395-0c22-3ee4-807d-acb0b28c7c98","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"38dde8e4-557b-3b79-adfd-557cc3afa395","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"0544b437-9350-3ac8-8569-2a258fdfdd6f","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"61537862-d884-30bf-bf4d-3838bc750a67","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"96f700fd-af9a-34ad-ba88-10b40c9429df","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"d6eedc39-ee38-3e9d-aa79-9566365bcbee","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"b86c1e11-454b-314f-88b0-87e84d090519","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"b2d48b8e-b4aa-3afc-b52f-0a6996204c52","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","id":"db022395-0c22-3ee4-807d-acb0b28c7c98","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"b86c1e11-454b-314f-88b0-87e84d090519","position":{"x":-192.0,"y":96.0}}],"groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"d7778993-e3d8-3da6-a702-62e2dc192c23","name":"start_copying","position":{"x":240.0,"y":-392.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow PROD","outputPorts":[],"parameterContextName":"NA-Prod","position":{"x":808.0,"y":472.0},"processGroups":[{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"0544b437-9350-3ac8-8569-2a258fdfdd6f","inputPorts":[],"labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":192.0,"y":144.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","version":2}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"db022395-0c22-3ee4-807d-acb0b28c7c98","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":192.0,"y":448.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"${PROD_NA_AWS_BUCKET_DESTINATION_ENV}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"eu-central-1","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"d6eedc39-ee38-3e9d-aa79-9566365bcbee","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":176.0,"y":-288.0},"properties":{"Destination":"flowfile-attribute","source_filename":"$.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n</criteria>","autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"61537862-d884-30bf-bf4d-3838bc750a67","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":-80.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content|custom.jolt.config","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/assets/${source_filename}?download=true"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"484040df-9ea0-3ad4-aafc-41fd30cbb3fa","identifier":"42f7f000-6e8d-3a39-84ae-1fcf166b2ac1","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-776.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"fff310d8-21fa-3ae7-b1ce-9bce88ed5830","identifier":"254ea012-2fab-3021-ab6c-adaa4a347dc5","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":824.0,"y":216.0},"properties":{"isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isPublished":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isPublished":{"displayName":"isPublished","identifiesControllerService":false,"name":"isPublished","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"7226b0fe-d400-3491-b4ff-170380c3f4bb","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"41b60e1d-3265-36dd-9ae5-714d1e9cdcee","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"575eddfe-e6e0-34bd-8956-1e0c81970eb2","name":"AttributesToJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"f3a1b4b3-3aae-3fcf-8821-d06d3a78d917","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"f1052130-e975-3de6-a894-6f6d4f22bc9f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"2f8c0b01-7ea5-3e7c-aa46-8d1cec8dbcf0","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"7226b0fe-d400-3491-b4ff-170380c3f4bb","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"f023ec5b-80f0-36e4-858e-e587905d9db9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"c7ba023b-28ad-38bb-9d55-8ca6dbda3c6d","name":"ExtractText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"0433ec18-5851-3b87-a74d-48a69bbb4eae","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"562e3b12-69c5-334d-82e7-84ca5fe853f0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"f3a1b4b3-3aae-3fcf-8821-d06d3a78d917","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"575eddfe-e6e0-34bd-8956-1e0c81970eb2","name":"AttributesToJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"8ca79226-9ead-3624-afe7-9912a6265063","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"c7ba023b-28ad-38bb-9d55-8ca6dbda3c6d","name":"ExtractText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"f3a1b4b3-3aae-3fcf-8821-d06d3a78d917","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"63b3b9ec-aad4-3680-8c1e-cd73427a9cc3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"f4e4cc04-81d8-365a-942d-54b022446cb9","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"c7ba023b-28ad-38bb-9d55-8ca6dbda3c6d","name":"ExtractText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"bc139863-33ca-30c7-b2a6-24adf59a19e5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"79815735-f36a-37ab-b477-4ffc9a4791a7","name":"start_file_extract","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"f3a1b4b3-3aae-3fcf-8821-d06d3a78d917","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"436e1426-cae2-3142-a100-f218f2e959e7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"b0680002-e658-3571-aab8-1ccda76a9e1b","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"b0680002-e658-3571-aab8-1ccda76a9e1b","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"248e9627-185e-354a-a5e1-c550ce754a46","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"f4e4cc04-81d8-365a-942d-54b022446cb9","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"0433ec18-5851-3b87-a74d-48a69bbb4eae","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"af5b0595-978e-3ec5-a657-cf5e047685f6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"7226b0fe-d400-3491-b4ff-170380c3f4bb","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"2f8c0b01-7ea5-3e7c-aa46-8d1cec8dbcf0","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"db49c07e-2577-3d90-8626-3d34ea4f4963","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"b0680002-e658-3571-aab8-1ccda76a9e1b","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"b9732fee-6f93-37cb-b25d-a3ac596503f7","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"268ff369-1c20-3c9b-b2d4-f5a53dfce05d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"2f8c0b01-7ea5-3e7c-aa46-8d1cec8dbcf0","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"5b1c94c6-bf1b-3311-a1d0-5ef8d9432083","name":"end_file_extraction","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"8fa2d9a9-2463-3a73-8e66-e7803fbd8b9a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"b9732fee-6f93-37cb-b25d-a3ac596503f7","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"f4e4cc04-81d8-365a-942d-54b022446cb9","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"46230406-c7e1-37be-bf3a-a8171844af0f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8b7173ce-adcb-3383-b0a1-e697745e73d8","id":"575eddfe-e6e0-34bd-8956-1e0c81970eb2","name":"AttributesToJSON","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"f3a1b4b3-3aae-3fcf-8821-d06d3a78d917","position":{"x":1616.0,"y":352.0}},{"componentType":"FUNNEL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"7226b0fe-d400-3491-b4ff-170380c3f4bb","position":{"x":1616.0,"y":-16.0}}],"groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"79815735-f36a-37ab-b477-4ffc9a4791a7","name":"start_file_extract","position":{"x":872.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"Extract Files Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"5b1c94c6-bf1b-3311-a1d0-5ef8d9432083","name":"end_file_extraction","position":{"x":880.0,"y":928.0},"type":"OUTPUT_PORT"}],"position":{"x":0.0,"y":2304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"2f8c0b01-7ea5-3e7c-aa46-8d1cec8dbcf0","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":824.0,"y":504.0},"properties":{"Destination":"flowfile-attribute","destination_filepath":"$.path","Return Type":"auto-detect","Null Value Representation":"empty string","destination_filename":"$.name","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"destination_filename":{"displayName":"destination_filename","identifiesControllerService":false,"name":"destination_filename","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"c7ba023b-28ad-38bb-9d55-8ca6dbda3c6d","name":"ExtractText","penaltyDuration":"30 sec","position":{"x":816.0,"y":-296.0},"properties":{"Enable Unicode Predefined Character Classes":"false","Permit Whitespace and Comments in Pattern":"false","Enable Unicode-aware Case Folding":"false","Enable DOTALL Mode":"false","Enable Unix Lines Mode":"false","Maximum Buffer Size":"1 MB","Enable Canonical Equivalence":"false","Enable Case-insensitive Matching":"true","Enable Multiline Mode":"false","destination_filepath":"([^\\{.*\\}](?:[\\w|\\d|\\s|\\-|\\_|\\/|\\\\]*\\.)(?:jpg|png))","Maximum Capture Group Length":"4096","Enable Literal Parsing of the Pattern":"false","destination_filename":"([\\w|\\-|_\\d|\\s]*\\.(?:jpg|png))","Character Set":"UTF-8","Include Capture Group 0":"false","extract-text-enable-repeating-capture-group":"true"},"propertyDescriptors":{"Enable Unicode Predefined Character Classes":{"displayName":"Enable Unicode Predefined Character Classes","identifiesControllerService":false,"name":"Enable Unicode Predefined Character Classes","sensitive":false},"Permit Whitespace and Comments in Pattern":{"displayName":"Permit Whitespace and Comments in Pattern","identifiesControllerService":false,"name":"Permit Whitespace and Comments in Pattern","sensitive":false},"Enable Unicode-aware Case Folding":{"displayName":"Enable Unicode-aware Case Folding","identifiesControllerService":false,"name":"Enable Unicode-aware Case Folding","sensitive":false},"Enable DOTALL Mode":{"displayName":"Enable DOTALL Mode","identifiesControllerService":false,"name":"Enable DOTALL Mode","sensitive":false},"Enable Unix Lines Mode":{"displayName":"Enable Unix Lines Mode","identifiesControllerService":false,"name":"Enable Unix Lines Mode","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Enable Canonical Equivalence":{"displayName":"Enable Canonical Equivalence","identifiesControllerService":false,"name":"Enable Canonical Equivalence","sensitive":false},"Enable Case-insensitive Matching":{"displayName":"Enable Case-insensitive Matching","identifiesControllerService":false,"name":"Enable Case-insensitive Matching","sensitive":false},"Enable Multiline Mode":{"displayName":"Enable Multiline Mode","identifiesControllerService":false,"name":"Enable Multiline Mode","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Maximum Capture Group Length":{"displayName":"Maximum Capture Group Length","identifiesControllerService":false,"name":"Maximum Capture Group Length","sensitive":false},"Enable Literal Parsing of the Pattern":{"displayName":"Enable Literal Parsing of the Pattern","identifiesControllerService":false,"name":"Enable Literal Parsing of the Pattern","sensitive":false},"destination_filename":{"displayName":"destination_filename","identifiesControllerService":false,"name":"destination_filename","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Include Capture Group 0":{"displayName":"Include Capture Group 0","identifiesControllerService":false,"name":"Include Capture Group 0","sensitive":false},"extract-text-enable-repeating-capture-group":{"displayName":"Enable repeating capture group","identifiesControllerService":false,"name":"extract-text-enable-repeating-capture-group","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ExtractText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["original"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"b0680002-e658-3571-aab8-1ccda76a9e1b","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":824.0,"y":304.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.data.[*]"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"f4e4cc04-81d8-365a-942d-54b022446cb9","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":824.0,"y":112.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"destination_filepath.*\": \"file.&(0,1).path\",\n      \"destination_filename.*\": \"file.&(0,1).name\"\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": \"&\"\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"data.[]\"\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"575eddfe-e6e0-34bd-8956-1e0c81970eb2","name":"AttributesToJSON","penaltyDuration":"30 sec","position":{"x":824.0,"y":-88.0},"properties":{"attributes-to-json-regex":"((?:source|destination)\\_file(?:name|path)(?:\\.\\d)+)","Destination":"flowfile-content","Null Value":"false","Include Core Attributes":"true"},"propertyDescriptors":{"attributes-to-json-regex":{"displayName":"Attributes Regular Expression","identifiesControllerService":false,"name":"attributes-to-json-regex","sensitive":false},"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Null Value":{"displayName":"Null Value","identifiesControllerService":false,"name":"Null Value","sensitive":false},"Attributes List":{"displayName":"Attributes List","identifiesControllerService":false,"name":"Attributes List","sensitive":false},"Include Core Attributes":{"displayName":"Include Core Attributes","identifiesControllerService":false,"name":"Include Core Attributes","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.AttributesToJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"0433ec18-5851-3b87-a74d-48a69bbb4eae","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1728.0,"y":136.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8b7173ce-adcb-3383-b0a1-e697745e73d8","identifier":"b9732fee-6f93-37cb-b25d-a3ac596503f7","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":824.0,"y":720.0},"properties":{"Delete Attributes Expression":"((?:source|destination)\\_file(?:name|path)(?:\\.\\d)+)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","destination_filepath":"${destination_filepath:unescapeJson():replaceAll('(?:([\\w|\\s|\\d|\\-|\\_]*\\.)+(jpg|png))', ''):replaceFirst('/', '')}"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"db6a11de-263e-3d86-a05d-5f7bee322056","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":16.0,"y":3000.0},"properties":{"isTestEnvironment":"${status:equals('draft')}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"isTestEnvironment":{"displayName":"isTestEnvironment","identifiesControllerService":false,"name":"isTestEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f74fc5d-dfa7-3f1b-aa62-090ad73505b6","identifier":"f62db37b-22c4-315e-aff9-68179bb761db","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":16.0,"y":2544.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/files?fields=id,filename_disk,filename_download&filter={\"filename_download\": {\"_eq\": \"${destination_filename}\"}}","custom.jolt.config":"[{\"operation\":\"shift\",\"spec\":{\"data\":{\"*\":\"\"}}}]"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"custom.jolt.config":{"displayName":"custom.jolt.config","identifiesControllerService":false,"name":"custom.jolt.config","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"af2d27e6-0852-373e-89c3-16f3ee40c89e","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"e7e2919c-4fd6-3493-94a4-eb042e4d5358","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"73b91305-8370-3270-b079-c3b32de8f875","id":"28d78586-5476-36e7-a18e-1cfddd5ef64f","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"b7a23faa-c1fa-3937-a77d-f3e8d7f29ede","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"fd72f749-78d0-34c2-a2f9-827390621f81","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"73b91305-8370-3270-b079-c3b32de8f875","id":"28d78586-5476-36e7-a18e-1cfddd5ef64f","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"73b91305-8370-3270-b079-c3b32de8f875","id":"28d78586-5476-36e7-a18e-1cfddd5ef64f","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"4d798baa-df92-3412-86a2-4f25e3e6ab06","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"73b91305-8370-3270-b079-c3b32de8f875","id":"7fb8821b-29a8-3056-a6bf-6480372ece78","name":"start_upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"f93689a5-35ff-3c11-971c-12103b083fec","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"0cf3ec16-df4e-39c6-8ff5-7a99ac59fe35","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"73b91305-8370-3270-b079-c3b32de8f875","id":"28d78586-5476-36e7-a18e-1cfddd5ef64f","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"73b91305-8370-3270-b079-c3b32de8f875","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"7fb8821b-29a8-3056-a6bf-6480372ece78","name":"start_upsert","position":{"x":832.0,"y":112.0},"type":"INPUT_PORT"}],"labels":[],"name":"NA-Region","outputPorts":[],"position":{"x":1072.0,"y":1912.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"4e103bf2-7692-3894-a507-45da2022ae91","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"97b74f6c-c9fd-3a4b-a62f-505072e4d91e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"fd9bd0c2-9204-3e6d-be76-39f95b463399","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"301043aa-b462-3121-bf83-cb1d9277d4b8","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"cfa12168-d51e-3939-b352-03ed5269f24a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"af2d27e6-0852-373e-89c3-16f3ee40c89e","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"b1517d28-e73e-3b54-9700-a386773ffeec","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"01c63aff-3642-3df1-a073-1318473e339a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"fd9bd0c2-9204-3e6d-be76-39f95b463399","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"b1517d28-e73e-3b54-9700-a386773ffeec","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"2ed8739c-1b34-3d15-a4d4-d6562c09a520","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"301043aa-b462-3121-bf83-cb1d9277d4b8","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"301043aa-b462-3121-bf83-cb1d9277d4b8","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"f45be1e5-ac34-3b45-89ff-23c30983e9f6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"4e103bf2-7692-3894-a507-45da2022ae91","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"fd9bd0c2-9204-3e6d-be76-39f95b463399","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"146490cf-e231-3966-a635-e1a809518bcd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"67d36b92-ad41-350c-adee-b1f1aa646755","id":"301043aa-b462-3121-bf83-cb1d9277d4b8","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"67d36b92-ad41-350c-adee-b1f1aa646755","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"af2d27e6-0852-373e-89c3-16f3ee40c89e","name":"start_putdynamodb","position":{"x":496.0,"y":32.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content PROD","outputPorts":[],"parameterContextName":"NA-Prod","position":{"x":760.0,"y":464.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"b1517d28-e73e-3b54-9700-a386773ffeec","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1080.0,"y":264.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"301043aa-b462-3121-bf83-cb1d9277d4b8","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":444.00001281993434,"y":145.99993850448487},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"fd9bd0c2-9204-3e6d-be76-39f95b463399","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":448.0,"y":360.0},"properties":{"Table Name":"${PROD_NA_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"67d36b92-ad41-350c-adee-b1f1aa646755","identifier":"4e103bf2-7692-3894-a507-45da2022ae91","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-131.9999871800657,"y":385.9999385044849},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"f57fb12f-24b7-31a4-a769-8815f0687305","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"c1bf025d-45b4-3f32-b7b9-63d684a3bc64","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"334e46a6-a001-30e7-859e-40aa3450d140","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"f57fb12f-24b7-31a4-a769-8815f0687305","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"d148d4b0-a348-31e4-80f3-899f66131208","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"4ee30ddc-1d83-3453-97b6-d1b29bd72129","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"4ee30ddc-1d83-3453-97b6-d1b29bd72129","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"ba175dd5-7c81-3dfa-aa8c-12655ef9a180","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"28eab43c-c661-3345-a463-1d697987fb0e","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"28eab43c-c661-3345-a463-1d697987fb0e","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"3516d1f0-1ba7-3c53-9538-67b9075da12b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"334e46a6-a001-30e7-859e-40aa3450d140","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"334e46a6-a001-30e7-859e-40aa3450d140","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"43f0670b-a207-3838-a828-589947db7a8d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"4ee30ddc-1d83-3453-97b6-d1b29bd72129","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"4ee30ddc-1d83-3453-97b6-d1b29bd72129","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"52f4e1b6-c00d-35cd-b44e-c6a083a624e2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"16c7c872-a348-30b2-ac52-557e644a09a4","id":"f93689a5-35ff-3c11-971c-12103b083fec","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"16c7c872-a348-30b2-ac52-557e644a09a4","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"f93689a5-35ff-3c11-971c-12103b083fec","name":"start_putdynamodb","position":{"x":496.0,"y":32.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content E2E","outputPorts":[],"parameterContextName":"NA-E2e","position":{"x":1320.0,"y":464.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"28eab43c-c661-3345-a463-1d697987fb0e","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-131.9999871800657,"y":385.9999385044849},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"334e46a6-a001-30e7-859e-40aa3450d140","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":448.0,"y":360.0},"properties":{"Table Name":"${E2E_NA_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"f57fb12f-24b7-31a4-a769-8815f0687305","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1080.0,"y":264.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"16c7c872-a348-30b2-ac52-557e644a09a4","identifier":"4ee30ddc-1d83-3453-97b6-d1b29bd72129","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":444.00001281993434,"y":145.99993850448487},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"efc487a1-715d-35d6-82ed-ad6e6c36be32","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"437a5627-6e74-3d03-86a9-74af980f8ce9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"8fccb90b-70c2-31d5-8314-da320a1d77c9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"efc487a1-715d-35d6-82ed-ad6e6c36be32","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"774b236a-a387-38ba-a0d9-a9253c661db5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"16963493-0d89-3f84-b10d-6bed1a3a5389","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"16963493-0d89-3f84-b10d-6bed1a3a5389","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"16a46039-2960-3896-88b6-6043cd44eb47","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"8fccb90b-70c2-31d5-8314-da320a1d77c9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"8fccb90b-70c2-31d5-8314-da320a1d77c9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"e5b9704e-6f7f-3bb2-a52e-87e3705a9f4f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"bf0f0a87-2ea6-3142-bb45-1be0c02028e4","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"8fccb90b-70c2-31d5-8314-da320a1d77c9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"02d41e1a-1b15-31a0-b196-9b425a3cca4a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"b7a23faa-c1fa-3937-a77d-f3e8d7f29ede","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"bf0f0a87-2ea6-3142-bb45-1be0c02028e4","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"a881669b-8f68-3f6b-9eeb-c848b41e4df9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","id":"16963493-0d89-3f84-b10d-6bed1a3a5389","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"b7a23faa-c1fa-3937-a77d-f3e8d7f29ede","name":"start_putdynamodb","position":{"x":496.0,"y":32.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content INT","outputPorts":[],"parameterContextName":"NA-Int","position":{"x":200.0,"y":464.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"efc487a1-715d-35d6-82ed-ad6e6c36be32","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1080.0,"y":264.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"8fccb90b-70c2-31d5-8314-da320a1d77c9","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":444.00001281993434,"y":145.99993850448487},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"16963493-0d89-3f84-b10d-6bed1a3a5389","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":448.0,"y":360.0},"properties":{"Table Name":"${INT_NA_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"92ac6b13-a97c-3926-b84c-35ef2f05d8d4","identifier":"bf0f0a87-2ea6-3142-bb45-1be0c02028e4","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-131.9999871800657,"y":385.9999385044849},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"73b91305-8370-3270-b079-c3b32de8f875","identifier":"28d78586-5476-36e7-a18e-1cfddd5ef64f","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":776.0,"y":232.0},"properties":{"isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"NONE","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"777de64c-0f28-3da9-9c8f-feacc4259294","name":"LogDiscardOriginalContent","penaltyDuration":"30 sec","position":{"x":928.0,"y":528.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"1190c0eb-fa73-31ad-b199-8d407188c4d3","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":192.0,"y":744.0},"properties":{"Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","id":"$.id_localization","content":"$.value","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"id":{"displayName":"id","identifiesControllerService":false,"name":"id","sensitive":false},"content":{"displayName":"content","identifiesControllerService":false,"name":"content","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"c2a6c541-e498-324c-bb61-ed6ffed0203e","name":"Update Content Attribute","penaltyDuration":"30 sec","position":{"x":192.0,"y":960.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","content":"${content:toString():escapeJson()}"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"content":{"displayName":"content","identifiesControllerService":false,"name":"content","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"fb80cedd-c93d-3574-9332-9f508a97e650","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":472.0,"y":1624.0},"properties":{"isTestEnvironment":"${status:equals('draft')}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"isTestEnvironment":{"displayName":"isTestEnvironment","identifiesControllerService":false,"name":"isTestEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"2e711d4c-b105-3182-ba7b-be932a3713e8","name":"ReplaceText","penaltyDuration":"30 sec","position":{"x":192.0,"y":1176.0},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${content:prepend(\"\\\"\"):append(\"\\\"\")}","Evaluation Mode":"Entire text","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace"},"propertyDescriptors":{"Regular Expression":{"displayName":"Search Value","identifiesControllerService":false,"name":"Regular Expression","sensitive":false},"Replacement Value":{"displayName":"Replacement Value","identifiesControllerService":false,"name":"Replacement Value","sensitive":false},"Evaluation Mode":{"displayName":"Evaluation Mode","identifiesControllerService":false,"name":"Evaluation Mode","sensitive":false},"Line-by-Line Evaluation Mode":{"displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"name":"Line-by-Line Evaluation Mode","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Replacement Strategy":{"displayName":"Replacement Strategy","identifiesControllerService":false,"name":"Replacement Strategy","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"dd7c958c-beb3-3988-85a2-8166629e518a","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":1376.0},"properties":{"Delete Attributes Expression":"(?i:(?:content|invokehttp|keep|\\-|alive)(?:[\\.|\\-].*)*)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"9715c98d-4169-340d-b1de-c0db152ad572","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":208.0,"y":536.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.*.localization.[*]"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"bbc78ff1-895f-33de-b76c-68adfc75ac13","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-944.0,"y":680.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d22b13cd-9d86-39b8-8d5c-043d8969e729","identifier":"163612d0-5828-3370-8d41-b244137596de","name":"Transform APL","penaltyDuration":"30 sec","position":{"x":192.0,"y":320.0},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"localization\": \"&1.localization\"\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"3912d970-4f68-39ef-85e1-c245bb031900","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"5810af31-2062-3088-8368-aa243b8120c9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"938987c1-d6ab-3bde-a65d-4eddb728fae5","name":"Transform Metadata","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","id":"247cbd59-1c91-3eb2-a48a-8477a64617a9","name":"start_upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"44e428a9-bffc-39f4-9eda-dcd7045bcb6b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"31ddc48d-f6d9-333f-a25a-b2e6e6305165","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","id":"1f7799bd-c298-3ed7-8530-5bbfea2fdaa5","name":"start_upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"15d6e234-1514-3cc6-aef9-534ea0818870","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"31ddc48d-f6d9-333f-a25a-b2e6e6305165","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"40817727-197c-36f1-9121-3a9afd1b039d","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"7d6b76c6-f1dc-32fd-8803-eaf0ff286f57","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isTestEnvironment"],"source":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"31ddc48d-f6d9-333f-a25a-b2e6e6305165","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"31ddc48d-f6d9-333f-a25a-b2e6e6305165","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"ab3f3cee-2ee4-3dda-be11-7b9821e56e66","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"938987c1-d6ab-3bde-a65d-4eddb728fae5","name":"Transform Metadata","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"938987c1-d6ab-3bde-a65d-4eddb728fae5","name":"Transform Metadata","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"e10b8f96-4efb-38e1-9ac0-b11a9d7ae866","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"b5f9629d-f95d-36f6-96fe-04324863280c","id":"ead3b080-752d-37d1-95be-22eb58a926bc","name":"Start APL Metadata Upsert","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"b5f9629d-f95d-36f6-96fe-04324863280c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"ead3b080-752d-37d1-95be-22eb58a926bc","name":"Start APL Metadata Upsert","position":{"x":-568.0,"y":264.0},"type":"INPUT_PORT"}],"labels":[],"name":"APL Metadata","outputPorts":[],"position":{"x":-488.0,"y":1640.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"b3f94dfc-3a5e-31cc-a375-5fee8ee28cd4","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"01c78146-dd05-3039-a2f9-4ed05f122e27","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"6d97cf66-8fc2-3e4e-9105-3fd4535ecfa7","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"b3f94dfc-3a5e-31cc-a375-5fee8ee28cd4","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"12a04baf-4dfe-3cd9-8508-0aeae2ad2ea0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"16573f2a-c27a-3dd0-8001-d4c359eeacd9","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"02dddb64-3780-30d8-bcfd-630febdd592b","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"0ec6e040-08b2-3f0a-b7d0-8ac720202d86","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"b3f94dfc-3a5e-31cc-a375-5fee8ee28cd4","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"16573f2a-c27a-3dd0-8001-d4c359eeacd9","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"a45d2e47-0f1a-38fe-8d82-471da7e44c5d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"40817727-197c-36f1-9121-3a9afd1b039d","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"6d97cf66-8fc2-3e4e-9105-3fd4535ecfa7","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"9052aab2-61d6-3c94-b827-8e404180764e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"ba4121db-fafe-3c9c-9796-d7d0d1e37823","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"ba4121db-fafe-3c9c-9796-d7d0d1e37823","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"f9b8c677-da0c-3910-869a-e1a5681e01e5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"b3f94dfc-3a5e-31cc-a375-5fee8ee28cd4","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"02dddb64-3780-30d8-bcfd-630febdd592b","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"a40ab322-ed05-39f8-83c8-6132de9274d9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","id":"ba4121db-fafe-3c9c-9796-d7d0d1e37823","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"40817727-197c-36f1-9121-3a9afd1b039d","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA DEV - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-640.0,"y":848.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"6d97cf66-8fc2-3e4e-9105-3fd4535ecfa7","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"ba4121db-fafe-3c9c-9796-d7d0d1e37823","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${DEV_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"b3f94dfc-3a5e-31cc-a375-5fee8ee28cd4","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"16573f2a-c27a-3dd0-8001-d4c359eeacd9","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Metadata.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9b131b7f-db6c-3b40-82c3-8f3dc3a41a1b","identifier":"02dddb64-3780-30d8-bcfd-630febdd592b","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1416.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"2f0135d0-b00a-36a2-8d05-0c72c50f9784","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"a0b06d71-b662-3928-b1d2-4eb67a0af7a8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","id":"ed10df18-8b8b-3cff-a455-5c94aeafffd2","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"24ebec9e-f045-33d8-8f82-6788b2313b6b","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"5ada5f08-3709-3e74-885e-999c9913c461","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","id":"ed10df18-8b8b-3cff-a455-5c94aeafffd2","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"f4cd6666-d2ba-3d3c-a714-4cd652e01833","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"c2f096ce-73a5-3fad-8ed3-4c66743e3297","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","id":"ed10df18-8b8b-3cff-a455-5c94aeafffd2","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","id":"ed10df18-8b8b-3cff-a455-5c94aeafffd2","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"a15e7b95-1a96-36fd-b39c-c78e57d3271b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","id":"1f7799bd-c298-3ed7-8530-5bbfea2fdaa5","name":"start_upsert","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"1f7799bd-c298-3ed7-8530-5bbfea2fdaa5","name":"start_upsert","position":{"x":1408.0,"y":208.0},"type":"INPUT_PORT"}],"labels":[],"name":"NA-Region","outputPorts":[],"position":{"x":-72.0,"y":848.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"e70871f0-d6ac-326b-af71-6afb2d793275","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"095a544d-f6b1-3271-b2cd-5f3e8b589cf3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"24ebec9e-f045-33d8-8f82-6788b2313b6b","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"766ca617-bb0a-31e6-a9e4-5a119d8c9a04","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"4a498e91-dd5b-36ad-9bbf-2ce8f1b16ca8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"a9a94a55-cc49-3a46-905e-f618d9509632","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"39323c07-6dad-31cf-aadd-71fc9388ae1d","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"0ba920b1-8c9c-3987-91db-7b0d1d8d5124","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"115a51d3-01d9-33c4-b038-866ffff0dbd2","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"39323c07-6dad-31cf-aadd-71fc9388ae1d","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"22a22c5c-158d-3333-be44-59b831891a16","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"a9a94a55-cc49-3a46-905e-f618d9509632","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"115a51d3-01d9-33c4-b038-866ffff0dbd2","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"e93059ed-d6ee-3b7b-b4d4-9248a5a8d149","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"e70871f0-d6ac-326b-af71-6afb2d793275","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"a9a94a55-cc49-3a46-905e-f618d9509632","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"7361df1c-e166-35cd-8879-17697c73d134","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"115a51d3-01d9-33c4-b038-866ffff0dbd2","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"115a51d3-01d9-33c4-b038-866ffff0dbd2","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"72230ab8-1744-3b5b-ba28-2230f7a5aea9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"320e6218-4abb-3a17-93dc-37cd476d89d5","id":"766ca617-bb0a-31e6-a9e4-5a119d8c9a04","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"24ebec9e-f045-33d8-8f82-6788b2313b6b","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA INT - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-Int","position":{"x":640.0,"y":584.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"115a51d3-01d9-33c4-b038-866ffff0dbd2","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"39323c07-6dad-31cf-aadd-71fc9388ae1d","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1408.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"766ca617-bb0a-31e6-a9e4-5a119d8c9a04","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"e70871f0-d6ac-326b-af71-6afb2d793275","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Content.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"320e6218-4abb-3a17-93dc-37cd476d89d5","identifier":"a9a94a55-cc49-3a46-905e-f618d9509632","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${INT_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"7464be74-a484-306e-83a9-0e2407d76bf6","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"dea6e23c-a809-3e41-a796-bab914f2876f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"773ef503-eb81-34ea-9193-1bc096339b95","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"99adc106-fafe-3200-9b00-1395e688d6ba","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"13150e8f-b6ac-3f08-a74d-9243f98f7370","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"9d27d836-3853-3a1b-8d82-aaeaa4e082b8","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"7464be74-a484-306e-83a9-0e2407d76bf6","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"80cdf83d-8bc5-3407-8927-6b1a360da209","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"2fd21df3-d6bc-37a2-be53-3757a2f2222a","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"9d27d836-3853-3a1b-8d82-aaeaa4e082b8","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"14639b06-b4ce-3fcf-b452-98e72f07b4fc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"7464be74-a484-306e-83a9-0e2407d76bf6","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"2fd21df3-d6bc-37a2-be53-3757a2f2222a","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"198e16e9-db39-3721-9631-95e37d3f229e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"2f0135d0-b00a-36a2-8d05-0c72c50f9784","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"773ef503-eb81-34ea-9193-1bc096339b95","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"8949473b-f245-3659-8d8d-e03477d45569","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"9d27d836-3853-3a1b-8d82-aaeaa4e082b8","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"99adc106-fafe-3200-9b00-1395e688d6ba","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"cb56dcc6-2f36-340f-96a4-c189cee7c98c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","id":"7464be74-a484-306e-83a9-0e2407d76bf6","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"2f0135d0-b00a-36a2-8d05-0c72c50f9784","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA PROD - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-Prod","position":{"x":1336.0,"y":584.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"2fd21df3-d6bc-37a2-be53-3757a2f2222a","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Content.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"9d27d836-3853-3a1b-8d82-aaeaa4e082b8","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${PROD_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"773ef503-eb81-34ea-9193-1bc096339b95","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"99adc106-fafe-3200-9b00-1395e688d6ba","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1408.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6a836fbf-822f-3c7d-8a2d-edeeb658fcac","identifier":"7464be74-a484-306e-83a9-0e2407d76bf6","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"8476bd66-c280-3394-9396-792cdfbbfab6","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"a03d6940-ceee-3583-9da5-4ca735f785c0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"40ffa4f8-8906-312e-a659-e1d92b36fcb9","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"c95dc8bc-aa67-30aa-9503-5bbaa51d0c78","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"3e819e49-926b-35d4-874f-194315140827","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"262a5ec5-b8b6-3f5c-91ac-eda5250ab2d6","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"6e390eef-19af-3f44-9b44-178abd24031c","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"18034220-b235-3cc3-ad94-4cabd0eef5c9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"f4cd6666-d2ba-3d3c-a714-4cd652e01833","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"40ffa4f8-8906-312e-a659-e1d92b36fcb9","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"d507ce66-25dc-397d-ab9c-f8beacb00f20","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"262a5ec5-b8b6-3f5c-91ac-eda5250ab2d6","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"262a5ec5-b8b6-3f5c-91ac-eda5250ab2d6","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"da32bd44-3312-34ca-b313-3614c8b49f30","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"8476bd66-c280-3394-9396-792cdfbbfab6","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"8476bd66-c280-3394-9396-792cdfbbfab6","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"4017a2db-4336-356d-8f39-71779de5ecd9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"6e390eef-19af-3f44-9b44-178abd24031c","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"c95dc8bc-aa67-30aa-9503-5bbaa51d0c78","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"33cd6de0-9391-391d-b04f-5264c160e451","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"9318fd12-e3bf-39b9-b7ed-7624048159d9","id":"8476bd66-c280-3394-9396-792cdfbbfab6","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"f4cd6666-d2ba-3d3c-a714-4cd652e01833","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA E2E - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-E2e","position":{"x":1888.0,"y":584.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"40ffa4f8-8906-312e-a659-e1d92b36fcb9","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"262a5ec5-b8b6-3f5c-91ac-eda5250ab2d6","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${E2E_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"c95dc8bc-aa67-30aa-9503-5bbaa51d0c78","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1408.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"6e390eef-19af-3f44-9b44-178abd24031c","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Content.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9318fd12-e3bf-39b9-b7ed-7624048159d9","identifier":"8476bd66-c280-3394-9396-792cdfbbfab6","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a3fa122e-8ea4-3423-99b2-a457bf74bfd9","identifier":"ed10df18-8b8b-3cff-a455-5c94aeafffd2","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":1352.0,"y":344.0},"properties":{"isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"72f0c791-e446-3252-8afb-935ca0f25fb0","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"c8c753a8-0d44-3f53-8ae7-6c370153ac38","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","id":"ca83f5a2-7788-3a70-b8cb-49850ec54b4a","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"199b1708-03a3-3a5f-b073-17f6b6361f13","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"1646d2a5-25a7-35fe-8c9e-cb7c4395d4e0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","id":"ca83f5a2-7788-3a70-b8cb-49850ec54b4a","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","id":"ca83f5a2-7788-3a70-b8cb-49850ec54b4a","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"31f39b0b-fd75-3f3e-9e83-32773bf83843","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","id":"247cbd59-1c91-3eb2-a48a-8477a64617a9","name":"start_upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"985ff4a9-1d0b-3295-a4f0-8450c37d0680","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"3a7b568e-bbb3-3b9d-a277-23db8f5de92e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","id":"ca83f5a2-7788-3a70-b8cb-49850ec54b4a","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"247cbd59-1c91-3eb2-a48a-8477a64617a9","name":"start_upsert","position":{"x":1344.0,"y":80.0},"type":"INPUT_PORT"}],"labels":[],"name":"EU-Region","outputPorts":[],"position":{"x":-1208.0,"y":848.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"9767afb7-6657-3b96-8217-42b2baf19c0d","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"48399d27-8dd5-3e9c-ba71-5f77134d6aac","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"6df860d8-3fc0-3e5c-be1a-65226dea1194","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"bd364000-30ff-3260-b5ac-27b9e6099a84","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"818031e7-0443-3d53-80d9-c0a27674b9c6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"9a81a559-6caa-3112-a123-676ab4e2a35b","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"bd364000-30ff-3260-b5ac-27b9e6099a84","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"85978ae8-63c2-3bca-bf49-51839dd66201","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"9767afb7-6657-3b96-8217-42b2baf19c0d","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"6df860d8-3fc0-3e5c-be1a-65226dea1194","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"f1e9969b-e2f1-3fc7-8f6a-5a56b7780768","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"bd364000-30ff-3260-b5ac-27b9e6099a84","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"9a81a559-6caa-3112-a123-676ab4e2a35b","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"fe0c1edf-3657-3e08-a76d-3139f7c55409","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"985ff4a9-1d0b-3295-a4f0-8450c37d0680","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"3efcb667-de01-34ff-acaa-20da3ce97c40","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"2fb61902-76b2-326d-aaf1-7c801501270d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"bd364000-30ff-3260-b5ac-27b9e6099a84","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"3efcb667-de01-34ff-acaa-20da3ce97c40","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"754f172f-85b7-3e5a-97d2-b84119aaea88","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"442ac17d-0315-3021-91cf-281c2c328fce","id":"6df860d8-3fc0-3e5c-be1a-65226dea1194","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"442ac17d-0315-3021-91cf-281c2c328fce","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"985ff4a9-1d0b-3295-a4f0-8450c37d0680","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA PROD - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Prod","position":{"x":1272.0,"y":584.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"bd364000-30ff-3260-b5ac-27b9e6099a84","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"6df860d8-3fc0-3e5c-be1a-65226dea1194","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${PROD_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"3efcb667-de01-34ff-acaa-20da3ce97c40","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1408.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"9a81a559-6caa-3112-a123-676ab4e2a35b","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Content.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"442ac17d-0315-3021-91cf-281c2c328fce","identifier":"9767afb7-6657-3b96-8217-42b2baf19c0d","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"ea2c83dd-93d7-3ca4-baf1-1f2ef03737a6","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"b04267d3-b16c-3c22-b19d-f88608348bd4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"4b4e35bb-9466-36ea-92ad-f20affd9be58","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"ea2c83dd-93d7-3ca4-baf1-1f2ef03737a6","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"3857c6b1-aab3-3e4b-8346-4ffef40201e2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"2fccad7d-4183-3015-8ebb-942288067441","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"3b828929-1a19-3e27-abf6-5f541c72a4d4","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"a78a94c8-c1a3-3573-83b7-581c24f5dce8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"ea2c83dd-93d7-3ca4-baf1-1f2ef03737a6","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"3b828929-1a19-3e27-abf6-5f541c72a4d4","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"3e4f7ecd-8501-33a0-a66c-bf2a869878c4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"5f8819f1-917e-37c2-94c9-6dd60113ddcb","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"4b4e35bb-9466-36ea-92ad-f20affd9be58","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"fc0e9006-1020-3f32-ab24-1ee5ea72f3b4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"5f8819f1-917e-37c2-94c9-6dd60113ddcb","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"5f8819f1-917e-37c2-94c9-6dd60113ddcb","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"90c0c0b1-ac15-3090-b10d-ee77f59c31d1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"ea2c83dd-93d7-3ca4-baf1-1f2ef03737a6","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"2fccad7d-4183-3015-8ebb-942288067441","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"acde4bde-4445-3870-9f0e-8f80089a5794","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"718be1c4-1940-355f-b70f-2a08925b1be5","id":"72f0c791-e446-3252-8afb-935ca0f25fb0","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"718be1c4-1940-355f-b70f-2a08925b1be5","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"72f0c791-e446-3252-8afb-935ca0f25fb0","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA E2E - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-E2e","position":{"x":1832.0,"y":576.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"3b828929-1a19-3e27-abf6-5f541c72a4d4","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1408.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"5f8819f1-917e-37c2-94c9-6dd60113ddcb","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${E2E_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"2fccad7d-4183-3015-8ebb-942288067441","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Content.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"ea2c83dd-93d7-3ca4-baf1-1f2ef03737a6","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"718be1c4-1940-355f-b70f-2a08925b1be5","identifier":"4b4e35bb-9466-36ea-92ad-f20affd9be58","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"4617cddf-c7cf-3921-8ab7-b4322a6f5783","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"a36a14f7-0588-35c5-aadb-baabe8c4d6c3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"1adce279-69ce-3b22-a1d7-4371acf9994c","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"1adce279-69ce-3b22-a1d7-4371acf9994c","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"b2bb1338-33a8-381f-810c-1f211d58ed49","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"d27a9145-fe2f-3e3a-9b0e-bfe558559ca4","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"a9c4a95f-e869-3768-9337-2b7677cdc791","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"798a99b1-e812-34b8-a730-8dba9fcc1fab","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"d27a9145-fe2f-3e3a-9b0e-bfe558559ca4","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"d27a9145-fe2f-3e3a-9b0e-bfe558559ca4","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"6529ec8f-820c-3a64-b31c-5644c79f34ed","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"4617cddf-c7cf-3921-8ab7-b4322a6f5783","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"4617cddf-c7cf-3921-8ab7-b4322a6f5783","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"1fffb33e-5927-3bc3-8402-48b68d74d13d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"79011af5-7024-308a-8f97-24b917718a3c","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"79011af5-7024-308a-8f97-24b917718a3c","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"bb5f9b9a-6841-3629-ab73-cdf6f5a97317","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"199b1708-03a3-3a5f-b073-17f6b6361f13","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"a9c4a95f-e869-3768-9337-2b7677cdc791","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"2a006b8a-e226-30f7-a87d-0dab112827e3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","id":"4617cddf-c7cf-3921-8ab7-b4322a6f5783","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"199b1708-03a3-3a5f-b073-17f6b6361f13","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA INT - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":640.0,"y":584.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"1adce279-69ce-3b22-a1d7-4371acf9994c","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"79011af5-7024-308a-8f97-24b917718a3c","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Content.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"a9c4a95f-e869-3768-9337-2b7677cdc791","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1408.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"4617cddf-c7cf-3921-8ab7-b4322a6f5783","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1d5244d4-7c4d-34af-8e48-04d6fa5023ac","identifier":"d27a9145-fe2f-3e3a-9b0e-bfe558559ca4","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${INT_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f2010dbc-53cb-3032-96d8-c3a8a01a1b55","identifier":"ca83f5a2-7788-3a70-b8cb-49850ec54b4a","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":1288.0,"y":304.0},"properties":{"isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"31ddc48d-f6d9-333f-a25a-b2e6e6305165","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":-624.0,"y":608.0},"properties":{"isTestEnvironment":"${status:equals('draft')}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"isTestEnvironment":{"displayName":"isTestEnvironment","identifiesControllerService":false,"name":"isTestEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"938987c1-d6ab-3bde-a65d-4eddb728fae5","name":"Transform Metadata","penaltyDuration":"30 sec","position":{"x":-624.0,"y":384.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n        \"*\": {\n          \"version\": \"&1.version\",\n          \"localization\": {\n            \"*\": {\n              \"id_localization\": \"&1.tmp.content.[&3].id\",\n              \"culture\": \"&1.tmp.content.[&3].culture\"\n            }\n          }\n        }\n      }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"version\": \"&1.version\",\n        \"*\": {\n          \"content\": {\n            \"*\": {\n              \"@id\": \"&1.tmp.@culture\"\n            }\n          }\n        }\n      }\n    }\n  }, {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"@tmp\": \"@version\"\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5f9629d-f95d-36f6-96fe-04324863280c","identifier":"3912d970-4f68-39ef-85e1-c245bb031900","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-1240.0,"y":384.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"0756f65f-86b4-304a-9ebf-945a11058fac","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-114.92526936116155,"y":1265.4902016837946},"properties":{"jolt-spec":"[{\n  \"operation\": \"modify-default-beta\",\n  \"spec\": {\n      \"*\": {\n        \"localization\": {\n          \"*\": {\n            \"id_localization\": \"=concat(@(3,name),'.',@(3,version), '.',@(1,culture))\"\n          }\n        }\n      }\n    }\n}]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"650b7389-752a-38b5-a8b1-2e0cd7656336","identifier":"9d897db3-a8ce-3732-be08-1c9cbab8f014","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":-114.92526936116155,"y":1065.4902016837946},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5d81074d-5039-39da-8d24-300d541ee68a","id":"5c1dd511-289f-3b23-b216-e01493bf26d1","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"2e4900ab-5b10-3047-882d-d64832077dc0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5d81074d-5039-39da-8d24-300d541ee68a","id":"a1e6a74b-6346-3e61-883f-b33f6c154d0b","name":"Transform Response","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8902607b-fdaf-3503-8df3-44e75c508299","id":"1cb0eadb-d41b-304c-831e-9d8a3cc69c1d","name":"start_upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"93194d5b-bd17-3447-99a8-039030e85ba4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"5d81074d-5039-39da-8d24-300d541ee68a","id":"5c1dd511-289f-3b23-b216-e01493bf26d1","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"c3533fe7-96f6-3786-b7e2-b052a49961c8","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"56ecd336-4af3-34a8-8bbf-dc8b2625c345","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isTestEnvironment"],"source":{"comments":"","groupId":"5d81074d-5039-39da-8d24-300d541ee68a","id":"5c1dd511-289f-3b23-b216-e01493bf26d1","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"045e4d56-f46f-38fd-855f-33c9a6bceffc","id":"5e2e35f6-0f96-3da2-b2a2-21f8f53d5af5","name":"start_upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"44c00ff2-d7cd-32fd-9183-db65322885d8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"5d81074d-5039-39da-8d24-300d541ee68a","id":"5c1dd511-289f-3b23-b216-e01493bf26d1","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5d81074d-5039-39da-8d24-300d541ee68a","id":"a1e6a74b-6346-3e61-883f-b33f6c154d0b","name":"Transform Response","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"8e3de440-d769-337f-8a8b-71520e02355c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5d81074d-5039-39da-8d24-300d541ee68a","id":"5759dc76-0eed-3c2c-afb1-3ba63208fe53","name":"start_cms_response","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","identifier":"5d81074d-5039-39da-8d24-300d541ee68a","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"5759dc76-0eed-3c2c-afb1-3ba63208fe53","name":"start_cms_response","position":{"x":2128.0,"y":1144.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Response","outputPorts":[],"position":{"x":528.0,"y":1232.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"f9e878c0-8c85-3a1c-b33d-b746467cd5fd","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"a0f7c218-f74e-3982-9d71-bd962f9fca43","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"8902607b-fdaf-3503-8df3-44e75c508299","id":"4e729481-0d19-37c1-b17d-0357afd764c8","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"fcbe28cc-6d5d-33ae-9505-0d37d55817d7","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"47c822d1-d152-36c1-8866-3ec0aa7880ab","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"8902607b-fdaf-3503-8df3-44e75c508299","id":"4e729481-0d19-37c1-b17d-0357afd764c8","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8902607b-fdaf-3503-8df3-44e75c508299","id":"4e729481-0d19-37c1-b17d-0357afd764c8","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"a3009590-1af7-3b99-b71a-0a39a13ca5ec","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"8902607b-fdaf-3503-8df3-44e75c508299","id":"1cb0eadb-d41b-304c-831e-9d8a3cc69c1d","name":"start_upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"8f48c6b3-c69b-3708-afb6-0b42701ebd36","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"59a7b9b1-37b9-391f-aaf5-c366341df8af","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"8902607b-fdaf-3503-8df3-44e75c508299","id":"4e729481-0d19-37c1-b17d-0357afd764c8","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"8902607b-fdaf-3503-8df3-44e75c508299","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"1cb0eadb-d41b-304c-831e-9d8a3cc69c1d","name":"start_upsert","position":{"x":1848.0,"y":1384.0},"type":"INPUT_PORT"}],"labels":[],"name":"EU-Region","outputPorts":[],"position":{"x":1520.0,"y":1704.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"60313958-9b26-3048-9880-cae279635cba","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"067c6bbe-b1b3-3c5b-b98c-5f0a150f53f8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"fcbe28cc-6d5d-33ae-9505-0d37d55817d7","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"60313958-9b26-3048-9880-cae279635cba","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"4a45b34b-96cd-3c30-b70e-7e5de5f5b348","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"fd26515b-577b-381c-8908-b0f7cc35373d","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"fd26515b-577b-381c-8908-b0f7cc35373d","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"87765d23-66dc-3689-9c27-264d4b40df88","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"a6fbda27-02aa-3ef6-a630-16311ba965eb","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"6b89934a-91e8-3808-b696-4610d67f7a51","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"6c262d7b-1b24-3853-bcf4-e7187207ceec","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"60313958-9b26-3048-9880-cae279635cba","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"6b89934a-91e8-3808-b696-4610d67f7a51","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"d0868515-f8d0-38ad-960c-3049d34f64ad","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"a6fbda27-02aa-3ef6-a630-16311ba965eb","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"a6fbda27-02aa-3ef6-a630-16311ba965eb","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"d95f4628-af36-3876-8361-8164a15e6d0c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d2f72db8-0b92-3ce3-b08b-a359582886b0","id":"60313958-9b26-3048-9880-cae279635cba","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"fcbe28cc-6d5d-33ae-9505-0d37d55817d7","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS RESPONSE INT - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":1152.0,"y":1712.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"60313958-9b26-3048-9880-cae279635cba","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"6b89934a-91e8-3808-b696-4610d67f7a51","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1376.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"fd26515b-577b-381c-8908-b0f7cc35373d","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d2f72db8-0b92-3ce3-b08b-a359582886b0","identifier":"a6fbda27-02aa-3ef6-a630-16311ba965eb","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${INT_EU_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"06e8960a-074d-3fd1-a934-34225db0bd14","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"a726d19f-a2f5-3508-b894-5956afb057ce","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"29de12da-d26f-316a-9651-18576d361ab0","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"1943f814-cc4c-39f5-8f82-6aa847f6db83","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"e575b695-296f-3e66-b8aa-6bda6ee01ac1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"a7ea52be-1a53-3e9c-b45f-61c1424df865","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"29de12da-d26f-316a-9651-18576d361ab0","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"fb62d594-bb5d-346d-b46b-c724e51c3097","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"1943f814-cc4c-39f5-8f82-6aa847f6db83","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"29de12da-d26f-316a-9651-18576d361ab0","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"bd84d8c4-14b9-39ff-bf04-6bf6bb748ab8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"f9e878c0-8c85-3a1c-b33d-b746467cd5fd","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"a7ea52be-1a53-3e9c-b45f-61c1424df865","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"02991fda-6de1-33d4-bf77-de189715d55d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"29de12da-d26f-316a-9651-18576d361ab0","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"06e8960a-074d-3fd1-a934-34225db0bd14","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"d723d106-9616-3ca6-88a6-c507b327513c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","id":"a7ea52be-1a53-3e9c-b45f-61c1424df865","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"f9e878c0-8c85-3a1c-b33d-b746467cd5fd","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS RESPONSE E2E - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-E2e","position":{"x":2456.0,"y":1712.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"06e8960a-074d-3fd1-a934-34225db0bd14","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1376.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"29de12da-d26f-316a-9651-18576d361ab0","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"1943f814-cc4c-39f5-8f82-6aa847f6db83","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":128.0,"y":160.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"eae8ed8f-92d5-34b4-959f-15720f40bd4b","identifier":"a7ea52be-1a53-3e9c-b45f-61c1424df865","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${E2E_EU_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"168483d7-24d4-3ac6-ba5d-86803f635677","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"39861a81-7377-3cfb-b4ac-8d656b21572a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"6366f40e-4907-3263-b10c-66d9946eddc8","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"8231b934-a19d-31c4-9e24-2cf9da504230","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"2c6621ed-b0d9-341f-a652-3f3bf2d42ecc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"168483d7-24d4-3ac6-ba5d-86803f635677","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"6366f40e-4907-3263-b10c-66d9946eddc8","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"e02d184a-ac01-3705-bedd-035c668f9e8d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"138af28a-d2d9-3c23-bc1f-9c20a0a5a47d","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"8231b934-a19d-31c4-9e24-2cf9da504230","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"15f389cc-b5e8-3532-a8e7-354a7df12f2d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"6366f40e-4907-3263-b10c-66d9946eddc8","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"6366f40e-4907-3263-b10c-66d9946eddc8","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"7e057259-9913-3a91-8e15-5d9850d91fcb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"8f48c6b3-c69b-3708-afb6-0b42701ebd36","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"138af28a-d2d9-3c23-bc1f-9c20a0a5a47d","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"b1fca5b4-ed75-382a-921e-fe24c7bd6485","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"115927c3-13db-3dd1-a0ac-ee79821bd254","id":"168483d7-24d4-3ac6-ba5d-86803f635677","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"8f48c6b3-c69b-3708-afb6-0b42701ebd36","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":" CMS RESPONSE PROD - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Prod","position":{"x":1784.0,"y":1736.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"8231b934-a19d-31c4-9e24-2cf9da504230","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1376.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"6366f40e-4907-3263-b10c-66d9946eddc8","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"168483d7-24d4-3ac6-ba5d-86803f635677","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${PROD_EU_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"115927c3-13db-3dd1-a0ac-ee79821bd254","identifier":"138af28a-d2d9-3c23-bc1f-9c20a0a5a47d","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8902607b-fdaf-3503-8df3-44e75c508299","identifier":"4e729481-0d19-37c1-b17d-0357afd764c8","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":1792.0,"y":1504.0},"properties":{"isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"f93503d7-907e-32c3-af9d-c1dd52963ee8","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"faad657d-0fbb-3333-96d2-6e7233f9cb71","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"f00ec997-94b4-3636-834a-ee65fd4f7b5a","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"577062a2-2890-389d-893f-022b971c07c2","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"dc154366-959e-3bc9-9082-e154c3b39c00","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"f00ec997-94b4-3636-834a-ee65fd4f7b5a","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"f93503d7-907e-32c3-af9d-c1dd52963ee8","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"859db51c-f413-33ba-8a25-87b668f7a5b8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"06a7d6bc-e7ab-36a1-822b-78631675de91","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"06a7d6bc-e7ab-36a1-822b-78631675de91","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"a844d076-1992-3171-83b0-8fb8560f7a64","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"577062a2-2890-389d-893f-022b971c07c2","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"06a7d6bc-e7ab-36a1-822b-78631675de91","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"a3c2118d-3ad8-34ff-a397-389de1fcb935","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"c3533fe7-96f6-3786-b7e2-b052a49961c8","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"f00ec997-94b4-3636-834a-ee65fd4f7b5a","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"2d3b1af0-092b-38a9-9843-8414142366ba","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"630421c7-1241-32e5-b3c5-b6d795dc62d0","id":"06a7d6bc-e7ab-36a1-822b-78631675de91","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"c3533fe7-96f6-3786-b7e2-b052a49961c8","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS RESPONSE DEV - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":2048.0,"y":1704.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"06a7d6bc-e7ab-36a1-822b-78631675de91","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"577062a2-2890-389d-893f-022b971c07c2","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":152.0,"y":168.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"f00ec997-94b4-3636-834a-ee65fd4f7b5a","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${DEV_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"630421c7-1241-32e5-b3c5-b6d795dc62d0","identifier":"f93503d7-907e-32c3-af9d-c1dd52963ee8","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1368.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"045e4d56-f46f-38fd-855f-33c9a6bceffc","id":"ae5fb1c5-6471-3b7e-9f2d-2767e285b64b","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"33a6f2f6-dcb8-32d0-b303-e5e1a2bed0ae","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"045e4d56-f46f-38fd-855f-33c9a6bceffc","id":"5e2e35f6-0f96-3da2-b2a2-21f8f53d5af5","name":"start_upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"717bed25-1718-3604-8402-f870aa57030d","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"ea06a665-c6f8-3cab-a011-bb8246c77732","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"045e4d56-f46f-38fd-855f-33c9a6bceffc","id":"ae5fb1c5-6471-3b7e-9f2d-2767e285b64b","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"e3087e0e-1287-3799-9df0-77e1ae65d9ae","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"9d6b8190-3819-3bbd-a32f-d56ad72fc82f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"045e4d56-f46f-38fd-855f-33c9a6bceffc","id":"ae5fb1c5-6471-3b7e-9f2d-2767e285b64b","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"dea0ebee-fabf-3e5a-8c84-1bbeda76ad87","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"0374a489-d199-39da-9c34-1048ce424cd9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"045e4d56-f46f-38fd-855f-33c9a6bceffc","id":"ae5fb1c5-6471-3b7e-9f2d-2767e285b64b","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"5e2e35f6-0f96-3da2-b2a2-21f8f53d5af5","name":"start_upsert","position":{"x":1856.0,"y":1384.0},"type":"INPUT_PORT"}],"labels":[],"name":"NA-Region","outputPorts":[],"position":{"x":2568.0,"y":1704.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"4b2065c5-83da-3edc-858d-d824ddb87ec7","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"31f66f7a-c442-3f9e-8311-4835743e8672","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"f4fcf554-e3fd-391c-917c-a86eb503f084","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"cf0b3689-1db1-3932-8a65-917f65a225c8","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"7f731dcc-2165-319a-ad23-28383c43235b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"f4fcf554-e3fd-391c-917c-a86eb503f084","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"209af16d-d362-3928-98c2-f8c00f25cf83","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"3b6c0f40-8ef4-37f5-91c7-dbfcea3296e1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"e3087e0e-1287-3799-9df0-77e1ae65d9ae","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"209af16d-d362-3928-98c2-f8c00f25cf83","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"46c58ff2-1ced-3f09-ae54-f8bc5aef55ba","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"4b2065c5-83da-3edc-858d-d824ddb87ec7","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"cf0b3689-1db1-3932-8a65-917f65a225c8","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"f0f6baab-3fe1-3598-b843-8c498ff44b66","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"209af16d-d362-3928-98c2-f8c00f25cf83","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"f4fcf554-e3fd-391c-917c-a86eb503f084","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"85cf3ab4-e52b-371f-9fcc-8d02856298a5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","id":"209af16d-d362-3928-98c2-f8c00f25cf83","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"e3087e0e-1287-3799-9df0-77e1ae65d9ae","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":" CMS RESPONSE PROD - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-Prod","position":{"x":1784.0,"y":1736.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"209af16d-d362-3928-98c2-f8c00f25cf83","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"f4fcf554-e3fd-391c-917c-a86eb503f084","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${PROD_NA_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"cf0b3689-1db1-3932-8a65-917f65a225c8","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1376.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8a7b75e4-b1a7-322c-8ab2-06fe761b10fa","identifier":"4b2065c5-83da-3edc-858d-d824ddb87ec7","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"033566c3-1570-35f3-b030-c1038d46caf3","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"4fc00d89-71cb-3443-b1eb-56e7b23009ff","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"59ccbb37-06e0-35b9-8c80-b9c77b3fac2d","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"2d45ccc4-1fa4-3df0-ad33-fe4c6023009e","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"554644a4-09f5-317e-b2f8-8466a758602b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"033566c3-1570-35f3-b030-c1038d46caf3","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"59ccbb37-06e0-35b9-8c80-b9c77b3fac2d","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"5b4485a5-f91a-305a-aaf6-c8f1461321f5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"dea0ebee-fabf-3e5a-8c84-1bbeda76ad87","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"3c7de38a-85f8-3235-a171-c6a6f15bf04c","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"1c40d953-878b-33f3-b0ea-d1eed61276b8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"033566c3-1570-35f3-b030-c1038d46caf3","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"59ccbb37-06e0-35b9-8c80-b9c77b3fac2d","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"0efcc58b-fe8e-3c98-a2d8-8a4e5ba89240","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"2d45ccc4-1fa4-3df0-ad33-fe4c6023009e","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"3c7de38a-85f8-3235-a171-c6a6f15bf04c","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"4f8ca65d-47f6-3ffc-8e3c-9c92ec30c86c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"57a27863-fa73-30d5-8e19-6c685aa26866","id":"59ccbb37-06e0-35b9-8c80-b9c77b3fac2d","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"57a27863-fa73-30d5-8e19-6c685aa26866","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"dea0ebee-fabf-3e5a-8c84-1bbeda76ad87","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS RESPONSE INT - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-Int","position":{"x":1128.0,"y":1696.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"3c7de38a-85f8-3235-a171-c6a6f15bf04c","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1376.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"033566c3-1570-35f3-b030-c1038d46caf3","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${INT_NA_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"2d45ccc4-1fa4-3df0-ad33-fe4c6023009e","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"57a27863-fa73-30d5-8e19-6c685aa26866","identifier":"59ccbb37-06e0-35b9-8c80-b9c77b3fac2d","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"8489d9c6-c96b-3d5e-8ab9-09fc80ba0b85","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"fe56f8e1-9b29-3a24-a336-e7c3be82ea1c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"be3d575b-f256-382d-8696-306b6aa4d448","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"8489d9c6-c96b-3d5e-8ab9-09fc80ba0b85","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"365b6f6c-ba0d-3634-bc24-4235ed57dd8f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"1b493b6f-ab00-3d58-9393-7d30eca95293","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"be3d575b-f256-382d-8696-306b6aa4d448","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"778f6b0f-ffdf-32ba-ba75-54e7ea58a856","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"7c0c7a65-9b37-38d8-9922-628aaef1c043","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"7c0c7a65-9b37-38d8-9922-628aaef1c043","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"9dc16150-d025-34f6-aa2f-477de0e6add2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"1b493b6f-ab00-3d58-9393-7d30eca95293","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"be3d575b-f256-382d-8696-306b6aa4d448","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"fdfcd4ec-99bf-3d6a-be65-0285e600b10f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"717bed25-1718-3604-8402-f870aa57030d","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"1b493b6f-ab00-3d58-9393-7d30eca95293","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"3bbe70a2-0ff1-34f6-9170-ad0f9912b3a8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"26a1180e-dad7-3642-b75d-b13f808973fd","id":"be3d575b-f256-382d-8696-306b6aa4d448","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"26a1180e-dad7-3642-b75d-b13f808973fd","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"717bed25-1718-3604-8402-f870aa57030d","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS RESPONSE E2E - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-E2e","position":{"x":2424.0,"y":1712.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"7c0c7a65-9b37-38d8-9922-628aaef1c043","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"1b493b6f-ab00-3d58-9393-7d30eca95293","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"${E2E_NA_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"8489d9c6-c96b-3d5e-8ab9-09fc80ba0b85","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1376.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26a1180e-dad7-3642-b75d-b13f808973fd","identifier":"be3d575b-f256-382d-8696-306b6aa4d448","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"045e4d56-f46f-38fd-855f-33c9a6bceffc","identifier":"ae5fb1c5-6471-3b7e-9f2d-2767e285b64b","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":1800.0,"y":1504.0},"properties":{"isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"5c1dd511-289f-3b23-b216-e01493bf26d1","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":2064.0,"y":1472.0},"properties":{"isTestEnvironment":"${status:equals('draft')}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"isTestEnvironment":{"displayName":"isTestEnvironment","identifiesControllerService":false,"name":"isTestEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5d81074d-5039-39da-8d24-300d541ee68a","identifier":"a1e6a74b-6346-3e61-883f-b33f6c154d0b","name":"Transform Response","penaltyDuration":"30 sec","position":{"x":2072.0,"y":1272.0},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"replies\": {\n\t\t\t\t\"*\": {\n\t\t\t\t\t\"Replies\": {\n\t\t\t\t\t\t\"*\": {\n\t\t\t\t\t\t\t\"Speak\": \"@(5,version).@(3,Culture)[&1].speak\",\n\t\t\t\t\t\t\t\"Text\": \"@(5,version).@(3,Culture)[&1].text\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b694dc6f-09af-3cd9-ab5e-435593da1a1c","identifier":"016f8fef-7f90-3d83-a1a7-fdb046a35108","name":"Validate by Table Name","penaltyDuration":"30 sec","position":{"x":272.0,"y":960.0},"properties":{"Routing Strategy":"Route to Property name","isAplTable":"${tableName:equals(\"apl\")}","isResponseTable":"${tableName:equals(\"responses\")}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isAplTable":{"displayName":"isAplTable","identifiesControllerService":false,"name":"isAplTable","sensitive":false},"isResponseTable":{"displayName":"isResponseTable","identifiesControllerService":false,"name":"isResponseTable","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},"flowEncodingVersion":"1.0","parameterContexts":{"NA-Prod":{"componentType":"PARAMETER_CONTEXT","name":"NA-Prod","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-us-int"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-na-prod"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"General-Configuration":{"componentType":"PARAMETER_CONTEXT","name":"General-Configuration","parameters":[{"description":"","name":"directus_db_password","provided":false,"sensitive":true},{"description":"","name":"directus_auth_path","provided":false,"sensitive":false,"value":"auth/login"},{"description":"","name":"directus_hostname","provided":false,"sensitive":false,"value":"http://cms-app-v9.cms.svc.cluster.local"},{"description":"","name":"distributed_map_cache_port","provided":false,"sensitive":false,"value":"4557"},{"description":"","name":"directus_token_identifier","provided":false,"sensitive":false,"value":"directus_token"},{"description":"","name":"mysql_db_driver","provided":false,"sensitive":false,"value":"/opt/nifi/nifi-current/ls-target/drivers/mysql-connector-java-8.0.23.jar"},{"description":"","name":"distributed_map_cache_hostname","provided":false,"sensitive":false,"value":"localhost"},{"description":"","name":"directus_cache_identifier","provided":false,"sensitive":false,"value":"directus_auth"},{"description":"","name":"directus_db_user","provided":false,"sensitive":false,"value":"admin"}]},"EU-Int":{"componentType":"PARAMETER_CONTEXT","name":"EU-Int","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-eu-int"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-int"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"NA-Int":{"componentType":"PARAMETER_CONTEXT","name":"NA-Int","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-us-int"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-na-int"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-Develop":{"componentType":"PARAMETER_CONTEXT","name":"EU-Develop","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-eu-test"},{"description":"","name":"aws_credentials","provided":false,"sensitive":false,"value":"/opt/nifi/nifi-current/ls-target/auth/auth_aws"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-test"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-E2e":{"componentType":"PARAMETER_CONTEXT","name":"EU-E2e","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":" alexa-skills-s3bucket-eu-e2e"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-e2e"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"NA-E2e":{"componentType":"PARAMETER_CONTEXT","name":"NA-E2e","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-us-e2e"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-us-e2e"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-Prod":{"componentType":"PARAMETER_CONTEXT","name":"EU-Prod","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-eu-prod"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-prod"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]}},"snapshotMetadata":{"author":"david.lamas@ctw.bmwgroup.com","comments":"Fix issue saving APL when it doesn't include a dollar ($) character","timestamp":1644596715689,"version":4}}