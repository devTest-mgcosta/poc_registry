{"externalControllerServices":{},"flowContents":{"comments":"Delete dynamo db pg.","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e57e2240-f8ea-3507-8952-440645479ae6","id":"7ae6580b-5599-3b65-bd25-13b1fca33c99","name":"Validate by Table Name","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e57e2240-f8ea-3507-8952-440645479ae6","identifier":"db6378b5-694f-38f8-954b-54a74ad1f25f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"e57e2240-f8ea-3507-8952-440645479ae6","id":"8bbd06b6-dd09-3788-a524-31dc6f17ddfc","name":"Start Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"98314500-9f4b-30e3-bf29-9ace6734e504","id":"96084904-c610-3713-8309-9f158776e49d","name":"start_delete_cms_apl","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"e57e2240-f8ea-3507-8952-440645479ae6","identifier":"50bbfdaa-7001-39d3-b65d-2ae2dd9a8428","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isAplTable"],"source":{"comments":"","groupId":"e57e2240-f8ea-3507-8952-440645479ae6","id":"7ae6580b-5599-3b65-bd25-13b1fca33c99","name":"Validate by Table Name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5b859768-bb67-30e2-9307-73e10c3a6e5f","id":"093ffd12-a07f-3e9c-baaa-abd3ff4455bc","name":"start_delete_cms_responses","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"e57e2240-f8ea-3507-8952-440645479ae6","identifier":"1d8660d9-a96c-3e1c-a552-a7956e6d5f10","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isResponseTable"],"source":{"comments":"","groupId":"e57e2240-f8ea-3507-8952-440645479ae6","id":"7ae6580b-5599-3b65-bd25-13b1fca33c99","name":"Validate by Table Name","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"identifier":"e57e2240-f8ea-3507-8952-440645479ae6","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e57e2240-f8ea-3507-8952-440645479ae6","identifier":"8bbd06b6-dd09-3788-a524-31dc6f17ddfc","name":"Start Deletion Proccess","position":{"x":1160.0,"y":376.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb Dataflow","outputPorts":[],"position":{"x":920.0,"y":792.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","id":"3ae7cefe-de8c-3a8c-b5ea-4d95568fcffa","name":"start_delete_cms_responses","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5b859768-bb67-30e2-9307-73e10c3a6e5f","identifier":"1e63a52e-5263-3e15-b842-1ab45e3181b1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5b859768-bb67-30e2-9307-73e10c3a6e5f","id":"093ffd12-a07f-3e9c-baaa-abd3ff4455bc","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"dd895457-c874-33e3-8e83-c62d322dbb19","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5b859768-bb67-30e2-9307-73e10c3a6e5f","identifier":"a80cfad1-b19c-35cf-84f7-821ce0d27605","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"5b859768-bb67-30e2-9307-73e10c3a6e5f","id":"093ffd12-a07f-3e9c-baaa-abd3ff4455bc","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","id":"f2118af6-92f4-3ffe-a768-9bb996e20f9c","name":"start_delete_cms_responses","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5b859768-bb67-30e2-9307-73e10c3a6e5f","identifier":"ffec9e6e-f65a-3ec0-9c47-af85afc1cb57","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5b859768-bb67-30e2-9307-73e10c3a6e5f","id":"093ffd12-a07f-3e9c-baaa-abd3ff4455bc","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"e57e2240-f8ea-3507-8952-440645479ae6","identifier":"5b859768-bb67-30e2-9307-73e10c3a6e5f","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5b859768-bb67-30e2-9307-73e10c3a6e5f","identifier":"093ffd12-a07f-3e9c-baaa-abd3ff4455bc","name":"start_delete_cms_responses","position":{"x":-552.0,"y":1192.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Response","outputPorts":[],"position":{"x":768.0,"y":760.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"9ab01ff6-90a4-3def-956e-aec172b329e6","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","identifier":"54ccd405-7d8c-31b2-901d-9ca8eb0326c6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","id":"f2118af6-92f4-3ffe-a768-9bb996e20f9c","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"a1db31f9-195e-3de4-8511-7991d1bcf25e","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","identifier":"5282189c-36b4-36d9-b5f5-d195d5c88a0d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","id":"f2118af6-92f4-3ffe-a768-9bb996e20f9c","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"1f621bd1-4f63-3e15-a2cf-cb611e1bd35c","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","identifier":"7f4154aa-7648-3374-a778-d6b84aa73765","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","id":"f2118af6-92f4-3ffe-a768-9bb996e20f9c","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5b859768-bb67-30e2-9307-73e10c3a6e5f","identifier":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","identifier":"f2118af6-92f4-3ffe-a768-9bb996e20f9c","name":"start_delete_cms_responses","position":{"x":912.0,"y":48.0},"type":"INPUT_PORT"}],"labels":[],"name":"EU-REGION","outputPorts":[],"position":{"x":-1232.0,"y":1424.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"58a69b71-75b3-3840-ae40-af06e40d9ce2","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"c48be593-8428-3ce3-9993-b5d20ae7cea1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"683aebd0-4874-33c2-a454-5580f1569686","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"683aebd0-4874-33c2-a454-5580f1569686","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"772d9105-2d2f-3f9e-8371-f24edf574668","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"10204eff-cf26-3992-b4b3-8cb51cc9a2c2","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"fa0c5e1d-46a1-3e11-8dd7-cee45b1cfd4b","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"79ac57ba-98de-376a-947a-f9e40a55748a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"683aebd0-4874-33c2-a454-5580f1569686","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"10204eff-cf26-3992-b4b3-8cb51cc9a2c2","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"e713b55f-a1f6-3c1a-8427-e9936d217878","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"9ab01ff6-90a4-3def-956e-aec172b329e6","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"10204eff-cf26-3992-b4b3-8cb51cc9a2c2","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"082e474c-ba9a-3e2a-be31-f9480ea86195","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"fa0c5e1d-46a1-3e11-8dd7-cee45b1cfd4b","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"58a69b71-75b3-3840-ae40-af06e40d9ce2","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"1281e938-66c6-3014-96a1-8117d5ae18de","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","id":"10204eff-cf26-3992-b4b3-8cb51cc9a2c2","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","identifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"9ab01ff6-90a4-3def-956e-aec172b329e6","name":"Start Controlled Deletion","position":{"x":816.0,"y":-168.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response PROD","outputPorts":[],"parameterContextName":"EU-Prod","position":{"x":840.0,"y":408.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"58a69b71-75b3-3840-ae40-af06e40d9ce2","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1384.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"683aebd0-4874-33c2-a454-5580f1569686","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${PROD_EU_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"fa0c5e1d-46a1-3e11-8dd7-cee45b1cfd4b","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e2bf4830-7547-3f08-bec7-cc79c6b7fb5b","identifier":"10204eff-cf26-3992-b4b3-8cb51cc9a2c2","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"f501c396-b6d5-3f95-a0a4-969670ed15b7","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"adfdc2d5-d428-33a6-9ad8-67237805ca10","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"a1db31f9-195e-3de4-8511-7991d1bcf25e","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"0a889390-cfc5-3b0b-b0f7-29a2412ca24c","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"d4893242-f10e-37e9-aad0-21c809a70508","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"0cd26cc0-8891-3683-a47b-59c10ec3957f","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"0a889390-cfc5-3b0b-b0f7-29a2412ca24c","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"80d49316-01be-347d-9e3d-ec45925c552f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"f501c396-b6d5-3f95-a0a4-969670ed15b7","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"0cd26cc0-8891-3683-a47b-59c10ec3957f","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"8a185881-71da-3ff0-8286-0d93fa60073a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"f501c396-b6d5-3f95-a0a4-969670ed15b7","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"f501c396-b6d5-3f95-a0a4-969670ed15b7","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"4fa9c90c-4cd3-333b-9e1d-8926fd989413","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"07dc20ff-95c4-3511-8258-42f6f193a1e7","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"07dc20ff-95c4-3511-8258-42f6f193a1e7","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"900e4a4b-6443-3b4a-9bd1-dc9ab8d8400c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"5ddd9835-64e1-3f75-8025-1efdd81300cf","id":"0cd26cc0-8891-3683-a47b-59c10ec3957f","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","identifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"a1db31f9-195e-3de4-8511-7991d1bcf25e","name":"Start Controlled Deletion","position":{"x":816.0,"y":-168.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response INT","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":240.0,"y":336.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"0a889390-cfc5-3b0b-b0f7-29a2412ca24c","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1384.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"0cd26cc0-8891-3683-a47b-59c10ec3957f","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${INT_EU_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"f501c396-b6d5-3f95-a0a4-969670ed15b7","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ddd9835-64e1-3f75-8025-1efdd81300cf","identifier":"07dc20ff-95c4-3511-8258-42f6f193a1e7","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"ed9b43ad-d269-3ff7-8857-d8d558827f85","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"565d4b27-95a0-336a-a15a-b945b28dd042","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"3bb9b1ff-3fda-3e1e-bcff-bfe34b5c999d","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"3372edff-8b97-3599-aa6c-f9e8d3e1c802","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"300a69be-6112-3283-a33a-01644e4b29b8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"c4a1d3e2-2768-33b1-8829-113d9b5728ce","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"3bb9b1ff-3fda-3e1e-bcff-bfe34b5c999d","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"4c621b52-2eca-300a-abb6-3ef280b8f0dc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"c4a1d3e2-2768-33b1-8829-113d9b5728ce","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"c4a1d3e2-2768-33b1-8829-113d9b5728ce","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"fe653b96-1b8d-3d56-a6f6-8b700e224a02","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"1f621bd1-4f63-3e15-a2cf-cb611e1bd35c","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"c4a1d3e2-2768-33b1-8829-113d9b5728ce","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"288f69c4-dd7d-35b9-952e-22191b9a564b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"ed9b43ad-d269-3ff7-8857-d8d558827f85","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"3372edff-8b97-3599-aa6c-f9e8d3e1c802","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"52d54dad-f824-3a02-a902-61edd4ba8800","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"40288b26-fdc6-3ed6-a305-82569dfec411","id":"3bb9b1ff-3fda-3e1e-bcff-bfe34b5c999d","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"e662d8b4-a0dc-35ff-a6f9-85e9b1fbc542","identifier":"40288b26-fdc6-3ed6-a305-82569dfec411","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"1f621bd1-4f63-3e15-a2cf-cb611e1bd35c","name":"Start Controlled Deletion","position":{"x":816.0,"y":-168.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response E2E","outputPorts":[],"parameterContextName":"EU-E2e","position":{"x":1472.0,"y":344.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"ed9b43ad-d269-3ff7-8857-d8d558827f85","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"3bb9b1ff-3fda-3e1e-bcff-bfe34b5c999d","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${E2E_EU_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"c4a1d3e2-2768-33b1-8829-113d9b5728ce","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"40288b26-fdc6-3ed6-a305-82569dfec411","identifier":"3372edff-8b97-3599-aa6c-f9e8d3e1c802","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1384.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"d1c74621-b635-3bfc-b849-bd463a9a87b3","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","identifier":"425ea041-6dfb-3fc0-83f3-5f1c83005bc8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","id":"3ae7cefe-de8c-3a8c-b5ea-4d95568fcffa","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"d2dfad47-55d0-3c38-9d7a-63116c551b35","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","identifier":"c093ede1-1f18-3dc6-9370-a2bfdb91dd3c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","id":"3ae7cefe-de8c-3a8c-b5ea-4d95568fcffa","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"9033fdbc-073a-3e2a-a8a6-c2826106d0d7","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","identifier":"527cc149-fc06-357b-8fa1-3052cab8c693","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","id":"3ae7cefe-de8c-3a8c-b5ea-4d95568fcffa","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5b859768-bb67-30e2-9307-73e10c3a6e5f","identifier":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","identifier":"3ae7cefe-de8c-3a8c-b5ea-4d95568fcffa","name":"start_delete_cms_responses","position":{"x":856.0,"y":16.0},"type":"INPUT_PORT"}],"labels":[],"name":"NA-REGION","outputPorts":[],"position":{"x":-16.0,"y":1424.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"4e49951c-8647-345f-ae4e-541af2310b41","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"39a17253-dda7-3898-8d47-ee96cd57e157","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"96d4ea7c-9043-349a-b201-5d5d0cc204e8","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"e4780254-3ea7-3cfc-941f-b421814a7ab1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"38b42b36-f973-35aa-802f-cf781b6985dd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"d2dfad47-55d0-3c38-9d7a-63116c551b35","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"64e4df73-c583-3167-a763-161654c8510e","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"c249e9d7-e74a-3fe9-aca5-7ae5b5b2c71d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"96d4ea7c-9043-349a-b201-5d5d0cc204e8","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"e4780254-3ea7-3cfc-941f-b421814a7ab1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"813162ac-f489-39b4-aad4-080a3f2e818c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"64e4df73-c583-3167-a763-161654c8510e","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"4e49951c-8647-345f-ae4e-541af2310b41","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"c1123285-d1a0-33bd-b04f-eb1c8c59f0fb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"e4780254-3ea7-3cfc-941f-b421814a7ab1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"96d4ea7c-9043-349a-b201-5d5d0cc204e8","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"32f1997a-c678-329d-bf3f-20fc8755608c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","id":"e4780254-3ea7-3cfc-941f-b421814a7ab1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","identifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"d2dfad47-55d0-3c38-9d7a-63116c551b35","name":"Start Controlled Deletion","position":{"x":816.0,"y":-168.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response E2E","outputPorts":[],"parameterContextName":"NA-E2e","position":{"x":1360.0,"y":328.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"96d4ea7c-9043-349a-b201-5d5d0cc204e8","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${E2E_NA_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"e4780254-3ea7-3cfc-941f-b421814a7ab1","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"4e49951c-8647-345f-ae4e-541af2310b41","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1384.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"fc762a36-0a31-37db-bdbc-e5aa8f5281e8","identifier":"64e4df73-c583-3167-a763-161654c8510e","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"93652a36-a957-39c4-a74c-a1fe40622773","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"aab409b5-f000-3c8c-9c2d-248f9db3fe59","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"0d5990af-9b0c-387b-b73e-0f396d1e50f1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"dd187c46-e578-3349-a9d5-0360293afc6a","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"47deec2e-fd83-3a7b-b9d9-2b0e7b377e8c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"f5f32604-e99b-3212-b6df-31db186f621c","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"93652a36-a957-39c4-a74c-a1fe40622773","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"f64df5d9-1cd8-3bd7-b3ca-67ae371d374c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"f5f32604-e99b-3212-b6df-31db186f621c","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"f5f32604-e99b-3212-b6df-31db186f621c","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"c27aa252-dce0-3da7-a2c1-bca59b9c8e28","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"0d5990af-9b0c-387b-b73e-0f396d1e50f1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"0d5990af-9b0c-387b-b73e-0f396d1e50f1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"5139ab99-f567-3c4d-a4da-f7e258895bdb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"d1c74621-b635-3bfc-b849-bd463a9a87b3","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"0d5990af-9b0c-387b-b73e-0f396d1e50f1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"57ee9a47-32ec-34c4-8b4c-a499a1d4de06","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"69b4d7c9-743c-3230-9937-e21f3399f596","id":"dd187c46-e578-3349-a9d5-0360293afc6a","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","identifier":"69b4d7c9-743c-3230-9937-e21f3399f596","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"d1c74621-b635-3bfc-b849-bd463a9a87b3","name":"Start Controlled Deletion","position":{"x":816.0,"y":-168.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response INT","outputPorts":[],"parameterContextName":"NA-Int","position":{"x":176.0,"y":336.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"dd187c46-e578-3349-a9d5-0360293afc6a","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"f5f32604-e99b-3212-b6df-31db186f621c","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${INT_NA_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"0d5990af-9b0c-387b-b73e-0f396d1e50f1","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"69b4d7c9-743c-3230-9937-e21f3399f596","identifier":"93652a36-a957-39c4-a74c-a1fe40622773","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1384.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"bae7f0e6-8f20-3a10-8a97-77fcfa1442a4","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"df23b07c-2d8c-302c-8036-4f3c67fecbaa","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"10d37a7c-abcd-309a-afa0-101c82d2efa0","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"c69fb03e-4a26-3c3d-831b-7039b299a95e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"a31c365b-8f6f-3077-afb4-e9701b620561","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"bae7f0e6-8f20-3a10-8a97-77fcfa1442a4","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"68ac9e1b-804a-3f47-a790-771749ef2e91","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"1fe6a973-44f8-38da-9379-0bc8f5966907","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"c69fb03e-4a26-3c3d-831b-7039b299a95e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"c69fb03e-4a26-3c3d-831b-7039b299a95e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"5561bfdd-67a0-3eb2-b207-42975ed9aed9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"9033fdbc-073a-3e2a-a8a6-c2826106d0d7","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"68ac9e1b-804a-3f47-a790-771749ef2e91","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"5c582c31-33b7-3ba7-85c5-5a09a62c0cc7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"10d37a7c-abcd-309a-afa0-101c82d2efa0","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"10d37a7c-abcd-309a-afa0-101c82d2efa0","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"d04432d2-11e8-3fb5-84f0-cd0a93049016","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"06855349-4719-37fb-9f0c-deaeac38a4ed","id":"c69fb03e-4a26-3c3d-831b-7039b299a95e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"fb55dd2a-4eb7-3b08-ab56-710885b84c4c","identifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"9033fdbc-073a-3e2a-a8a6-c2826106d0d7","name":"Start Controlled Deletion","position":{"x":816.0,"y":-168.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response PROD","outputPorts":[],"parameterContextName":"NA-Prod","position":{"x":784.0,"y":408.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"10d37a7c-abcd-309a-afa0-101c82d2efa0","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${PROD_NA_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"bae7f0e6-8f20-3a10-8a97-77fcfa1442a4","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"c69fb03e-4a26-3c3d-831b-7039b299a95e","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"06855349-4719-37fb-9f0c-deaeac38a4ed","identifier":"68ac9e1b-804a-3f47-a790-771749ef2e91","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1384.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"be11ef86-c899-3701-b5dc-55fdb203f151","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"db455219-a887-30aa-97e1-e12f299f9723","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"6a55cc2a-d49a-3a72-ae9d-ad1f11e4da10","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"ba3794d4-ce9a-34d9-8807-e0850c0d7810","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"bd554b7e-1c60-30dd-9039-c88d2d092555","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"6a55cc2a-d49a-3a72-ae9d-ad1f11e4da10","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"ba3794d4-ce9a-34d9-8807-e0850c0d7810","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"ab28e9f4-9583-34fe-a036-15b6b3d45aa4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"be11ef86-c899-3701-b5dc-55fdb203f151","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"6a55cc2a-d49a-3a72-ae9d-ad1f11e4da10","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"fb8bd7ae-a7e8-3b6d-b2b7-eaa607bff3a1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"b707aa68-a713-3cf1-82e2-c2f4b2739744","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"b707aa68-a713-3cf1-82e2-c2f4b2739744","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"8540693d-a2ae-3500-bd7c-2546fe727c0d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"be11ef86-c899-3701-b5dc-55fdb203f151","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"6a55cc2a-d49a-3a72-ae9d-ad1f11e4da10","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"9aab6a15-cff0-37be-9f77-2ec7fd3a8347","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","id":"dd895457-c874-33e3-8e83-c62d322dbb19","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"5b859768-bb67-30e2-9307-73e10c3a6e5f","identifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"dd895457-c874-33e3-8e83-c62d322dbb19","name":"Start Controlled Deletion","position":{"x":816.0,"y":-176.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response DEV","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-624.0,"y":1424.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"b707aa68-a713-3cf1-82e2-c2f4b2739744","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"ba3794d4-ce9a-34d9-8807-e0850c0d7810","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1352.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"be11ef86-c899-3701-b5dc-55fdb203f151","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${DEV_DYNAMO_DB_ENV}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ffb9b85-2b9b-329a-9ad0-f113f00d142c","identifier":"6a55cc2a-d49a-3a72-ae9d-ad1f11e4da10","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","id":"7234b175-82e6-31df-b7e2-86f317afcf36","name":"start_delete_cms_apl","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"98314500-9f4b-30e3-bf29-9ace6734e504","identifier":"ecb64e45-bd07-3a76-b050-06e388bcef61","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"98314500-9f4b-30e3-bf29-9ace6734e504","id":"96084904-c610-3713-8309-9f158776e49d","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"940f6c80-0c5c-3b6a-acfa-85919b38736d","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"98314500-9f4b-30e3-bf29-9ace6734e504","identifier":"41c890fd-0fb8-39bb-b21b-f0c503c84a94","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"98314500-9f4b-30e3-bf29-9ace6734e504","id":"96084904-c610-3713-8309-9f158776e49d","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0516053d-b4be-3928-a36a-970ec8e4d4af","id":"bb05379b-c337-3b59-868e-f10ca273b382","name":"start_delete_cms_apl","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"98314500-9f4b-30e3-bf29-9ace6734e504","identifier":"e654d38c-d52e-3297-97ca-f2798526f0a5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"98314500-9f4b-30e3-bf29-9ace6734e504","id":"96084904-c610-3713-8309-9f158776e49d","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"e57e2240-f8ea-3507-8952-440645479ae6","identifier":"98314500-9f4b-30e3-bf29-9ace6734e504","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"98314500-9f4b-30e3-bf29-9ace6734e504","identifier":"96084904-c610-3713-8309-9f158776e49d","name":"start_delete_cms_apl","position":{"x":584.0,"y":1312.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL","outputPorts":[],"position":{"x":1392.0,"y":760.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"bfc543f6-8496-3d47-a44f-e52c53c55189","name":"start_deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0516053d-b4be-3928-a36a-970ec8e4d4af","identifier":"9c3ea062-c405-3d78-b1bd-b8d4c201c50d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"0516053d-b4be-3928-a36a-970ec8e4d4af","id":"bb05379b-c337-3b59-868e-f10ca273b382","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"95345bc1-5b1a-3705-a9f1-67dcd3ffb802","name":"start_deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0516053d-b4be-3928-a36a-970ec8e4d4af","identifier":"52d2a534-71e6-3f67-8ce2-fbf56379fe89","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"0516053d-b4be-3928-a36a-970ec8e4d4af","id":"bb05379b-c337-3b59-868e-f10ca273b382","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"7b46632a-9a8c-3906-90e9-ef24ee19d4e4","name":"start_deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0516053d-b4be-3928-a36a-970ec8e4d4af","identifier":"6ae3f7ab-5b9d-392a-90dc-65f25aa3e8ea","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"0516053d-b4be-3928-a36a-970ec8e4d4af","id":"bb05379b-c337-3b59-868e-f10ca273b382","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"98314500-9f4b-30e3-bf29-9ace6734e504","identifier":"0516053d-b4be-3928-a36a-970ec8e4d4af","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"0516053d-b4be-3928-a36a-970ec8e4d4af","identifier":"bb05379b-c337-3b59-868e-f10ca273b382","name":"start_delete_cms_apl","position":{"x":680.0,"y":16.0},"type":"INPUT_PORT"}],"labels":[],"name":"EU-Region","outputPorts":[],"position":{"x":-96.0,"y":1512.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"3a62f962-8bd4-35ba-912e-f72f7b619688","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"4c31610f-c0a6-3172-9c41-7fbe0eb6a0f5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"a8d11fd8-bd5f-30ff-9935-05b33bb68e4a","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"a8d11fd8-bd5f-30ff-9935-05b33bb68e4a","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"757c6e3c-8d25-3026-859d-316eb78efd07","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"bfc543f6-8496-3d47-a44f-e52c53c55189","name":"start_deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"a8d11fd8-bd5f-30ff-9935-05b33bb68e4a","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"7b87ff5c-3deb-3228-aa2c-95e552d8de22","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"928ff512-228c-3b04-ae28-6a5f5fc1722d","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"684461a5-0be5-394a-9683-16bd5fb15b02","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"598a125c-fddc-35cf-a371-4d5659cbb727","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","not found"],"source":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"a8d11fd8-bd5f-30ff-9935-05b33bb68e4a","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"9e212df5-e3a1-3815-b430-fc9c043d65cb","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"0d6d9179-1e7b-31df-8086-7222e0c7ffbc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"a8d11fd8-bd5f-30ff-9935-05b33bb68e4a","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"928ff512-228c-3b04-ae28-6a5f5fc1722d","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"735a22af-2c37-355f-9a92-af2881034fb2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"227fa6d2-47fd-346f-8ee2-3323a1700e41","id":"a8d11fd8-bd5f-30ff-9935-05b33bb68e4a","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"0516053d-b4be-3928-a36a-970ec8e4d4af","identifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"bfc543f6-8496-3d47-a44f-e52c53c55189","name":"start_deletion","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL PROD","outputPorts":[],"parameterContextName":"EU-Prod","position":{"x":608.0,"y":328.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"1806a5b6-0970-34db-9025-4ef14f95a463","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"8194fc82-a461-3e86-9ad7-88e477438101","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"9e212df5-e3a1-3815-b430-fc9c043d65cb","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"1806a5b6-0970-34db-9025-4ef14f95a463","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"8fbfec3c-ba73-30d1-b259-9034d8c87126","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"1d3d0a8b-be67-3369-83c6-79e5354406d2","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"7d32e187-ff1d-32ad-9b73-34671f31ace2","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"7cfdee10-0d9a-3914-9482-40caf5710a3a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"1806a5b6-0970-34db-9025-4ef14f95a463","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"a15a1300-0dd7-35c9-89b7-78376918e4df","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"eb099a60-4dce-36ac-ba25-2033bdd3d667","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"29afeb24-3842-3160-b665-c10ed5579719","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"29afeb24-3842-3160-b665-c10ed5579719","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"a744ec66-cc77-3564-8017-2173c4936d31","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"7d32e187-ff1d-32ad-9b73-34671f31ace2","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"1d3d0a8b-be67-3369-83c6-79e5354406d2","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"08caec62-d56e-3c48-b22a-6eca9cceb3bb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"7d32e187-ff1d-32ad-9b73-34671f31ace2","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"29afeb24-3842-3160-b665-c10ed5579719","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"2dc47e2a-07e8-346e-89ba-bc44fbb66743","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"c7871e65-8198-3afa-9f4d-64e817a76b08","id":"1806a5b6-0970-34db-9025-4ef14f95a463","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"29afeb24-3842-3160-b665-c10ed5579719","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"9e212df5-e3a1-3815-b430-fc9c043d65cb","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"EU-Prod","position":{"x":-1240.0,"y":1592.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"7d32e187-ff1d-32ad-9b73-34671f31ace2","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${PROD_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"1d3d0a8b-be67-3369-83c6-79e5354406d2","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"1806a5b6-0970-34db-9025-4ef14f95a463","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c7871e65-8198-3afa-9f4d-64e817a76b08","identifier":"a15a1300-0dd7-35c9-89b7-78376918e4df","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1688.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"be06adb1-8263-3909-b74c-270555382e1c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"121f2c30-c932-3a4c-8a03-0c6aff00316d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"313a45a6-b5c4-3c5e-9232-2ff51e48cb7f","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"b383624c-2a03-328d-9ad0-91c6b39ccec3","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"17c33136-166c-36f9-bc2b-d61d7b7fcf8f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"be06adb1-8263-3909-b74c-270555382e1c","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"7b2a7ed0-fe05-3013-9686-a1647dedd544","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"9070ab54-68e1-3a6b-858f-3698adc434b9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"3a62f962-8bd4-35ba-912e-f72f7b619688","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"be06adb1-8263-3909-b74c-270555382e1c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"bf9542df-bf1c-316d-9fef-9f289fd7bfc3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"7b2a7ed0-fe05-3013-9686-a1647dedd544","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"be06adb1-8263-3909-b74c-270555382e1c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"7e043ea9-123b-3e8a-91df-b9644349d2a0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"08acb4da-fdf3-3506-8383-2170725773cc","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"c6f60b7a-f529-3291-a84b-c87556b1c28e","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"d314d500-2627-3866-81d8-77560366d0fb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"313a45a6-b5c4-3c5e-9232-2ff51e48cb7f","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"08acb4da-fdf3-3506-8383-2170725773cc","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"00d3ecc2-90a3-3938-8068-638eaec34a39","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"7b2a7ed0-fe05-3013-9686-a1647dedd544","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"313a45a6-b5c4-3c5e-9232-2ff51e48cb7f","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"4c6292c5-5bdc-3e0f-bd36-a5f819e21c21","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"cc87ca98-28a5-3bce-895c-05652feb3764","id":"08acb4da-fdf3-3506-8383-2170725773cc","name":"SplitJson","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"be06adb1-8263-3909-b74c-270555382e1c","position":{"x":-272.0,"y":1104.0}}],"groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"cc87ca98-28a5-3bce-895c-05652feb3764","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"3a62f962-8bd4-35ba-912e-f72f7b619688","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"b5b076d1-d778-39ce-8946-e225131a41e3","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"65abd866-8630-3349-82c2-b4a7bd397676","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"f73be2e8-7ab9-34cb-8f19-ecc875d7833c","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"db86e0e6-6055-34e8-b46b-e346575eb7e3","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"691056d5-c5f8-3d10-ac5c-eba1afbe9e77","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"29d73677-8cd9-3b5a-ada3-e150c1acad54","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"29d73677-8cd9-3b5a-ada3-e150c1acad54","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"f13d35ea-6b7d-3769-8fae-f171f3c55890","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"61efdabe-98ad-3504-bc3b-73a66bf5fd75","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"61efdabe-98ad-3504-bc3b-73a66bf5fd75","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"6fb9457b-8b9b-3966-aa56-d23a10a7b383","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"db86e0e6-6055-34e8-b46b-e346575eb7e3","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"f73be2e8-7ab9-34cb-8f19-ecc875d7833c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"e7205408-d2c1-324a-a378-ca894f28ce42","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"61efdabe-98ad-3504-bc3b-73a66bf5fd75","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"61efdabe-98ad-3504-bc3b-73a66bf5fd75","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"f6b9853b-7c57-38dc-af5c-5995c55168df","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"c6f60b7a-f529-3291-a84b-c87556b1c28e","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"f73be2e8-7ab9-34cb-8f19-ecc875d7833c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"ec28f8ab-9c3b-3494-a004-a6510021b2b4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"d70a07b5-367d-3187-8bca-7e9830e7589a","id":"29d73677-8cd9-3b5a-ada3-e150c1acad54","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"f73be2e8-7ab9-34cb-8f19-ecc875d7833c","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"c6f60b7a-f529-3291-a84b-c87556b1c28e","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Prod","position":{"x":-1040.0,"y":1568.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"61efdabe-98ad-3504-bc3b-73a66bf5fd75","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"b5b076d1-d778-39ce-8946-e225131a41e3","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1616.0,"y":56.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"29d73677-8cd9-3b5a-ada3-e150c1acad54","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${PROD_EU_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d70a07b5-367d-3187-8bca-7e9830e7589a","identifier":"db86e0e6-6055-34e8-b46b-e346575eb7e3","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"313a45a6-b5c4-3c5e-9232-2ff51e48cb7f","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"08acb4da-fdf3-3506-8383-2170725773cc","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"b383624c-2a03-328d-9ad0-91c6b39ccec3","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":56.0,"y":1080.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cc87ca98-28a5-3bce-895c-05652feb3764","identifier":"7b2a7ed0-fe05-3013-9686-a1647dedd544","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"a8d11fd8-bd5f-30ff-9935-05b33bb68e4a","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"${PROD_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"928ff512-228c-3b04-ae28-6a5f5fc1722d","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"227fa6d2-47fd-346f-8ee2-3323a1700e41","identifier":"684461a5-0be5-394a-9683-16bd5fb15b02","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-328.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"3916205a-fce8-3031-846c-566c51cbcc29","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"11072c85-5aed-37c8-9e13-ea20718138ee","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"f1ec37d0-f016-3bf3-a127-662c40c08461","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"378a1495-2fd8-31c0-b738-db3d793487ff","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"8b5fdbf1-498e-338c-b40b-950e78b54ed7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","not found"],"source":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"f1ec37d0-f016-3bf3-a127-662c40c08461","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"f1ec37d0-f016-3bf3-a127-662c40c08461","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"451f8de5-4d0a-3f56-aab6-c6d337cf8c62","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"7b46632a-9a8c-3906-90e9-ef24ee19d4e4","name":"start_deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"f1ec37d0-f016-3bf3-a127-662c40c08461","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"c2f4e96c-57bc-3054-9871-5a422d125c02","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"c5e5ceeb-4410-3152-b7c3-06e2896fad67","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"c5e5ceeb-4410-3152-b7c3-06e2896fad67","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"1f007cdf-7c4f-3c66-9255-b7ffb3f2e973","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"f1ec37d0-f016-3bf3-a127-662c40c08461","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"93672c28-f354-34e2-85bf-065d024b3356","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"d41f8d89-6841-3a18-8992-acc0918a9b2a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"67a2cb36-6322-3083-9906-0b30db4af9d7","id":"f1ec37d0-f016-3bf3-a127-662c40c08461","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"0516053d-b4be-3928-a36a-970ec8e4d4af","identifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"7b46632a-9a8c-3906-90e9-ef24ee19d4e4","name":"start_deletion","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL E2E","outputPorts":[],"parameterContextName":"EU-E2e","position":{"x":1200.0,"y":328.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"ed197b76-bb9e-3e68-a4fe-aec32a83626e","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"a6388ad1-28d8-3a18-9c0c-cb98b722cffe","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"a185b5ce-1852-3648-b1fc-c05c7c4aa499","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"d01a4bcf-01e4-32fd-a85c-2f0cc6d34d89","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"1af4a468-c66c-344d-9bf8-867147ded1f2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"363f23c6-1a25-3a39-922c-9b9cdbd53b80","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"a185b5ce-1852-3648-b1fc-c05c7c4aa499","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"292b551e-720b-3d57-958c-90027bf7151a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"93672c28-f354-34e2-85bf-065d024b3356","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"986827fd-d048-30ab-b84d-03e521d27872","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"871c3b0a-f85f-3612-a78f-003ae7c55e19","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"29bfd291-a7b3-320a-9154-09f8570d21d2","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"363f23c6-1a25-3a39-922c-9b9cdbd53b80","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"79864689-6cc2-3018-bc76-05aebc69370e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"ed197b76-bb9e-3e68-a4fe-aec32a83626e","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"29bfd291-a7b3-320a-9154-09f8570d21d2","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"4caca90b-fa6d-3a6d-80bf-9431f9eecbc4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"a185b5ce-1852-3648-b1fc-c05c7c4aa499","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"29bfd291-a7b3-320a-9154-09f8570d21d2","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"6679bac8-8aaf-30e1-ac95-c9184f1f06d8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"363f23c6-1a25-3a39-922c-9b9cdbd53b80","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"29bfd291-a7b3-320a-9154-09f8570d21d2","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"7ea2e303-4db5-399e-9dd5-6ab8114045fc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"04e84fc0-ca87-3686-98c8-0f156e901d1b","id":"ed197b76-bb9e-3e68-a4fe-aec32a83626e","name":"SplitJson","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"29bfd291-a7b3-320a-9154-09f8570d21d2","position":{"x":-272.0,"y":1104.0}}],"groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"93672c28-f354-34e2-85bf-065d024b3356","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"2b1f9096-85e5-3f33-8b37-1fc1457f36dd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"32dd47a8-159c-3796-a207-a829551095c8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"5e936113-8d85-39af-a99c-77b09e034867","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"2b1f9096-85e5-3f33-8b37-1fc1457f36dd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"c39e3817-b9b1-3e09-84aa-7d5c68800693","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"54cebc2d-3ebc-3664-99e1-362ea44fb56b","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"54cebc2d-3ebc-3664-99e1-362ea44fb56b","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"c35ff673-aa6c-3821-8434-c04f191fed67","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"128ee85d-d3b6-39f2-b600-c80c6a07f840","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"857a6979-b95c-3f66-9469-e1e773fa09ac","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"03e42eba-25b0-3a30-ac4b-60f0b2a13375","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"2b1f9096-85e5-3f33-8b37-1fc1457f36dd","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"128ee85d-d3b6-39f2-b600-c80c6a07f840","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"0ce6a1e8-f8f0-341d-9dc9-775d22fdeb12","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"5e936113-8d85-39af-a99c-77b09e034867","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"5e936113-8d85-39af-a99c-77b09e034867","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"e18e1b12-8efb-3a45-8509-e79943ff53b6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"54cebc2d-3ebc-3664-99e1-362ea44fb56b","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"54cebc2d-3ebc-3664-99e1-362ea44fb56b","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"ad6862ec-427b-3cd3-be46-84e626e1af9e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"19b7859f-e3d0-3119-a079-206fdcc93ec5","id":"d01a4bcf-01e4-32fd-a85c-2f0cc6d34d89","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"2b1f9096-85e5-3f33-8b37-1fc1457f36dd","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"d01a4bcf-01e4-32fd-a85c-2f0cc6d34d89","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-E2e","position":{"x":-1040.0,"y":1568.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"54cebc2d-3ebc-3664-99e1-362ea44fb56b","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"857a6979-b95c-3f66-9469-e1e773fa09ac","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1616.0,"y":56.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"128ee85d-d3b6-39f2-b600-c80c6a07f840","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"19b7859f-e3d0-3119-a079-206fdcc93ec5","identifier":"5e936113-8d85-39af-a99c-77b09e034867","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${E2E_EU_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"363f23c6-1a25-3a39-922c-9b9cdbd53b80","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"986827fd-d048-30ab-b84d-03e521d27872","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":56.0,"y":1080.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"a185b5ce-1852-3648-b1fc-c05c7c4aa499","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"04e84fc0-ca87-3686-98c8-0f156e901d1b","identifier":"ed197b76-bb9e-3e68-a4fe-aec32a83626e","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"ad914738-7f81-346a-b9cc-8f0f4cc34a0e","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"b00d8c5a-5c08-3f6c-ba62-196879d5c9a3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"41874f10-0566-307d-86de-94b7789bd53b","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"c776acf3-400c-38a4-9a1e-69bb3e307017","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"45b1d617-b558-3dd9-8ff9-c588c857d412","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"cc2aacf8-7f90-3b82-a062-faf1f820fcd3","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"41874f10-0566-307d-86de-94b7789bd53b","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"504f1ac5-3925-3dc1-844a-e62760b5f47c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"3916205a-fce8-3031-846c-566c51cbcc29","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"cc2aacf8-7f90-3b82-a062-faf1f820fcd3","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"890d0cca-940d-3c65-a384-424efbf55f92","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"ad914738-7f81-346a-b9cc-8f0f4cc34a0e","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"cc2aacf8-7f90-3b82-a062-faf1f820fcd3","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"eca87815-7ac3-3a85-b59f-b126019ae583","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"41874f10-0566-307d-86de-94b7789bd53b","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"41874f10-0566-307d-86de-94b7789bd53b","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"3dfcb412-aab4-3aff-8ee4-65b29bdb8967","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"a5dbf609-0fcc-30ee-be34-0212e36b0ddb","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"a5dbf609-0fcc-30ee-be34-0212e36b0ddb","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"bd0a2715-10dd-3182-9c68-4de58428cdcb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","id":"ad914738-7f81-346a-b9cc-8f0f4cc34a0e","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"cc2aacf8-7f90-3b82-a062-faf1f820fcd3","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"3916205a-fce8-3031-846c-566c51cbcc29","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"EU-E2e","position":{"x":-1240.0,"y":1592.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"a5dbf609-0fcc-30ee-be34-0212e36b0ddb","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"41874f10-0566-307d-86de-94b7789bd53b","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"c776acf3-400c-38a4-9a1e-69bb3e307017","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1688.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"35233a14-f57a-304d-b4a3-ee7a6e1b0409","identifier":"ad914738-7f81-346a-b9cc-8f0f4cc34a0e","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${E2E_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"c5e5ceeb-4410-3152-b7c3-06e2896fad67","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"f1ec37d0-f016-3bf3-a127-662c40c08461","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"${E2E_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"67a2cb36-6322-3083-9906-0b30db4af9d7","identifier":"378a1495-2fd8-31c0-b738-db3d793487ff","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-328.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"ca0dc602-ef29-30bc-a832-da7f0af217be","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"48f1e852-935d-3b3f-b763-63c9380b51e8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"b9551fc8-b788-3cbc-81d0-bcaf847a38f3","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"0d549a34-8e3f-3497-a99e-fd86f46023a0","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"c706418c-d267-3eab-98e9-6de1a5c1f42d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"ca0dc602-ef29-30bc-a832-da7f0af217be","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"4efc1dc7-202c-3538-8bd4-d78c8565f93c","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"ea19f9b3-0730-36f4-acec-d9885d6befab","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","not found"],"source":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"ca0dc602-ef29-30bc-a832-da7f0af217be","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"a838a480-610e-3b64-bfa6-0217ee210778","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"37cb3bcf-b249-311c-80db-3e0177541102","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"ca0dc602-ef29-30bc-a832-da7f0af217be","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"b9551fc8-b788-3cbc-81d0-bcaf847a38f3","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"e961006d-9f7e-331c-af6c-aa35b17a3f9f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"ca0dc602-ef29-30bc-a832-da7f0af217be","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"ca0dc602-ef29-30bc-a832-da7f0af217be","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"25e68701-7172-369b-aa64-036244b72d36","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f347a29-1aca-35e4-808a-de10a08b5150","id":"95345bc1-5b1a-3705-a9f1-67dcd3ffb802","name":"start_deletion","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"0516053d-b4be-3928-a36a-970ec8e4d4af","identifier":"5f347a29-1aca-35e4-808a-de10a08b5150","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"95345bc1-5b1a-3705-a9f1-67dcd3ffb802","name":"start_deletion","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL INT","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":-24.0,"y":328.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"8d79352e-b7c9-30c8-b3b1-04bde464fae3","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"8d2668ce-bbda-3e6e-a1f6-7f4109b07ec0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"68584284-0418-39f4-9813-34a8a2bb84dd","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"68584284-0418-39f4-9813-34a8a2bb84dd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"4f0b2167-0be1-356b-9384-2e80dd2568aa","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"4745d7bd-6df8-33da-9a5e-ed5d9714a5a1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"68584284-0418-39f4-9813-34a8a2bb84dd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"6bd24558-378a-3fd3-9f75-5fd227ec9df7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"81bb7ae2-3b05-3787-b914-a695e740f49f","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"81bb7ae2-3b05-3787-b914-a695e740f49f","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"e37e393f-28ae-3da0-9b6a-ede8e2fb8d0e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"4745d7bd-6df8-33da-9a5e-ed5d9714a5a1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"4745d7bd-6df8-33da-9a5e-ed5d9714a5a1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"6f674748-a1ea-33e8-ac35-49e8f072026c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"a838a480-610e-3b64-bfa6-0217ee210778","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"23134b15-5efd-36f1-83a5-6de3e5b4adcd","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"62249fe3-f512-397b-b12b-a000fbbaa9b9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"81bb7ae2-3b05-3787-b914-a695e740f49f","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"4745d7bd-6df8-33da-9a5e-ed5d9714a5a1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"d05e3d20-5ba4-3a40-8e7d-6057125b842b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","id":"23134b15-5efd-36f1-83a5-6de3e5b4adcd","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"68584284-0418-39f4-9813-34a8a2bb84dd","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"a838a480-610e-3b64-bfa6-0217ee210778","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":-1240.0,"y":1592.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"81bb7ae2-3b05-3787-b914-a695e740f49f","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${INT_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"23134b15-5efd-36f1-83a5-6de3e5b4adcd","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"4745d7bd-6df8-33da-9a5e-ed5d9714a5a1","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d90bb0c2-4354-3784-bbe5-dbf335c92c12","identifier":"8d79352e-b7c9-30c8-b3b1-04bde464fae3","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1688.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"f1626d35-a98c-3afa-b16c-3c251d492928","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"6b584828-822a-355a-84b6-31cd0c6693d8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"2d1c2059-7645-30d6-a831-0d3dd87b6d04","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"1464802a-be79-3ac1-96fe-1d3679ad5b2a","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"3f93c72e-8268-3859-819a-1885ec09476d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"2d1c2059-7645-30d6-a831-0d3dd87b6d04","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"f1626d35-a98c-3afa-b16c-3c251d492928","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"8f3a6808-e854-3f0a-8780-5c968c91b911","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"e90c0cd1-d017-3343-b80b-9fac571e4504","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"f75034eb-15c1-3166-8727-9125e8e8ec2e","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"edf3a452-291b-34ad-b81d-3e5b1dfe3873","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"1464802a-be79-3ac1-96fe-1d3679ad5b2a","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"e90c0cd1-d017-3343-b80b-9fac571e4504","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"a450daca-a319-3848-9cee-78ee00eddc9b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"0d549a34-8e3f-3497-a99e-fd86f46023a0","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"f1626d35-a98c-3afa-b16c-3c251d492928","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"2bd68e5f-f686-3b79-a955-1c1a963860ae","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"1464802a-be79-3ac1-96fe-1d3679ad5b2a","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"ecedd354-cfbb-33d4-a5a3-3d79d584f2b7","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"bac71598-b4b3-31c0-8051-e03176282fd3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"f1626d35-a98c-3afa-b16c-3c251d492928","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"2d1c2059-7645-30d6-a831-0d3dd87b6d04","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"7b24ae93-d03d-34ae-a0d0-499ef7922173","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","id":"e90c0cd1-d017-3343-b80b-9fac571e4504","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"f1626d35-a98c-3afa-b16c-3c251d492928","position":{"x":-272.0,"y":1104.0}}],"groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"0d549a34-8e3f-3497-a99e-fd86f46023a0","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"24627fd4-8ce8-3df4-84dc-93470875a09e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"80948b9e-d56d-3e84-9e05-bdbfbea7a8c4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"f75034eb-15c1-3166-8727-9125e8e8ec2e","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"df6a6672-c9cd-35a5-b983-8d9d261a0a2e","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"2bdb579a-1c8c-34fb-b24a-ab4ce3bfd45c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"5a1e44a9-0a69-3fa8-91ce-48173391b4f9","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"7d273a05-5f6c-37d1-965f-ac4dc49d03d9","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"505c2d44-307e-34cb-8bbc-606bf4a2bcb3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"5a1e44a9-0a69-3fa8-91ce-48173391b4f9","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"7d273a05-5f6c-37d1-965f-ac4dc49d03d9","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"599c6ba3-b1f4-3c07-a205-8dd7f528edd2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"24627fd4-8ce8-3df4-84dc-93470875a09e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"5a1e44a9-0a69-3fa8-91ce-48173391b4f9","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"c0305f9b-315a-349f-a523-a118413c716b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"24627fd4-8ce8-3df4-84dc-93470875a09e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"24627fd4-8ce8-3df4-84dc-93470875a09e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"ff90c65b-03f6-3195-a107-a2bb76d3c565","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"df6a6672-c9cd-35a5-b983-8d9d261a0a2e","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"60bb6362-e418-3cd1-8586-2b2a44005bd9","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"151ad146-cdf2-306f-aeea-d4de43ef1bca","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"b8b1cd73-e55a-30bc-aaee-239090782b1e","id":"7d273a05-5f6c-37d1-965f-ac4dc49d03d9","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"7d273a05-5f6c-37d1-965f-ac4dc49d03d9","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"f75034eb-15c1-3166-8727-9125e8e8ec2e","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":-1040.0,"y":1568.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"24627fd4-8ce8-3df4-84dc-93470875a09e","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"60bb6362-e418-3cd1-8586-2b2a44005bd9","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1616.0,"y":56.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"df6a6672-c9cd-35a5-b983-8d9d261a0a2e","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b8b1cd73-e55a-30bc-aaee-239090782b1e","identifier":"5a1e44a9-0a69-3fa8-91ce-48173391b4f9","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${INT_EU_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"2d1c2059-7645-30d6-a831-0d3dd87b6d04","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"e90c0cd1-d017-3343-b80b-9fac571e4504","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"ecedd354-cfbb-33d4-a5a3-3d79d584f2b7","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":256.0,"y":1064.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5413d05d-68ab-3528-882a-3e53c8ed9c6c","identifier":"1464802a-be79-3ac1-96fe-1d3679ad5b2a","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"4efc1dc7-202c-3538-8bd4-d78c8565f93c","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-328.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"b9551fc8-b788-3cbc-81d0-bcaf847a38f3","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f347a29-1aca-35e4-808a-de10a08b5150","identifier":"ca0dc602-ef29-30bc-a832-da7f0af217be","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"${INT_EU_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"6dfed07d-f0cb-3345-9923-e9b25d552ade","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"25cdcc2e-86f9-361c-8144-5d8211ef36eb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"65e8f1db-9e3c-3c6c-88f6-7fd84742b656","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"61b5f3d5-a931-31f2-b2d4-7176aff449df","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"db10d14d-e1e7-3dfb-8eaa-a23db129a3da","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure","not found"],"source":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"65e8f1db-9e3c-3c6c-88f6-7fd84742b656","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"dcaae21d-f88a-3492-890d-5a4c2f46ebf8","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"0a16a44c-78b3-35cc-a41f-f7886b44856f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"65e8f1db-9e3c-3c6c-88f6-7fd84742b656","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"2645763d-2108-3618-b87b-185d918e5a6c","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"755b1910-878a-3e3d-a1d9-5e2e004763c2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"65e8f1db-9e3c-3c6c-88f6-7fd84742b656","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"65e8f1db-9e3c-3c6c-88f6-7fd84742b656","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"43030542-7ab3-3a58-9304-7c919abe1b1d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"dcaae21d-f88a-3492-890d-5a4c2f46ebf8","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"65e8f1db-9e3c-3c6c-88f6-7fd84742b656","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"1985d576-94fa-3dc6-9308-d1b8cffd5036","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"ed75fef9-f5f6-370b-b420-3479fb4498c0","id":"940f6c80-0c5c-3b6a-acfa-85919b38736d","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"98314500-9f4b-30e3-bf29-9ace6734e504","identifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"940f6c80-0c5c-3b6a-acfa-85919b38736d","name":"Start APL Deletion Proccess","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL DEV","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":512.0,"y":1512.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"f50d59e1-de68-3c76-affe-17c5987ac894","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"ebfa1ab9-6ce1-3f47-8508-974cb39d9c0f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"f01e7ddb-bb87-3d4a-b84c-7758fe1694f6","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"f01e7ddb-bb87-3d4a-b84c-7758fe1694f6","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"da34bf41-2a0e-36c1-a76d-94f2e6908a0a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"8ebd5162-72d2-348e-85f1-081ef542217e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"dbc6fc43-9918-34f6-af6d-330a10788106","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"1d52adc0-50a8-35d9-8fa9-34c1ef9d3343","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"f50d59e1-de68-3c76-affe-17c5987ac894","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"f50d59e1-de68-3c76-affe-17c5987ac894","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"addb4be6-e61a-3af9-a9d6-178eec5b64ca","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"8ebd5162-72d2-348e-85f1-081ef542217e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"8ebd5162-72d2-348e-85f1-081ef542217e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"5f5e476b-9683-3a15-a721-78f28f40702b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"5ca56a01-7b43-3d74-9ac6-910a5e0c8539","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"5ca56a01-7b43-3d74-9ac6-910a5e0c8539","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"fde9ed90-5576-3fc4-ad73-fc6218ea90a4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"f01e7ddb-bb87-3d4a-b84c-7758fe1694f6","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"8ebd5162-72d2-348e-85f1-081ef542217e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"14d43922-bbc5-34dd-b090-c450bdfb3fb8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"8385cc24-d155-35ae-b146-5fdfa5dda106","id":"6dfed07d-f0cb-3345-9923-e9b25d552ade","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"f50d59e1-de68-3c76-affe-17c5987ac894","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"6dfed07d-f0cb-3345-9923-e9b25d552ade","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-1280.0,"y":1584.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"5ca56a01-7b43-3d74-9ac6-910a5e0c8539","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"8ebd5162-72d2-348e-85f1-081ef542217e","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"dbc6fc43-9918-34f6-af6d-330a10788106","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1656.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8385cc24-d155-35ae-b146-5fdfa5dda106","identifier":"f01e7ddb-bb87-3d4a-b84c-7758fe1694f6","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${DEV_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"286dd6cf-fb6b-3c6a-9b2e-d5626b5c75e6","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"f605ffa7-7e2c-3c89-9ea8-e0d9519b1bf0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"023f6b5a-5940-384a-ad9d-b0c1802baf04","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"165f44bd-4321-3fd0-a5db-7fa83fd18c5c","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"8e383fc6-1ea1-33ca-b630-97c0ea3073ce","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"2645763d-2108-3618-b87b-185d918e5a6c","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"ae57b48e-9890-334d-b549-36347664fd71","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"41db5462-1b28-3fc4-81be-6ffb3f98062a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"286dd6cf-fb6b-3c6a-9b2e-d5626b5c75e6","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"422a2fe6-aac8-3972-8167-5d189c5c8f68","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"9b5b0c82-036c-3a90-ba2a-a9d6529e5428","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"165f44bd-4321-3fd0-a5db-7fa83fd18c5c","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"286dd6cf-fb6b-3c6a-9b2e-d5626b5c75e6","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"32f39dea-f15e-3ff3-9936-eca4344fcf7d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"165f44bd-4321-3fd0-a5db-7fa83fd18c5c","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"286dd6cf-fb6b-3c6a-9b2e-d5626b5c75e6","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"e6d587a3-a236-359a-940c-c11ff4ca5d2b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"422a2fe6-aac8-3972-8167-5d189c5c8f68","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"023f6b5a-5940-384a-ad9d-b0c1802baf04","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"2fe83084-7b19-39ab-9863-f160dfab3f03","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"422a2fe6-aac8-3972-8167-5d189c5c8f68","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"0c9e990f-c8fa-38a7-ada4-80d58df92c48","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"789f91a9-f6b9-3944-a4d3-91627fe21bc3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"895ae67c-7c21-3f25-97f3-40a3cde679e9","id":"023f6b5a-5940-384a-ad9d-b0c1802baf04","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"286dd6cf-fb6b-3c6a-9b2e-d5626b5c75e6","position":{"x":-344.0,"y":1104.0}}],"groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"2645763d-2108-3618-b87b-185d918e5a6c","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"4d4d66ad-2c44-3c85-aaed-7ce7ef4d4d38","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"722d9866-23b0-3064-b7f9-cfcbb36cb44c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"309d3bde-a36c-3936-a96a-d2baacfb8d49","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"a62f809e-b0be-3902-a2b7-7a18476a16f1","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"396dab35-b196-3093-9759-4b2eb18f339f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"4d4d66ad-2c44-3c85-aaed-7ce7ef4d4d38","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"fde1ded9-8eab-3511-9ded-e54ffdfa2179","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"c071c5c4-17da-3d59-b8c5-66cb5e3b570b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"77e612dc-384d-339f-8234-f6ce527261cf","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"309d3bde-a36c-3936-a96a-d2baacfb8d49","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"4154cdff-c8f9-3756-a506-195eba660fb3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"0c9e990f-c8fa-38a7-ada4-80d58df92c48","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"4d4d66ad-2c44-3c85-aaed-7ce7ef4d4d38","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"ea5b0312-7a01-34d7-956d-02a519a41789","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"77e612dc-384d-339f-8234-f6ce527261cf","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"309d3bde-a36c-3936-a96a-d2baacfb8d49","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"93889c0a-e196-387a-b0bd-c4e0d9578924","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"fde1ded9-8eab-3511-9ded-e54ffdfa2179","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"77e612dc-384d-339f-8234-f6ce527261cf","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"22229b49-3f84-34a1-a248-b6035ae47ac8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d65c5ecb-7097-3640-a680-2d59706ec5fe","id":"309d3bde-a36c-3936-a96a-d2baacfb8d49","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"4d4d66ad-2c44-3c85-aaed-7ce7ef4d4d38","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"0c9e990f-c8fa-38a7-ada4-80d58df92c48","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-1032.0,"y":1560.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"fde1ded9-8eab-3511-9ded-e54ffdfa2179","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"a62f809e-b0be-3902-a2b7-7a18476a16f1","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1712.0,"y":40.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"77e612dc-384d-339f-8234-f6ce527261cf","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${DEV_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d65c5ecb-7097-3640-a680-2d59706ec5fe","identifier":"309d3bde-a36c-3936-a96a-d2baacfb8d49","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"ae57b48e-9890-334d-b549-36347664fd71","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-24.0,"y":1072.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"165f44bd-4321-3fd0-a5db-7fa83fd18c5c","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"023f6b5a-5940-384a-ad9d-b0c1802baf04","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"895ae67c-7c21-3f25-97f3-40a3cde679e9","identifier":"422a2fe6-aac8-3972-8167-5d189c5c8f68","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"61b5f3d5-a931-31f2-b2d4-7176aff449df","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-288.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"dcaae21d-f88a-3492-890d-5a4c2f46ebf8","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ed75fef9-f5f6-370b-b420-3479fb4498c0","identifier":"65e8f1db-9e3c-3c6c-88f6-7fd84742b656","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"${DEV_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"02e3940a-20da-3757-a8d3-ba32c266d960","name":"start_deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","identifier":"ec54e348-c9e5-37f9-a4b3-f32dc82ec199","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","id":"7234b175-82e6-31df-b7e2-86f317afcf36","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"68dd06eb-a118-391b-ad3c-b80ddd0a13b5","name":"start_deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","identifier":"7c6be742-d7e7-3f95-9d68-4be764bf66d1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","id":"7234b175-82e6-31df-b7e2-86f317afcf36","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"ac89143f-25f7-3183-bf61-1ba104bde8c6","name":"start_deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","identifier":"b028e480-dae8-319c-a96d-842385516b9a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","id":"7234b175-82e6-31df-b7e2-86f317afcf36","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"98314500-9f4b-30e3-bf29-9ace6734e504","identifier":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","identifier":"7234b175-82e6-31df-b7e2-86f317afcf36","name":"start_delete_cms_apl","position":{"x":680.0,"y":40.0},"type":"INPUT_PORT"}],"labels":[],"name":"NA-Region","outputPorts":[],"position":{"x":1120.0,"y":1512.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"da3b1c37-e5e3-3c57-a5c0-100258e344d4","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"c87aabf0-feff-3184-87aa-c3b4ab68e3f5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"357bb7aa-8cbd-3105-8af2-a3009083d808","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"357bb7aa-8cbd-3105-8af2-a3009083d808","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"9bce1cfe-b19e-3bb2-9f0d-d3c49a4106be","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"68dd06eb-a118-391b-ad3c-b80ddd0a13b5","name":"start_deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"8c6f908f-d7b2-3963-96f5-5c5e68c282f6","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"58babe04-19e7-39e8-af3b-be8ac97f06fc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"357bb7aa-8cbd-3105-8af2-a3009083d808","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"77ca758d-5673-3244-ade8-0f240e3f88d4","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"ac2b73ec-9c2c-343e-9ea5-5387d476ba8e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","not found"],"source":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"357bb7aa-8cbd-3105-8af2-a3009083d808","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"357bb7aa-8cbd-3105-8af2-a3009083d808","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"1ffef56e-8cb7-3cad-a73d-bf1a18752bd1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"8c6f908f-d7b2-3963-96f5-5c5e68c282f6","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"db986b6a-8caa-34f2-87e8-e1fd0907423b","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"b531d3b6-df9f-3cc9-9821-c822021ca783","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","id":"357bb7aa-8cbd-3105-8af2-a3009083d808","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","identifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"68dd06eb-a118-391b-ad3c-b80ddd0a13b5","name":"start_deletion","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL INT","outputPorts":[],"parameterContextName":"NA-Int","position":{"x":-24.0,"y":328.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"8e4bb38f-a1eb-3894-b99a-6ffd23a3f8e2","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"b4400d21-e88c-3aae-ac70-8db0531c970b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"1b9d8001-8580-3199-8a0b-7e43f8cc802e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"d288b29b-cc58-39d3-a2ad-574c9b1ed35b","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"e7dcd2ae-6def-3599-be1c-644e0a04d81f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"6026a189-b349-3f07-96cc-04288b8fabcb","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"1b9d8001-8580-3199-8a0b-7e43f8cc802e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"b8a14d55-dac4-3424-878e-ec41405c6793","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"da3b1c37-e5e3-3c57-a5c0-100258e344d4","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"8e4bb38f-a1eb-3894-b99a-6ffd23a3f8e2","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"2f50ec7b-2bb6-318e-a466-ca5a9eef9ebb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"6026a189-b349-3f07-96cc-04288b8fabcb","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"6026a189-b349-3f07-96cc-04288b8fabcb","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"ca7efb46-d0b0-3c05-adc1-f1985f587a68","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"1b9d8001-8580-3199-8a0b-7e43f8cc802e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"1b9d8001-8580-3199-8a0b-7e43f8cc802e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"df0bc2ac-4c3a-3b8d-aeb2-c03ea8dfc1d1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"d288b29b-cc58-39d3-a2ad-574c9b1ed35b","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"eed7e9f5-7925-3ebe-912a-16826748fa51","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"28a76bd2-6f2e-3075-8ee8-a202955e39c8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","id":"8e4bb38f-a1eb-3894-b99a-6ffd23a3f8e2","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"8e4bb38f-a1eb-3894-b99a-6ffd23a3f8e2","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"da3b1c37-e5e3-3c57-a5c0-100258e344d4","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"NA-Int","position":{"x":-1248.0,"y":1584.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"6026a189-b349-3f07-96cc-04288b8fabcb","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${INT_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"d288b29b-cc58-39d3-a2ad-574c9b1ed35b","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"eed7e9f5-7925-3ebe-912a-16826748fa51","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1688.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7c35ef8b-0bbf-3b1e-ad5a-d98c76cb52ed","identifier":"1b9d8001-8580-3199-8a0b-7e43f8cc802e","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"98342704-e550-3f68-ad9a-7cfa1bd9c996","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"7610404d-46f8-3add-bcc5-94f00a1893dd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"a339607b-20fe-3a1c-8828-a33139f74231","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"67a59d4c-ef31-33ea-ba69-4c65013f0f4d","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"17313501-2361-367e-9af0-f8bbaa39cd18","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"5408bd10-59e2-3554-bad8-10b29b640581","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"10dbc29c-96f2-3344-9279-82ab5d80131d","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"bd404ac1-aefc-3501-9219-8f90386aabcb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"a339607b-20fe-3a1c-8828-a33139f74231","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"98342704-e550-3f68-ad9a-7cfa1bd9c996","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"fefaef7c-8a9d-36ae-b2e7-03a4459ec9f7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"10dbc29c-96f2-3344-9279-82ab5d80131d","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"adaf542a-64cb-350c-863e-97fe6ab6883b","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"d9a5ab2c-688e-347a-923b-aef398981b02","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"98342704-e550-3f68-ad9a-7cfa1bd9c996","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"5408bd10-59e2-3554-bad8-10b29b640581","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"cd106f3b-fd78-38c8-9061-178690943482","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"10dbc29c-96f2-3344-9279-82ab5d80131d","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"a339607b-20fe-3a1c-8828-a33139f74231","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"bf73c10b-79cc-362c-bb9d-90506e282477","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"db986b6a-8caa-34f2-87e8-e1fd0907423b","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"98342704-e550-3f68-ad9a-7cfa1bd9c996","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"3ceafffb-fecb-3797-b422-2f3e72829622","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"805ccd77-0d2a-337a-b43e-63efabe6f95e","id":"5408bd10-59e2-3554-bad8-10b29b640581","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"98342704-e550-3f68-ad9a-7cfa1bd9c996","position":{"x":-272.0,"y":1104.0}}],"groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"db986b6a-8caa-34f2-87e8-e1fd0907423b","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"e15a77ac-f8b2-37af-9def-58296020cafb","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"0a0b8024-76c8-33c2-a91d-acaa9057b341","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"050f5257-0ae1-3b0c-9560-2e9b7c32f66e","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"050f5257-0ae1-3b0c-9560-2e9b7c32f66e","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"44382166-7541-3568-9509-2dc361223ea1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"c5c2b320-15ae-3bd0-a362-4888c62e77ba","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"e15a77ac-f8b2-37af-9def-58296020cafb","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"0f415332-a06a-3d8d-96cb-7178ced03e91","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"c5c2b320-15ae-3bd0-a362-4888c62e77ba","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"c5c2b320-15ae-3bd0-a362-4888c62e77ba","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"06ff9dec-4250-3edb-a52a-2c2b4d43008c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"59038da5-7d6a-3424-b6d5-55177456dd78","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"c5c2b320-15ae-3bd0-a362-4888c62e77ba","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"abe00d03-8a8b-38e7-87cd-f325a411cc7d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"67a59d4c-ef31-33ea-ba69-4c65013f0f4d","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"8876af31-8b6c-3f43-bee5-bd4686ee6a81","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"59f78965-ac86-34d6-9cee-9be7568f3e4f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"e15a77ac-f8b2-37af-9def-58296020cafb","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"59038da5-7d6a-3424-b6d5-55177456dd78","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"f98bd466-99d5-36c4-872d-4860d26e136d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"064aaefd-330e-3a78-b3f3-049284e93a55","id":"050f5257-0ae1-3b0c-9560-2e9b7c32f66e","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"e15a77ac-f8b2-37af-9def-58296020cafb","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"064aaefd-330e-3a78-b3f3-049284e93a55","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"67a59d4c-ef31-33ea-ba69-4c65013f0f4d","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-Int","position":{"x":-1040.0,"y":1568.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"050f5257-0ae1-3b0c-9560-2e9b7c32f66e","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${INT_NA_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"8876af31-8b6c-3f43-bee5-bd4686ee6a81","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1616.0,"y":56.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"c5c2b320-15ae-3bd0-a362-4888c62e77ba","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"064aaefd-330e-3a78-b3f3-049284e93a55","identifier":"59038da5-7d6a-3424-b6d5-55177456dd78","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"5408bd10-59e2-3554-bad8-10b29b640581","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"10dbc29c-96f2-3344-9279-82ab5d80131d","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"adaf542a-64cb-350c-863e-97fe6ab6883b","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":56.0,"y":1080.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"805ccd77-0d2a-337a-b43e-63efabe6f95e","identifier":"a339607b-20fe-3a1c-8828-a33139f74231","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"77ca758d-5673-3244-ade8-0f240e3f88d4","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-328.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"357bb7aa-8cbd-3105-8af2-a3009083d808","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"${INT_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d3fbfa11-0716-3ad1-988d-fc6074b1b8c4","identifier":"8c6f908f-d7b2-3963-96f5-5c5e68c282f6","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"8c0dbd4f-a26e-3e77-a04e-39b531ff40e3","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"9d6e3455-d17b-358f-b8c3-91ce4399038a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"02e3940a-20da-3757-a8d3-ba32c266d960","name":"start_deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"a2834dee-571e-3166-a314-0b00e33e5484","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"9da4d4f0-6227-392e-8aec-0e00b3aed283","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"8c0dbd4f-a26e-3e77-a04e-39b531ff40e3","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"e2b8879c-681d-362e-9f2f-7381eba14401","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"bbf96198-a68c-3cc0-b9c6-32c180dd6ca4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"8c0dbd4f-a26e-3e77-a04e-39b531ff40e3","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"3e15a97d-d897-3b56-8fe5-9b70f3a29b8a","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"de115daf-84cc-3faf-a6be-8c2f028b5895","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","not found"],"source":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"8c0dbd4f-a26e-3e77-a04e-39b531ff40e3","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"8c0dbd4f-a26e-3e77-a04e-39b531ff40e3","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"70af4dde-9cb6-300d-bcfe-f610d96a672c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"a2834dee-571e-3166-a314-0b00e33e5484","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"89723ad1-d7ae-3719-86c2-c699f2e7485b","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"ea33af85-faee-3acf-a083-0f6911817056","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","id":"8c0dbd4f-a26e-3e77-a04e-39b531ff40e3","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","identifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"02e3940a-20da-3757-a8d3-ba32c266d960","name":"start_deletion","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL PROD","outputPorts":[],"parameterContextName":"NA-Prod","position":{"x":608.0,"y":328.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"f53e41d3-a982-3c5a-8c35-3038b717a670","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"5cbe4ade-460f-308f-8b5c-0bbaf3493c5a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"2cafdac1-1337-3547-bd98-e040a6edc0ef","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"bd46ea48-3694-3d9e-80c3-ad14ccc2c951","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"52f2b96b-3f1b-38d7-83c2-c3d92f874ba7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"f53e41d3-a982-3c5a-8c35-3038b717a670","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"e2adb3df-8d5f-3db5-8293-7986729a6826","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"a3be2c00-cad5-3742-9ff4-859503c0cf7b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"e2b8879c-681d-362e-9f2f-7381eba14401","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"2cafdac1-1337-3547-bd98-e040a6edc0ef","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"70bae243-a164-3879-afca-64da552ab0ec","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"e2adb3df-8d5f-3db5-8293-7986729a6826","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"263a716d-9f90-3d2b-8a5a-75440c8b3eae","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"0dc6a9d7-bd2e-31ed-8b9e-e3dcb19df26a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"e2adb3df-8d5f-3db5-8293-7986729a6826","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"263a716d-9f90-3d2b-8a5a-75440c8b3eae","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"4db4f534-6969-3112-9c6c-2cca4a84527f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"f53e41d3-a982-3c5a-8c35-3038b717a670","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"263a716d-9f90-3d2b-8a5a-75440c8b3eae","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"56652595-a487-3d21-9e3e-89ce3a436b5b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"2cafdac1-1337-3547-bd98-e040a6edc0ef","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"44afd7ba-3458-3316-ae53-2f9bdc0fa06b","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"87176345-e2e6-3b84-b32d-f6a228ccfcd8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"303a505d-60ed-3140-aaea-743724d968f1","id":"263a716d-9f90-3d2b-8a5a-75440c8b3eae","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"263a716d-9f90-3d2b-8a5a-75440c8b3eae","position":{"x":-272.0,"y":1104.0}}],"groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"303a505d-60ed-3140-aaea-743724d968f1","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"e2b8879c-681d-362e-9f2f-7381eba14401","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"3edfb641-af92-36b8-9d78-32fbe0a96aca","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"77d0cb4b-df55-390c-a615-4449d156ab06","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"67613c49-d91e-3ee9-9fef-82d700d30c34","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"2615bf9c-37cf-3cf9-a3cc-3735471bb1be","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"14e0748c-93dd-3d3f-bfbf-41eadb3d3206","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"0c8fa423-e535-34a9-8a43-88ef875b0c8f","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"67613c49-d91e-3ee9-9fef-82d700d30c34","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"d03eadbe-f967-32a9-89c3-8cc4cb5cc620","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"2615bf9c-37cf-3cf9-a3cc-3735471bb1be","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"3edfb641-af92-36b8-9d78-32fbe0a96aca","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"2af1fa08-8bb2-34eb-b27c-4eed1c1095e0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"0c8fa423-e535-34a9-8a43-88ef875b0c8f","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"0c8fa423-e535-34a9-8a43-88ef875b0c8f","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"478fbf4d-46b6-38aa-9263-32784d849034","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"67613c49-d91e-3ee9-9fef-82d700d30c34","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"67613c49-d91e-3ee9-9fef-82d700d30c34","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"3ee7a2d8-1321-36ce-8aee-4adc2dab5afc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"bd46ea48-3694-3d9e-80c3-ad14ccc2c951","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"b5645f28-05d2-3d60-9794-cd10659c66e1","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"db59c6be-fce7-38f3-9a56-a30ef13b2e85","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","id":"3edfb641-af92-36b8-9d78-32fbe0a96aca","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"3edfb641-af92-36b8-9d78-32fbe0a96aca","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"bd46ea48-3694-3d9e-80c3-ad14ccc2c951","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-Prod","position":{"x":-1040.0,"y":1568.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"b5645f28-05d2-3d60-9794-cd10659c66e1","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1616.0,"y":56.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"0c8fa423-e535-34a9-8a43-88ef875b0c8f","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${PROD_NA_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"2615bf9c-37cf-3cf9-a3cc-3735471bb1be","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9c5d5351-b2dd-3aa7-b652-50c7aa8e2c9e","identifier":"67613c49-d91e-3ee9-9fef-82d700d30c34","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"e2adb3df-8d5f-3db5-8293-7986729a6826","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"44afd7ba-3458-3316-ae53-2f9bdc0fa06b","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":56.0,"y":1064.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"f53e41d3-a982-3c5a-8c35-3038b717a670","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"303a505d-60ed-3140-aaea-743724d968f1","identifier":"2cafdac1-1337-3547-bd98-e040a6edc0ef","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"5e92e0c7-3028-3154-a542-1a071e49369e","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"735a265a-4432-331b-b522-fd3dc6d353af","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"33de2e58-1fcc-30b2-b9e7-3f08f1eae608","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"e1a8cff8-c570-356a-94ae-a0d48e64faf3","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"a9b6c7d8-3981-3bd3-a67e-a93282c93671","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"89723ad1-d7ae-3719-86c2-c699f2e7485b","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"125bddf7-f13a-3361-884e-6322525cdb98","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"ffea6656-c8fc-3ea8-afee-0cb02c4fc97c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"e1a8cff8-c570-356a-94ae-a0d48e64faf3","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"33de2e58-1fcc-30b2-b9e7-3f08f1eae608","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"d3fdfb44-4e2b-3e37-abab-ce75065b716c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"125bddf7-f13a-3361-884e-6322525cdb98","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"790d542d-91f2-335c-9949-305689d7ab6d","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"04d8baa2-8597-3700-ac0d-1690a74a46f2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"125bddf7-f13a-3361-884e-6322525cdb98","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"33de2e58-1fcc-30b2-b9e7-3f08f1eae608","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"2b44eb8c-24f4-32f0-b8b8-d21788ea0ab6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"e1a8cff8-c570-356a-94ae-a0d48e64faf3","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"e1a8cff8-c570-356a-94ae-a0d48e64faf3","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"1952866d-8f91-3bde-a58d-fc57ebb230fb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"425c9a9d-b735-318d-91c2-c0e043ca8046","id":"790d542d-91f2-335c-9949-305689d7ab6d","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"33de2e58-1fcc-30b2-b9e7-3f08f1eae608","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"89723ad1-d7ae-3719-86c2-c699f2e7485b","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"NA-Prod","position":{"x":-1240.0,"y":1592.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"125bddf7-f13a-3361-884e-6322525cdb98","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${PROD_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"790d542d-91f2-335c-9949-305689d7ab6d","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"e1a8cff8-c570-356a-94ae-a0d48e64faf3","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"425c9a9d-b735-318d-91c2-c0e043ca8046","identifier":"5e92e0c7-3028-3154-a542-1a071e49369e","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1688.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"3e15a97d-d897-3b56-8fe5-9b70f3a29b8a","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-328.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"a2834dee-571e-3166-a314-0b00e33e5484","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c600f7d5-90c1-3675-a9eb-d973ca765ac8","identifier":"8c0dbd4f-a26e-3e77-a04e-39b531ff40e3","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"${PROD_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"df0febd9-a88a-3ce0-88e6-d7efbeb8c288","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"c7ff57df-f3a8-37ed-8f2a-87e085a6dc62","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","not found"],"source":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"a36ce39d-920e-34c1-ac96-a46846737862","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"c1cf81bb-0b17-3e42-bff4-113b303bd9d8","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"a64d6226-cb9a-3510-b888-a4a20d0b0efb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"a36ce39d-920e-34c1-ac96-a46846737862","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"2461440d-534a-375b-a6a7-3a70f7c6ec11","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"3b5179ed-532b-3588-baef-2a09d8b9edb1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"a36ce39d-920e-34c1-ac96-a46846737862","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"a36ce39d-920e-34c1-ac96-a46846737862","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"b8ef62b4-edcc-3970-8559-58b4a0c60cf5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"c1cf81bb-0b17-3e42-bff4-113b303bd9d8","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"a36ce39d-920e-34c1-ac96-a46846737862","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"0e656ac9-8f82-3a9a-a992-083608e937f3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"ac89143f-25f7-3183-bf61-1ba104bde8c6","name":"start_deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"8a42ec70-3105-3ea9-9791-48fa86f8c9cd","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"fd19f436-84d9-3d17-9e89-b3f64e6f51b4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"33558a9b-e453-3938-bb39-3b495d7b7535","id":"a36ce39d-920e-34c1-ac96-a46846737862","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a24bd5f-ca10-315c-a49e-8a116f8b425c","identifier":"33558a9b-e453-3938-bb39-3b495d7b7535","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"ac89143f-25f7-3183-bf61-1ba104bde8c6","name":"start_deletion","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL E2E","outputPorts":[],"parameterContextName":"NA-E2e","position":{"x":1216.0,"y":328.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"89b32128-e399-3a4b-82b7-b38ff5643f2d","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"73038e90-b64f-3772-b773-bc70d5dcd52e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"c75e3d6f-f43d-382d-85a4-42e627628503","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"89b32128-e399-3a4b-82b7-b38ff5643f2d","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"1691804c-5c91-33b0-9f01-f29f672dbae2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"ca23211c-3f03-3a33-893f-19df3d720708","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"1ced7b97-4835-3ded-bc9a-b7292cf9353d","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"997e98da-2f94-37e4-a186-1f8252822f54","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"89b32128-e399-3a4b-82b7-b38ff5643f2d","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"ca23211c-3f03-3a33-893f-19df3d720708","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"b9a7bfe1-2740-3e79-aaed-b9f7c6f55c51","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"e6a9b24d-a62c-329a-a721-e77159ee8996","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"e6a9b24d-a62c-329a-a721-e77159ee8996","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"23da4ca5-7e9c-33dd-9174-3899a8870f79","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"c75e3d6f-f43d-382d-85a4-42e627628503","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"c75e3d6f-f43d-382d-85a4-42e627628503","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"af4e1215-4ced-3ec8-9616-6100a14e11e4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"ca23211c-3f03-3a33-893f-19df3d720708","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"ca23211c-3f03-3a33-893f-19df3d720708","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"7858dc42-3d30-3013-a7af-9d73563138c9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"159e276c-e804-302e-a29e-198020442ac5","id":"2461440d-534a-375b-a6a7-3a70f7c6ec11","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"89b32128-e399-3a4b-82b7-b38ff5643f2d","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"159e276c-e804-302e-a29e-198020442ac5","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"2461440d-534a-375b-a6a7-3a70f7c6ec11","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"NA-E2e","position":{"x":-1240.0,"y":1592.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"c75e3d6f-f43d-382d-85a4-42e627628503","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${E2E_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"1ced7b97-4835-3ded-bc9a-b7292cf9353d","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1688.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"ca23211c-3f03-3a33-893f-19df3d720708","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"159e276c-e804-302e-a29e-198020442ac5","identifier":"e6a9b24d-a62c-329a-a721-e77159ee8996","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"bf90c606-a4e3-329e-ba2f-b6b9b685af70","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"f0d462c3-7b35-3fd6-b32f-15c8680e9490","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"3a31cf03-60f5-30a6-a5ad-68f75d1d93e3","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"3a31cf03-60f5-30a6-a5ad-68f75d1d93e3","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"a354b12a-fd51-335d-bec3-74bafc1cf36d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"ea69c935-91fb-3de7-b4c9-f348e90c07a8","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"bf90c606-a4e3-329e-ba2f-b6b9b685af70","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"90d5e257-3bf2-364b-a937-43745365fe6b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"ea69c935-91fb-3de7-b4c9-f348e90c07a8","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"bf90c606-a4e3-329e-ba2f-b6b9b685af70","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"37ca40e6-3099-3ac4-bbb5-09756a6b74bd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"82b84ea2-652f-37ca-87ef-408bf94f0885","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"82b84ea2-652f-37ca-87ef-408bf94f0885","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"9054bfe3-168c-3cc2-97a7-f00fe123710f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"3a31cf03-60f5-30a6-a5ad-68f75d1d93e3","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"ce0e86bf-5f65-33fa-9a0d-b10118cfb2f2","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"3532cd8a-e86c-3fd6-ae10-4c4ddb5682f3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"bf90c606-a4e3-329e-ba2f-b6b9b685af70","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"efe648e5-f478-365f-8cfc-198428f7f989","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"0fa8a9c6-39db-31f5-9551-6b883f1f16a1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"82b84ea2-652f-37ca-87ef-408bf94f0885","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"ea69c935-91fb-3de7-b4c9-f348e90c07a8","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"1cd096c9-55ff-37b5-8972-05e59e215040","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","id":"8a42ec70-3105-3ea9-9791-48fa86f8c9cd","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"bf90c606-a4e3-329e-ba2f-b6b9b685af70","position":{"x":-272.0,"y":1104.0}}],"groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"8a42ec70-3105-3ea9-9791-48fa86f8c9cd","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"98182c3a-ad64-3e2b-81a6-f24204531939","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"b3f047e0-1934-3511-9206-70c9f247c60d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"daa265e1-e0ec-3143-be9d-a208e07d7e47","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"bb7c83a7-a159-3761-8527-b37e87049a0f","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"23c7f1a5-4b17-3b39-8588-35e8ddc374ca","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"98182c3a-ad64-3e2b-81a6-f24204531939","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"daa265e1-e0ec-3143-be9d-a208e07d7e47","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"9d110eac-f88f-32ae-be5b-55b16effdc33","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"efe648e5-f478-365f-8cfc-198428f7f989","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"e8960163-5ec5-36fa-b246-06f654264104","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"ba62ccfd-e24a-3b02-91f0-7941cfa4b4b5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"98182c3a-ad64-3e2b-81a6-f24204531939","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"daa265e1-e0ec-3143-be9d-a208e07d7e47","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"ec276512-2813-3e1d-aaa2-d54c1e7fedff","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"bb7c83a7-a159-3761-8527-b37e87049a0f","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"116b7b2d-ce9c-3643-88f0-472a4f9e8c9e","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"1320d291-6f24-37ab-a3fa-75181e8654d5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"e8960163-5ec5-36fa-b246-06f654264104","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"e8960163-5ec5-36fa-b246-06f654264104","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"c4b6adac-1067-3452-86ea-3ef9e408dfc2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"bd55dacd-2b82-39e1-9885-5e4e025670ea","id":"daa265e1-e0ec-3143-be9d-a208e07d7e47","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"e8960163-5ec5-36fa-b246-06f654264104","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"efe648e5-f478-365f-8cfc-198428f7f989","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"NA-E2e","position":{"x":-1040.0,"y":1568.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"98182c3a-ad64-3e2b-81a6-f24204531939","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"${E2E_NA_DYNAMO_DB_ENV}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"bb7c83a7-a159-3761-8527-b37e87049a0f","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"116b7b2d-ce9c-3643-88f0-472a4f9e8c9e","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1616.0,"y":56.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bd55dacd-2b82-39e1-9885-5e4e025670ea","identifier":"daa265e1-e0ec-3143-be9d-a208e07d7e47","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"3a31cf03-60f5-30a6-a5ad-68f75d1d93e3","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"82b84ea2-652f-37ca-87ef-408bf94f0885","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"ce0e86bf-5f65-33fa-9a0d-b10118cfb2f2","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":56.0,"y":1064.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0528c8a8-6fe9-3818-b30d-a0c928b11bed","identifier":"ea69c935-91fb-3de7-b4c9-f348e90c07a8","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"c1cf81bb-0b17-3e42-bff4-113b303bd9d8","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"a36ce39d-920e-34c1-ac96-a46846737862","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"${E2E_NA_DYNAMO_DB_ENV}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"33558a9b-e453-3938-bb39-3b495d7b7535","identifier":"df0febd9-a88a-3ce0-88e6-d7efbeb8c288","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-328.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e57e2240-f8ea-3507-8952-440645479ae6","identifier":"7ae6580b-5599-3b65-bd25-13b1fca33c99","name":"Validate by Table Name","penaltyDuration":"30 sec","position":{"x":1104.0,"y":496.0},"properties":{"Routing Strategy":"Route to Property name","isAplTable":"${tableName:equals(\"apl\")}","isResponseTable":"${tableName:equals(\"responses\")}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isAplTable":{"displayName":"isAplTable","identifiesControllerService":false,"name":"isAplTable","sensitive":false},"isResponseTable":{"displayName":"isResponseTable","identifiesControllerService":false,"name":"isResponseTable","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},"flowEncodingVersion":"1.0","parameterContexts":{"NA-Prod":{"componentType":"PARAMETER_CONTEXT","name":"NA-Prod","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-us-int"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-na-prod"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-Int":{"componentType":"PARAMETER_CONTEXT","name":"EU-Int","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-eu-int"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-int"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"NA-Int":{"componentType":"PARAMETER_CONTEXT","name":"NA-Int","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-us-int"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-na-int"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-Develop":{"componentType":"PARAMETER_CONTEXT","name":"EU-Develop","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-eu-test"},{"description":"","name":"aws_credentials","provided":false,"sensitive":false,"value":"/opt/nifi/nifi-current/ls-target/auth/auth_aws"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-test"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-E2e":{"componentType":"PARAMETER_CONTEXT","name":"EU-E2e","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":" alexa-skills-s3bucket-eu-e2e"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-e2e"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"NA-E2e":{"componentType":"PARAMETER_CONTEXT","name":"NA-E2e","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-us-e2e"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"aws_secret_key_prod","provided":false,"sensitive":true},{"description":"","name":"aws_access_key_prod","provided":false,"sensitive":true},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-us-e2e"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-Prod":{"componentType":"PARAMETER_CONTEXT","name":"EU-Prod","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-eu-prod"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-prod"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]}},"snapshotMetadata":{"author":"david.lamas@ctw.bmwgroup.com","comments":"","timestamp":1642526216015,"version":1}}