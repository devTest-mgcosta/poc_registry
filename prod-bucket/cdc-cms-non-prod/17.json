{"externalControllerServices":{},"flowContents":{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"52beee50-af5a-3276-87ff-d28037a23a83","id":"b94a251d-fd33-383e-b6e0-31a0e342d62f","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"ea2eeedf-6aaa-3faa-a502-9ab03dbd5a07","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"b19f20ad-599b-36ff-a8e5-a0ce7e4d4064","name":"put_dynamodb","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"01f7131d-4360-317b-9898-e900a11142ed","id":"76466855-5156-3efa-9ba5-e9efd945afae","name":"start_put_dynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"7863697c-b2a7-3a04-9437-1fc57b22e1f5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"52beee50-af5a-3276-87ff-d28037a23a83","id":"49ad15e7-1edf-35f5-9540-aa6e16b12a91","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","id":"b2c27673-f504-3943-ae4d-ab801b627dc1","name":"Start Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"ee9d43af-1a53-30d8-bbd3-573f19ba5340","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"0b7016cd-25b1-3028-93cf-d671095a6c39","name":"start_deletion","type":"OUTPUT_PORT"},"zIndex":0}],"controllerServices":[{"bundle":{"artifact":"nifi-distributed-cache-services-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"CONTROLLER_SERVICE","controllerServiceApis":[],"groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"8a37b340-1695-3b69-9fb6-bce8efdd3b9e","name":"DistributedMapCacheServer","properties":{"Eviction Strategy":"Least Frequently Used","Port":"#{distributed_map_cache_port}","Maximum Cache Entries":"10000"},"propertyDescriptors":{"Eviction Strategy":{"displayName":"Eviction Strategy","identifiesControllerService":false,"name":"Eviction Strategy","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Persistence Directory":{"displayName":"Persistence Directory","identifiesControllerService":false,"name":"Persistence Directory","sensitive":false},"Port":{"displayName":"Port","identifiesControllerService":false,"name":"Port","sensitive":false},"Maximum Cache Entries":{"displayName":"Maximum Cache Entries","identifiesControllerService":false,"name":"Maximum Cache Entries","sensitive":false}},"type":"org.apache.nifi.distributed.cache.server.map.DistributedMapCacheServer"},{"bundle":{"artifact":"nifi-distributed-cache-services-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"CONTROLLER_SERVICE","controllerServiceApis":[{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.12.1"},"type":"org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"},{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.12.1"},"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"}],"groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","name":"DistributedMapCacheClientService","properties":{"Server Port":"#{distributed_map_cache_port}","Server Hostname":"#{distributed_map_cache_hostname}","Communications Timeout":"30 secs"},"propertyDescriptors":{"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Server Port":{"displayName":"Server Port","identifiesControllerService":false,"name":"Server Port","sensitive":false},"Server Hostname":{"displayName":"Server Hostname","identifiesControllerService":false,"name":"Server Hostname","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false}},"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"}],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"identifier":"71d7bf14-482a-357f-b082-18f10608afaf","inputPorts":[],"labels":[],"name":"CDC-CMS-NON-PROD","outputPorts":[],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":0.0,"y":0.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"2918bed7-bd1e-30dc-b3c0-202f0ebb6d2c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"48237fa3-6a1c-3d13-a323-933d2fe0688e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"adc41a41-fc7f-3176-b950-90a9be34bf63","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"d1a93beb-cde9-3ef9-98b9-515291139172","name":"Validate Table","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"5fb3476a-bc5c-3aa1-87c9-342f9eac7448","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"72925469-3098-35b3-b917-33618eccc8de","name":"Get Table Name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"9bf4dd91-2e8a-32c6-a7f4-82f61ec65c9b","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"93b2b686-79b1-3a78-b8e6-6b13fdbfd381","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"2918bed7-bd1e-30dc-b3c0-202f0ebb6d2c","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"2918bed7-bd1e-30dc-b3c0-202f0ebb6d2c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"1e5e968a-ca58-3d8d-b124-a3d85b3fe400","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"d1a93beb-cde9-3ef9-98b9-515291139172","name":"Validate Table","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"9bf4dd91-2e8a-32c6-a7f4-82f61ec65c9b","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"ee5ad750-ffd9-304e-80f1-d4739548b6bf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"c9fb057e-06e4-308c-a801-d4f9517712d1","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"c9fb057e-06e4-308c-a801-d4f9517712d1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"02b63cee-387f-398e-80a0-4c4542f80905","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["overtook","failure","skipped"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"91d5aed2-2149-31a0-b10b-a299de8a21b9","name":"EnforceOrder","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"ebda57f5-dc15-36e3-af3e-296de545a14f","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"5661bde2-f50a-3893-8f4e-a3491d7dd41a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"9bf4dd91-2e8a-32c6-a7f4-82f61ec65c9b","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"79421be1-84c6-38e9-8fda-3416efe28ab7","name":"Validate DML","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"a575307b-6420-397d-a010-cb9211cce740","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"e2ad6468-9cf2-3ab6-af8e-79ae77d82d2a","name":"CaptureChangeMySQL","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"72925469-3098-35b3-b917-33618eccc8de","name":"Get Table Name","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"ad3079ed-2780-3c1e-8830-94ea24b7e922","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isDML"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"79421be1-84c6-38e9-8fda-3416efe28ab7","name":"Validate DML","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"2918bed7-bd1e-30dc-b3c0-202f0ebb6d2c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"56374846-a045-3076-b168-a0d994fdab09","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"79421be1-84c6-38e9-8fda-3416efe28ab7","name":"Validate DML","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"c9fb057e-06e4-308c-a801-d4f9517712d1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"ecf105aa-a9fe-3896-98b0-53e57a6c68a1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"64e38707-a6a4-3ca3-8c59-7b4cca6891a6","name":"Set Attribute Response Key","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"2918bed7-bd1e-30dc-b3c0-202f0ebb6d2c","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"7e7a0ed1-4546-3d2f-9ca0-85d208190ff4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"72925469-3098-35b3-b917-33618eccc8de","name":"Get Table Name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"b19f20ad-599b-36ff-a8e5-a0ce7e4d4064","name":"put_dynamodb","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"f613bbc0-2f8d-3035-af11-23ae2be1965e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["upsert"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"7ca24cd1-9557-3a09-ae3a-99c02cd3ff61","name":"Validate DML Dataflow","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"91d5aed2-2149-31a0-b10b-a299de8a21b9","name":"EnforceOrder","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"7a643378-ba75-3021-ab18-73a0a6c54b3b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"64e38707-a6a4-3ca3-8c59-7b4cca6891a6","name":"Set Attribute Response Key","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"7ca24cd1-9557-3a09-ae3a-99c02cd3ff61","name":"Validate DML Dataflow","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"7ead80ce-7ded-323f-9afb-384820e94cf9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["wait","success"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"91d5aed2-2149-31a0-b10b-a299de8a21b9","name":"EnforceOrder","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"0b7016cd-25b1-3028-93cf-d671095a6c39","name":"start_deletion","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"53540c31-520f-3b3a-8be0-e1e468483108","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["soft-delete","delete"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"7ca24cd1-9557-3a09-ae3a-99c02cd3ff61","name":"Validate DML Dataflow","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"64e38707-a6a4-3ca3-8c59-7b4cca6891a6","name":"Set Attribute Response Key","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"94fd14f0-66b0-3e56-b749-fe5a7be85f4a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"adc41a41-fc7f-3176-b950-90a9be34bf63","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"adc41a41-fc7f-3176-b950-90a9be34bf63","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"b278f382-b563-3f42-a754-0ef57dde23bc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isAcceptableTable"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"d1a93beb-cde9-3ef9-98b9-515291139172","name":"Validate Table","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"c9fb057e-06e4-308c-a801-d4f9517712d1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"efa8a450-5d9f-3ef4-a06b-84da3e5ffd32","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"314e0be2-6538-3f09-96e7-79b53ebcac06","id":"7ca24cd1-9557-3a09-ae3a-99c02cd3ff61","name":"Validate DML Dataflow","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"2918bed7-bd1e-30dc-b3c0-202f0ebb6d2c","position":{"x":584.0,"y":536.0}},{"componentType":"FUNNEL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"9bf4dd91-2e8a-32c6-a7f4-82f61ec65c9b","position":{"x":496.0,"y":720.0}},{"componentType":"FUNNEL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"c9fb057e-06e4-308c-a801-d4f9517712d1","position":{"x":584.0,"y":872.0}}],"groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","inputPorts":[],"labels":[],"name":"CDC CMS Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"0b7016cd-25b1-3028-93cf-d671095a6c39","name":"start_deletion","position":{"x":1056.0,"y":1648.0},"type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"b19f20ad-599b-36ff-a8e5-a0ce7e4d4064","name":"put_dynamodb","position":{"x":1440.0,"y":1648.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":1400.075281645261,"y":480.4738301971402},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"79421be1-84c6-38e9-8fda-3416efe28ab7","name":"Validate DML","penaltyDuration":"30 sec","position":{"x":1176.0,"y":112.0},"properties":{"Routing Strategy":"Route to Property name","isDML":"${cdc.event.type:in('update', 'delete', 'insert')}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isDML":{"displayName":"isDML","identifiesControllerService":false,"name":"isDML","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#57edd7"},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-cdc-mysql-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"e2ad6468-9cf2-3ab6-af8e-79ae77d82d2a","name":"CaptureChangeMySQL","penaltyDuration":"30 sec","position":{"x":1176.0,"y":-136.0},"properties":{"capture-change-mysql-include-ddl-events":"false","capture-change-mysql-db-name-pattern":"cmsdatabase.*","capture-change-mysql-dist-map-cache-client":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","capture-change-mysql-init-seq-id":"0","capture-change-mysql-name-pattern":"^(?!directus).*$","capture-change-mysql-driver-class":"com.mysql.jdbc.Driver","capture-change-mysql-driver-locations":"#{mysql_db_driver}","capture-change-mysql-include-begin-commit":"false","capture-change-mysql-hosts":"${directus_db_hostname}:3306","capture-change-mysql-username":"#{directus_db_user}","capture-change-mysql-retrieve-all-records":"true","capture-change-mysql-state-update-interval":"0 seconds","capture-change-mysql-use-gtid":"false","capture-change-mysql-password":"#{directus_db_password}","capture-change-mysql-max-wait-time":"240 seconds"},"propertyDescriptors":{"capture-change-mysql-include-ddl-events":{"displayName":"Include DDL Events","identifiesControllerService":false,"name":"capture-change-mysql-include-ddl-events","sensitive":false},"capture-change-mysql-db-name-pattern":{"displayName":"Database/Schema Name Pattern","identifiesControllerService":false,"name":"capture-change-mysql-db-name-pattern","sensitive":false},"capture-change-mysql-dist-map-cache-client":{"displayName":"Distributed Map Cache Client","identifiesControllerService":true,"name":"capture-change-mysql-dist-map-cache-client","sensitive":false},"capture-change-mysql-init-seq-id":{"displayName":"Initial Sequence ID","identifiesControllerService":false,"name":"capture-change-mysql-init-seq-id","sensitive":false},"capture-change-mysql-name-pattern":{"displayName":"Table Name Pattern","identifiesControllerService":false,"name":"capture-change-mysql-name-pattern","sensitive":false},"capture-change-mysql-driver-class":{"displayName":"MySQL Driver Class Name","identifiesControllerService":false,"name":"capture-change-mysql-driver-class","sensitive":false},"capture-change-mysql-driver-locations":{"displayName":"MySQL Driver Location(s)","identifiesControllerService":false,"name":"capture-change-mysql-driver-locations","sensitive":false},"capture-change-mysql-include-begin-commit":{"displayName":"Include Begin/Commit Events","identifiesControllerService":false,"name":"capture-change-mysql-include-begin-commit","sensitive":false},"capture-change-mysql-server-id":{"displayName":"Server ID","identifiesControllerService":false,"name":"capture-change-mysql-server-id","sensitive":false},"capture-change-mysql-init-binlog-filename":{"displayName":"Initial Binlog Filename","identifiesControllerService":false,"name":"capture-change-mysql-init-binlog-filename","sensitive":false},"capture-change-mysql-init-binlog-position":{"displayName":"Initial Binlog Position","identifiesControllerService":false,"name":"capture-change-mysql-init-binlog-position","sensitive":false},"capture-change-mysql-init-gtid":{"displayName":"Initial Binlog GTID","identifiesControllerService":false,"name":"capture-change-mysql-init-gtid","sensitive":false},"capture-change-mysql-hosts":{"displayName":"MySQL Hosts","identifiesControllerService":false,"name":"capture-change-mysql-hosts","sensitive":false},"capture-change-mysql-username":{"displayName":"Username","identifiesControllerService":false,"name":"capture-change-mysql-username","sensitive":false},"capture-change-mysql-retrieve-all-records":{"displayName":"Retrieve All Records","identifiesControllerService":false,"name":"capture-change-mysql-retrieve-all-records","sensitive":false},"capture-change-mysql-state-update-interval":{"displayName":"State Update Interval","identifiesControllerService":false,"name":"capture-change-mysql-state-update-interval","sensitive":false},"capture-change-mysql-use-gtid":{"displayName":"Use Binlog GTID","identifiesControllerService":false,"name":"capture-change-mysql-use-gtid","sensitive":false},"capture-change-mysql-password":{"displayName":"Password","identifiesControllerService":false,"name":"capture-change-mysql-password","sensitive":true},"capture-change-mysql-max-wait-time":{"displayName":"Max Wait Time","identifiesControllerService":false,"name":"capture-change-mysql-max-wait-time","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#3cb56a"},"type":"org.apache.nifi.cdc.mysql.processors.CaptureChangeMySQL","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"adc41a41-fc7f-3176-b950-90a9be34bf63","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":1176.0,"y":760.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"columns\": {\n        \"*\": {\n          \"@(value)\": \"[#1].@(1,name)\"\n        }\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"91d5aed2-2149-31a0-b10b-a299de8a21b9","name":"EnforceOrder","penaltyDuration":"30 sec","position":{"x":1176.0,"y":1184.0},"properties":{"initial-order":"0","group-id":"1","inactive-timeout":"30 min","wait-timeout":"10 min","batch-count":"1000","order-attribute":"cdc.sequence.id"},"propertyDescriptors":{"initial-order":{"displayName":"Initial Order","identifiesControllerService":false,"name":"initial-order","sensitive":false},"group-id":{"displayName":"Group Identifier","identifiesControllerService":false,"name":"group-id","sensitive":false},"inactive-timeout":{"displayName":"Inactive Timeout","identifiesControllerService":false,"name":"inactive-timeout","sensitive":false},"wait-timeout":{"displayName":"Wait Timeout","identifiesControllerService":false,"name":"wait-timeout","sensitive":false},"batch-count":{"displayName":"Batch Count","identifiesControllerService":false,"name":"batch-count","sensitive":false},"maximum-order":{"displayName":"Maximum Order","identifiesControllerService":false,"name":"maximum-order","sensitive":false},"order-attribute":{"displayName":"Order Attribute","identifiesControllerService":false,"name":"order-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#8a2c2c"},"type":"org.apache.nifi.processors.standard.EnforceOrder","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"72925469-3098-35b3-b917-33618eccc8de","name":"Get Table Name","penaltyDuration":"30 sec","position":{"x":1176.0,"y":336.0},"properties":{"Destination":"flowfile-attribute","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore","tableName":"$.table_name"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false},"tableName":{"displayName":"tableName","identifiesControllerService":false,"name":"tableName","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"d1a93beb-cde9-3ef9-98b9-515291139172","name":"Validate Table","penaltyDuration":"30 sec","position":{"x":1176.0,"y":544.0},"properties":{"Routing Strategy":"Route to Property name","isAcceptableTable":"${tableName:in(\"responses\", \"apl\")}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isAcceptableTable":{"displayName":"isAcceptableTable","identifiesControllerService":false,"name":"isAcceptableTable","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"7ca24cd1-9557-3a09-ae3a-99c02cd3ff61","name":"Validate DML Dataflow","penaltyDuration":"30 sec","position":{"x":1176.0,"y":1416.0},"properties":{"soft-delete":"${status:equals('deleted')}","Routing Strategy":"Route to Property name","upsert":"${cdc.event.type:in('update', 'insert'):and(${status:equals('deleted'):not()})}","delete":"${cdc.event.type:equals('delete')}"},"propertyDescriptors":{"soft-delete":{"displayName":"soft-delete","identifiesControllerService":false,"name":"soft-delete","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"upsert":{"displayName":"upsert","identifiesControllerService":false,"name":"upsert","sensitive":false},"delete":{"displayName":"delete","identifiesControllerService":false,"name":"delete","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#57edd7"},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"ebda57f5-dc15-36e3-af3e-296de545a14f","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-152.0,"y":688.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"314e0be2-6538-3f09-96e7-79b53ebcac06","identifier":"64e38707-a6a4-3ca3-8c59-7b4cca6891a6","name":"Set Attribute Response Key","penaltyDuration":"30 sec","position":{"x":1176.0,"y":976.0},"properties":{"Destination":"flowfile-attribute","itemId":"$.[0].id","responseKey":"$.[0].name","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore","status":"$.[0].status"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"itemId":{"displayName":"itemId","identifiesControllerService":false,"name":"itemId","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false},"status":{"displayName":"status","identifiesControllerService":false,"name":"status","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"5d601213-c3ab-3753-be81-60d6344d1db9","name":"start_cms_apl","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"32e0966d-7eb0-3838-9f20-a24ae00183b9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isAplTable"],"source":{"comments":"","groupId":"01f7131d-4360-317b-9898-e900a11142ed","id":"c40e2896-1c23-320b-95fe-e5b1d0861638","name":"Validate by Table Name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2fc0015d-cc27-3697-a377-4f9f739a2b98","id":"a3959f11-92e9-31c3-adb8-15cc0c6874b5","name":"start_cms_response","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"793356cb-f276-3604-93fd-e21ff2ecf044","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isResponseTable"],"source":{"comments":"","groupId":"01f7131d-4360-317b-9898-e900a11142ed","id":"c40e2896-1c23-320b-95fe-e5b1d0861638","name":"Validate by Table Name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"01f7131d-4360-317b-9898-e900a11142ed","id":"21837a90-48e2-39dd-b6c5-0cc9da35f57c","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"5aee9c66-ebb9-3c2d-822b-d8dea10ed9a1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"01f7131d-4360-317b-9898-e900a11142ed","id":"76466855-5156-3efa-9ba5-e9efd945afae","name":"start_put_dynamodb","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"01f7131d-4360-317b-9898-e900a11142ed","id":"c40e2896-1c23-320b-95fe-e5b1d0861638","name":"Validate by Table Name","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"910de6d2-2e16-3a3d-ade9-dcbc064077e7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"01f7131d-4360-317b-9898-e900a11142ed","id":"21837a90-48e2-39dd-b6c5-0cc9da35f57c","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"01f7131d-4360-317b-9898-e900a11142ed","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"76466855-5156-3efa-9ba5-e9efd945afae","name":"start_put_dynamodb","position":{"x":328.0,"y":664.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb","outputPorts":[],"position":{"x":1661.239064412745,"y":1048.4418835303054},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"f39d57b1-6bf3-38f0-be8d-93e6d648a8d0","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"fd299733-d15f-3645-b312-009f5be8c0a2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"517d89e7-f0a0-38ac-907a-d382d12e0082","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"517d89e7-f0a0-38ac-907a-d382d12e0082","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"d922f299-aa12-37f6-8244-2c85e95d3513","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"5d601213-c3ab-3753-be81-60d6344d1db9","name":"start_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"2071314b-bb5d-3715-bf43-0c5a155890e4","name":"Start Apl Content Upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"1641d47d-556b-3f97-9ba2-b78d3e4bcea3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"e9a9494a-3571-349d-8c81-767e55c8fead","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","id":"e5bf673e-5d24-3e9c-b5a6-c7ffb2f50838","name":"Start APL Metadata Upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"afee5ff3-8190-3a57-b789-319d61d1dfe9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"e9a9494a-3571-349d-8c81-767e55c8fead","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"e9a9494a-3571-349d-8c81-767e55c8fead","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"c0f26d4f-8ce8-3862-a7d6-3aec3e9a2470","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","id":"f39d57b1-6bf3-38f0-be8d-93e6d648a8d0","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"e9a9494a-3571-349d-8c81-767e55c8fead","position":{"x":32.0,"y":1472.0}}],"groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"5d601213-c3ab-3753-be81-60d6344d1db9","name":"start_cms_apl","position":{"x":-64.0,"y":944.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL","outputPorts":[],"position":{"x":-16.0,"y":1232.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"27b7ca4b-30c8-3fd0-9124-f41156714d8a","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"b577346b-bb1c-316a-a3f0-2181081f4676","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"32a8439c-6b1d-3036-9430-d0e6b8230c36","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"329b2f6e-f5a9-38b3-af01-e5e91994b4c6","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"e7c42ea9-1992-39d0-9223-36d0998f6870","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"fb2a3814-f1f8-3e89-816f-43015151506b","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"1a0c2575-077c-3100-97fb-49264611083b","name":"Transform APL","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"e5045c55-daa8-3cb1-b013-77bf485c1114","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"2071314b-bb5d-3715-bf43-0c5a155890e4","name":"Start Apl Content Upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"27b7ca4b-30c8-3fd0-9124-f41156714d8a","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"cf31b2a0-f285-3584-844a-6a3515a90863","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"1a0c2575-077c-3100-97fb-49264611083b","name":"Transform APL","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"8ffe1971-6272-369a-ab38-ec1e0d2a922f","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"67a55b65-ec49-3c9a-a363-3fe1829df7f7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"1a0c2575-077c-3100-97fb-49264611083b","name":"Transform APL","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"44fbfbb4-bbfd-3b00-826b-363c02e78ae0","name":"Update Content Attribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"0a12d8dc-30c0-3e01-aaa3-531e65e5cb90","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"32a8439c-6b1d-3036-9430-d0e6b8230c36","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"27b7ca4b-30c8-3fd0-9124-f41156714d8a","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"7673ed00-76fd-3020-bf64-0ce21990f177","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"1a64c7b9-f291-354e-83ff-e105f9c24852","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"1a64c7b9-f291-354e-83ff-e105f9c24852","name":"ReplaceText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"b524481f-753f-36eb-a66f-e0163374a525","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"44fbfbb4-bbfd-3b00-826b-363c02e78ae0","name":"Update Content Attribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"fb2a3814-f1f8-3e89-816f-43015151506b","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"0faf64a7-2a65-379b-9213-2797155caf0a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"1a64c7b9-f291-354e-83ff-e105f9c24852","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"27b7ca4b-30c8-3fd0-9124-f41156714d8a","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"5cf71d4a-9ce4-3ab5-aa35-a94a586c485d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"8ffe1971-6272-369a-ab38-ec1e0d2a922f","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"32a8439c-6b1d-3036-9430-d0e6b8230c36","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"795011c7-977c-35ad-ad97-230998456d4f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["split"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"8ffe1971-6272-369a-ab38-ec1e0d2a922f","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"a140da70-c7dc-30c6-a183-83004e6c5789","name":"start_putdynamodb","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"09778ab1-08b4-3d1a-908e-84377d16eea6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"fb2a3814-f1f8-3e89-816f-43015151506b","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47989608-0bcb-312e-b406-84ee67e9fad4","id":"775261d5-132c-3eb2-a906-1f59bce26629","name":"start_apl_image_flow","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"d30a703d-fe62-32bb-b511-98856017015f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"fb2a3814-f1f8-3e89-816f-43015151506b","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"5b51578f-2fdd-3735-be6b-fbfba72f5afa","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"8edce6b5-f9c3-3afd-8991-d37ec83091f3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","id":"27b7ca4b-30c8-3fd0-9124-f41156714d8a","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"27b7ca4b-30c8-3fd0-9124-f41156714d8a","position":{"x":-272.0,"y":712.0}}],"groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"2071314b-bb5d-3715-bf43-0c5a155890e4","name":"Start Apl Content Upsert","position":{"x":248.0,"y":104.0},"type":"INPUT_PORT"}],"labels":[],"name":"APL Content","outputPorts":[],"position":{"x":224.0,"y":1640.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","id":"aaabe8b4-a1ee-3bf8-8e32-570f443ec0bd","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"3488a4c3-cd10-314a-9641-f2fcd9a66a0c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"1470f6c6-e725-3727-9082-668485d8fe52","name":"end_file_extraction","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"7a861c5d-bd2b-33db-b219-ae70a6d121da","name":"start_file_extract","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"d3729409-237f-38f7-8603-58fd1de969e6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"47989608-0bcb-312e-b406-84ee67e9fad4","id":"775261d5-132c-3eb2-a906-1f59bce26629","name":"start_apl_image_flow","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"d5ff50d7-8e93-3f94-959e-3e4cd92307be","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"d03bf444-16c9-3339-9c8a-10785dc03b60","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","id":"67da8944-4842-310c-bce5-ade458d1308f","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"e2d245d3-2e35-393c-97f2-6b52dbbe2ffe","name":"start_copying","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"7fa782b1-c657-38a8-8b5d-e4d035069684","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","id":"67da8944-4842-310c-bce5-ade458d1308f","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"47989608-0bcb-312e-b406-84ee67e9fad4","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"775261d5-132c-3eb2-a906-1f59bce26629","name":"start_apl_image_flow","position":{"x":72.0,"y":2328.0},"type":"INPUT_PORT"}],"labels":[],"name":"Directus S3","outputPorts":[],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":168.0,"y":1608.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1055.9999275859211,"y":159.9999606897963}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"fcc8bec2-777a-35c6-b4a5-ce1d48636b85","name":"start_cache_credentials","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"3a832902-a95f-33ae-b2bd-8d1aaa288403","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"d8cb90d9-67e7-3eff-8e34-8a97fb54eda7","name":"credentials_not_cached","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"e56f1fb3-7815-37e2-ab98-bbc130eebf13","name":"start_get_auth","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"bbcf987d-243a-3839-a6a3-f5e1457d8bdd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"cb4a8764-7938-3e08-b8d4-f646ad015a70","name":"end_failed_flow","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":264.0,"y":320.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"7a6a5edd-d04e-3eef-9ec0-be76ccef0088","name":"start_retry_flow","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"7a5ed9cc-f5be-3cdf-98b1-568c0ff7cc5e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"bac40057-12b0-39f9-8ccb-210940eea99b","name":"request_failed","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":319.9999275859211,"y":5.999960689796296}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"76de0cd5-96f7-327b-a196-d87cbf6f85e5","name":"start_try_get_token","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"35511d8c-2398-39ac-8ea1-7acaf5345a5e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"393dc4dc-2392-399e-8318-149672a5bc30","name":"auth_granted","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","id":"67da8944-4842-310c-bce5-ade458d1308f","name":"end_get_resources","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"80f1012c-3824-3009-b4f8-8388da1fa437","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"019162d7-8206-3bb3-8741-5c609b085695","name":"response_succeeded","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"76de0cd5-96f7-327b-a196-d87cbf6f85e5","name":"start_try_get_token","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"a1e681ef-3024-3ce7-a575-ec269f906d70","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","id":"aaabe8b4-a1ee-3bf8-8e32-570f443ec0bd","name":"start_get_resource","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1055.9999275859211,"y":7.999960689796296}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"e56f1fb3-7815-37e2-ab98-bbc130eebf13","name":"start_get_auth","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"843d6b92-0c5d-317c-9db0-2e3032650c87","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"8b0ce76f-d4c2-3ff4-86b5-961279185dd5","name":"credentials_cached","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"b35bbbdf-5b14-366d-8ce8-0d0f7441e7b6","name":"start_get_file","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"96c51ab3-1778-3743-8110-e0c023031339","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"a1c2fe56-dd02-340a-ab84-99c1d0e7b78c","name":"end_succeeded_flow","type":"OUTPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"aaabe8b4-a1ee-3bf8-8e32-570f443ec0bd","name":"start_get_resource","position":{"x":-200.0,"y":-80.0},"type":"INPUT_PORT"}],"labels":[],"name":"Get File Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"67da8944-4842-310c-bce5-ade458d1308f","name":"end_get_resources","position":{"x":-200.0,"y":688.0},"type":"OUTPUT_PORT"}],"position":{"x":0.0,"y":2744.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"86c42ab3-0f84-3459-bdf6-b5d157f7a269","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"81885a38-3041-3170-9a5f-22857d4a09b6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["not-found","failure"],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"3a406b3e-ac4b-3c32-a551-3163473c4cef","name":"Get Cached Token","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"d2da2a27-da7c-384a-91d6-6b6d86de59cb","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"3a5eb5b8-bfaf-36b3-a1d8-ea8d2c6eccf4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["Unauthorized"],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"b05894bf-037b-376c-b765-f8b95ee739a2","name":"Is Unauthorized","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"b05894bf-037b-376c-b765-f8b95ee739a2","name":"Is Unauthorized","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"1bd16a22-edef-3b7d-a432-f7b3ed196e9c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"7a6a5edd-d04e-3eef-9ec0-be76ccef0088","name":"start_retry_flow","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"11253d07-a767-3166-a469-ee9fa5ae7975","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"e988cb4f-5a0b-3274-9a97-9547e326c0e2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"86c42ab3-0f84-3459-bdf6-b5d157f7a269","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"cb4a8764-7938-3e08-b8d4-f646ad015a70","name":"end_failed_flow","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"b825830a-584d-3694-b9cd-ff180e4e72f2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"d2da2a27-da7c-384a-91d6-6b6d86de59cb","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"86c42ab3-0f84-3459-bdf6-b5d157f7a269","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"b8af5fcf-d31e-3e61-b7e6-20507d1c4d02","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"c3cd885f-8bfb-3b3b-9bf3-f21f1c026251","name":"Add token to Attributes","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"d2da2a27-da7c-384a-91d6-6b6d86de59cb","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"20d21537-fb69-3ef4-9df5-d2be30cc9224","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["not-found"],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"3a406b3e-ac4b-3c32-a551-3163473c4cef","name":"Get Cached Token","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"3a406b3e-ac4b-3c32-a551-3163473c4cef","name":"Get Cached Token","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"84f6e8de-e115-357e-8b1d-6d7fb842f7e6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"76de0cd5-96f7-327b-a196-d87cbf6f85e5","name":"start_try_get_token","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"a1c2fe56-dd02-340a-ab84-99c1d0e7b78c","name":"end_succeeded_flow","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"928468c7-be4b-3891-907a-1c6e843e9ba9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"c3cd885f-8bfb-3b3b-9bf3-f21f1c026251","name":"Add token to Attributes","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"c3cd885f-8bfb-3b3b-9bf3-f21f1c026251","name":"Add token to Attributes","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"1aff40cd-28d7-3a82-a8f3-feb65e451440","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","id":"3a406b3e-ac4b-3c32-a551-3163473c4cef","name":"Get Cached Token","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"86c42ab3-0f84-3459-bdf6-b5d157f7a269","position":{"x":888.0,"y":1240.0}},{"componentType":"FUNNEL","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"d2da2a27-da7c-384a-91d6-6b6d86de59cb","position":{"x":1464.0,"y":1288.0}}],"groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"76de0cd5-96f7-327b-a196-d87cbf6f85e5","name":"start_try_get_token","position":{"x":1112.0,"y":792.0},"type":"INPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"7a6a5edd-d04e-3eef-9ec0-be76ccef0088","name":"start_retry_flow","position":{"x":1664.0,"y":800.0},"type":"INPUT_PORT"}],"labels":[],"name":"Try Get Token Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"cb4a8764-7938-3e08-b8d4-f646ad015a70","name":"end_failed_flow","position":{"x":1368.0,"y":1424.0},"type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"a1c2fe56-dd02-340a-ab84-99c1d0e7b78c","name":"end_succeeded_flow","position":{"x":296.0,"y":1288.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":-272.0000724140789,"y":69.9999606897963},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"3a406b3e-ac4b-3c32-a551-3163473c4cef","name":"Get Cached Token","penaltyDuration":"30 sec","position":{"x":1056.0,"y":984.0},"properties":{"Cache Entry Identifier":"#{directus_token_identifier}","Distributed Cache Service":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","Max Length To Put In Attribute":"256","Character Set":"UTF-8"},"propertyDescriptors":{"Cache Entry Identifier":{"displayName":"Cache Entry Identifier","identifiesControllerService":false,"name":"Cache Entry Identifier","sensitive":false},"Put Cache Value In Attribute":{"displayName":"Put Cache Value In Attribute","identifiesControllerService":false,"name":"Put Cache Value In Attribute","sensitive":false},"Distributed Cache Service":{"displayName":"Distributed Cache Service","identifiesControllerService":true,"name":"Distributed Cache Service","sensitive":false},"Max Length To Put In Attribute":{"displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"name":"Max Length To Put In Attribute","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#70cf47"},"type":"org.apache.nifi.processors.standard.FetchDistributedMapCache","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"b05894bf-037b-376c-b765-f8b95ee739a2","name":"Is Unauthorized","penaltyDuration":"30 sec","position":{"x":1608.0,"y":976.0},"properties":{"Routing Strategy":"Route to Property name","Unauthorized":"${invokehttp.status.code:equals(401)}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"Unauthorized":{"displayName":"Unauthorized","identifiesControllerService":false,"name":"Unauthorized","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#57edd7"},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"11253d07-a767-3166-a469-ee9fa5ae7975","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":736.0,"y":1352.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"03918bbc-5c10-3271-bcc9-fd2b9ba2c42f","identifier":"c3cd885f-8bfb-3b3b-9bf3-f21f1c026251","name":"Add token to Attributes","penaltyDuration":"30 sec","position":{"x":384.0,"y":992.0},"properties":{"Destination":"flowfile-attribute","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore","token":"$.data.token"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false},"token":{"displayName":"token","identifiesControllerService":false,"name":"token","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"f0795ce4-c310-3463-9347-7070e1ea048c","name":"Get Cached Credentials","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"b47e02d3-5ef4-3c2d-8a3d-c7a0dd3a5dbf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"e56f1fb3-7815-37e2-ab98-bbc130eebf13","name":"start_get_auth","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"a080bce0-a4e6-32a3-a223-4e1d575f06e1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"055b609a-443d-3bec-b9d0-f5d9caebe2ea","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["No Retry","Retry","Failure"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"428923fb-96d0-3912-a917-9d1d1e2d7da9","name":"Get Authentication","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"239e91f9-983f-3f97-8dbd-843b39dee53a","name":"ReplaceText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"9a6218cc-6a8d-3aa2-9208-7e700b8f1328","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"d9d70bd1-b301-34b4-a4a6-97286308cca5","name":"Remove InvokeHttp Headers","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-88.0,"y":328.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"a99c681c-2d73-33ef-94f4-7f6b6f925302","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"ce946479-1fb8-39c0-8785-b9023031a6d5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["Retry"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"428923fb-96d0-3912-a917-9d1d1e2d7da9","name":"Get Authentication","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"a080bce0-a4e6-32a3-a223-4e1d575f06e1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"0e746290-26a4-3e3e-8297-daf4f70e1b12","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"5a0d04d7-6aca-3f25-bada-856cbf573aac","name":"Caching Token","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"428923fb-96d0-3912-a917-9d1d1e2d7da9","name":"Get Authentication","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"225cad70-9c7c-3fed-968a-55db7cd648ef","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"f0795ce4-c310-3463-9347-7070e1ea048c","name":"Get Cached Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"d8cb90d9-67e7-3eff-8e34-8a97fb54eda7","name":"credentials_not_cached","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"a758433f-1999-3f63-aa0f-86d9d50340f3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["not-found"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"f0795ce4-c310-3463-9347-7070e1ea048c","name":"Get Cached Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"f0795ce4-c310-3463-9347-7070e1ea048c","name":"Get Cached Credentials","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"3984b1cf-9d73-3705-85bb-db4894f4c9d5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retry"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"a99c681c-2d73-33ef-94f4-7f6b6f925302","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"3064f1e1-d7ba-3d5f-8ea6-4092d2c9a7e5","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"2228ebfe-8067-3198-a79e-accb16ebbc4f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"a080bce0-a4e6-32a3-a223-4e1d575f06e1","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"5a0d04d7-6aca-3f25-bada-856cbf573aac","name":"Caching Token","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"723d8590-a045-3162-a53d-f62119f36357","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["Response","Original"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"428923fb-96d0-3912-a917-9d1d1e2d7da9","name":"Get Authentication","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"a080bce0-a4e6-32a3-a223-4e1d575f06e1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"d00aaa37-ca77-3c99-9a10-3396b43d5b95","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["not-found","failure"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"f0795ce4-c310-3463-9347-7070e1ea048c","name":"Get Cached Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"393dc4dc-2392-399e-8318-149672a5bc30","name":"auth_granted","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"eb5f1b72-b92a-327a-8f16-85cba68d58ea","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"239e91f9-983f-3f97-8dbd-843b39dee53a","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"a080bce0-a4e6-32a3-a223-4e1d575f06e1","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"3281f9e6-a41b-35c5-a04a-35ae2210758e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"239e91f9-983f-3f97-8dbd-843b39dee53a","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"d9d70bd1-b301-34b4-a4a6-97286308cca5","name":"Remove InvokeHttp Headers","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"2aa8ac00-3b8d-3568-a331-b4f5f801cbb7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d036f729-99a5-3207-965b-a5dec6526a4b","id":"5a0d04d7-6aca-3f25-bada-856cbf573aac","name":"Caching Token","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"a080bce0-a4e6-32a3-a223-4e1d575f06e1","position":{"x":1024.0,"y":576.0}}],"groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"d036f729-99a5-3207-965b-a5dec6526a4b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"e56f1fb3-7815-37e2-ab98-bbc130eebf13","name":"start_get_auth","position":{"x":384.0,"y":-136.0},"type":"INPUT_PORT"}],"labels":[],"name":"Request Token Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"d8cb90d9-67e7-3eff-8e34-8a97fb54eda7","name":"credentials_not_cached","position":{"x":976.0,"y":40.0},"type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"393dc4dc-2392-399e-8318-149672a5bc30","name":"auth_granted","position":{"x":400.0,"y":1192.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":503.9999275859211,"y":69.9999606897963},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"3064f1e1-d7ba-3d5f-8ea6-4092d2c9a7e5","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1248.0,"y":536.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"d9d70bd1-b301-34b4-a4a6-97286308cca5","name":"Remove InvokeHttp Headers","penaltyDuration":"30 sec","position":{"x":344.0,"y":752.0},"properties":{"Delete Attributes Expression":".*\\.?invokehttp\\..*","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"428923fb-96d0-3912-a917-9d1d1e2d7da9","name":"Get Authentication","penaltyDuration":"30 sec","position":{"x":344.0,"y":264.0},"properties":{"use-etag":"false","Proxy Type":"http","Connection Timeout":"30 secs","send-message-body":"true","set-form-filename":"false","Always Output Response":"false","etag-max-cache-size":"10MB","idle-timeout":"5 mins","Use Chunked Encoding":"false","Follow Redirects":"False","Remote URL":"#{directus_hostname}/_/auth/authenticate","Content-Type":"application/json","max-idle-connections":"5","Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"false","Include Date Header":"True","Penalize on \"No Retry\"":"false"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Attributes to Send":{"displayName":"Attributes to Send","identifiesControllerService":false,"name":"Attributes to Send","sensitive":false},"use-etag":{"displayName":"Use HTTP ETag","identifiesControllerService":false,"name":"use-etag","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Proxy Type":{"displayName":"Proxy Type","identifiesControllerService":false,"name":"Proxy Type","sensitive":false},"Basic Authentication Password":{"displayName":"Basic Authentication Password","identifiesControllerService":false,"name":"Basic Authentication Password","sensitive":true},"Connection Timeout":{"displayName":"Connection Timeout","identifiesControllerService":false,"name":"Connection Timeout","sensitive":false},"send-message-body":{"displayName":"Send Message Body","identifiesControllerService":false,"name":"send-message-body","sensitive":false},"set-form-filename":{"displayName":"Set Flowfile Form Data File Name","identifiesControllerService":false,"name":"set-form-filename","sensitive":false},"Always Output Response":{"displayName":"Always Output Response","identifiesControllerService":false,"name":"Always Output Response","sensitive":false},"etag-max-cache-size":{"displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"name":"etag-max-cache-size","sensitive":false},"idle-timeout":{"displayName":"Idle Timeout","identifiesControllerService":false,"name":"idle-timeout","sensitive":false},"Put Response Body In Attribute":{"displayName":"Put Response Body In Attribute","identifiesControllerService":false,"name":"Put Response Body In Attribute","sensitive":false},"Use Chunked Encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"Use Chunked Encoding","sensitive":false},"Follow Redirects":{"displayName":"Follow Redirects","identifiesControllerService":false,"name":"Follow Redirects","sensitive":false},"Remote URL":{"displayName":"Remote URL","identifiesControllerService":false,"name":"Remote URL","sensitive":false},"Content-Type":{"displayName":"Content-Type","identifiesControllerService":false,"name":"Content-Type","sensitive":false},"form-body-form-name":{"displayName":"Flowfile Form Data Name","identifiesControllerService":false,"name":"form-body-form-name","sensitive":false},"max-idle-connections":{"displayName":"Max Idle Connections","identifiesControllerService":false,"name":"max-idle-connections","sensitive":false},"invokehttp-proxy-user":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"invokehttp-proxy-user","sensitive":false},"Read Timeout":{"displayName":"Read Timeout","identifiesControllerService":false,"name":"Read Timeout","sensitive":false},"Max Length To Put In Attribute":{"displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"name":"Max Length To Put In Attribute","sensitive":false},"invokehttp-proxy-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"invokehttp-proxy-password","sensitive":true},"ignore-response-content":{"displayName":"Ignore response's content","identifiesControllerService":false,"name":"ignore-response-content","sensitive":false},"Proxy Port":{"displayName":"Proxy Port","identifiesControllerService":false,"name":"Proxy Port","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Digest Authentication":{"displayName":"Use Digest Authentication","identifiesControllerService":false,"name":"Digest Authentication","sensitive":false},"HTTP Method":{"displayName":"HTTP Method","identifiesControllerService":false,"name":"HTTP Method","sensitive":false},"Add Response Headers to Request":{"displayName":"Add Response Headers to Request","identifiesControllerService":false,"name":"Add Response Headers to Request","sensitive":false},"Basic Authentication Username":{"displayName":"Basic Authentication Username","identifiesControllerService":false,"name":"Basic Authentication Username","sensitive":false},"Include Date Header":{"displayName":"Include Date Header","identifiesControllerService":false,"name":"Include Date Header","sensitive":false},"Penalize on \"No Retry\"":{"displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"name":"Penalize on \"No Retry\"","sensitive":false},"Useragent":{"displayName":"Useragent","identifiesControllerService":false,"name":"Useragent","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#e09455"},"type":"org.apache.nifi.processors.standard.InvokeHTTP","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"f0795ce4-c310-3463-9347-7070e1ea048c","name":"Get Cached Credentials","penaltyDuration":"30 sec","position":{"x":336.0,"y":8.0},"properties":{"Cache Entry Identifier":"#{directus_cache_identifier}","Distributed Cache Service":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","Max Length To Put In Attribute":"512","Character Set":"UTF-8"},"propertyDescriptors":{"Cache Entry Identifier":{"displayName":"Cache Entry Identifier","identifiesControllerService":false,"name":"Cache Entry Identifier","sensitive":false},"Put Cache Value In Attribute":{"displayName":"Put Cache Value In Attribute","identifiesControllerService":false,"name":"Put Cache Value In Attribute","sensitive":false},"Distributed Cache Service":{"displayName":"Distributed Cache Service","identifiesControllerService":true,"name":"Distributed Cache Service","sensitive":false},"Max Length To Put In Attribute":{"displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"name":"Max Length To Put In Attribute","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#70cf47"},"type":"org.apache.nifi.processors.standard.FetchDistributedMapCache","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["retries_exceeded","failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"a99c681c-2d73-33ef-94f4-7f6b6f925302","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-264.0,"y":-48.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"239e91f9-983f-3f97-8dbd-843b39dee53a","name":"ReplaceText","penaltyDuration":"30 sec","position":{"x":344.0,"y":976.0},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":" ","Evaluation Mode":"Entire text","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"displayName":"Search Value","identifiesControllerService":false,"name":"Regular Expression","sensitive":false},"Replacement Value":{"displayName":"Replacement Value","identifiesControllerService":false,"name":"Replacement Value","sensitive":false},"Evaluation Mode":{"displayName":"Evaluation Mode","identifiesControllerService":false,"name":"Evaluation Mode","sensitive":false},"Line-by-Line Evaluation Mode":{"displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"name":"Line-by-Line Evaluation Mode","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Replacement Strategy":{"displayName":"Replacement Strategy","identifiesControllerService":false,"name":"Replacement Strategy","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d036f729-99a5-3207-965b-a5dec6526a4b","identifier":"5a0d04d7-6aca-3f25-bada-856cbf573aac","name":"Caching Token","penaltyDuration":"30 sec","position":{"x":344.0,"y":528.0},"properties":{"Cache Entry Identifier":"#{directus_token_identifier}","Cache update strategy":"replace","Distributed Cache Service":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"displayName":"Cache Entry Identifier","identifiesControllerService":false,"name":"Cache Entry Identifier","sensitive":false},"Cache update strategy":{"displayName":"Cache update strategy","identifiesControllerService":false,"name":"Cache update strategy","sensitive":false},"Distributed Cache Service":{"displayName":"Distributed Cache Service","identifiesControllerService":true,"name":"Distributed Cache Service","sensitive":false},"Max cache entry size":{"displayName":"Max cache entry size","identifiesControllerService":false,"name":"Max cache entry size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#82a1ba"},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"8b0ce76f-d4c2-3ff4-86b5-961279185dd5","name":"credentials_cached","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"7b3c71aa-b4c5-3003-82a6-d937fccb380e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"95d098f0-1009-302e-8554-0cd01360aaab","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"ac483cf3-773b-30bf-bda1-86ba7d4a4677","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"ac1f3236-1b8f-32aa-bb65-d23084b834a1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"c6e8d667-208d-3c18-8d3a-415f1d040971","name":"Caching Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"759415c7-f649-37d4-ada1-50d043e4ff20","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"e57961d8-2ebe-3627-a757-4fa275548cb4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"fcc8bec2-777a-35c6-b4a5-ce1d48636b85","name":"start_cache_credentials","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"c6e8d667-208d-3c18-8d3a-415f1d040971","name":"Caching Credentials","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"0674e68b-a0a4-3f74-b141-6ce309b723bc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"d502bca9-3db5-3948-b9b0-26c2088ed7a2","name":"AttributesToJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"d502bca9-3db5-3948-b9b0-26c2088ed7a2","name":"AttributesToJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"d1180e2d-fb2c-306d-a6b3-664d11369290","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"759415c7-f649-37d4-ada1-50d043e4ff20","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"ac483cf3-773b-30bf-bda1-86ba7d4a4677","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"5c8e3d54-54dd-3785-9170-8ab45524f877","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"d502bca9-3db5-3948-b9b0-26c2088ed7a2","name":"AttributesToJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"95d098f0-1009-302e-8554-0cd01360aaab","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"849b33d6-153c-3010-9f5b-33ffd1b6338e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"c6e8d667-208d-3c18-8d3a-415f1d040971","name":"Caching Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"d12a92db-15aa-3b1d-b618-4b29e7c6edc9","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"30d42d07-4484-302e-8b58-e7d5e4a41a46","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"0c59362d-286f-345b-af76-568c821fec8c","id":"ac483cf3-773b-30bf-bda1-86ba7d4a4677","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"ac483cf3-773b-30bf-bda1-86ba7d4a4677","position":{"x":672.0,"y":504.0}}],"groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"0c59362d-286f-345b-af76-568c821fec8c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"fcc8bec2-777a-35c6-b4a5-ce1d48636b85","name":"start_cache_credentials","position":{"x":136.0,"y":40.0},"type":"INPUT_PORT"}],"labels":[],"name":"Cache Credential Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"8b0ce76f-d4c2-3ff4-86b5-961279185dd5","name":"credentials_cached","position":{"x":136.0,"y":968.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":1223.9999275859211,"y":71.9999606897963},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"759415c7-f649-37d4-ada1-50d043e4ff20","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":80.0,"y":160.0},"properties":{"password":"${directus_app_password}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"CacheCredential","email":"${directus_app_login}"},"propertyDescriptors":{"password":{"displayName":"password","identifiesControllerService":false,"name":"password","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"email":{"displayName":"email","identifiesControllerService":false,"name":"email","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"95d098f0-1009-302e-8554-0cd01360aaab","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":80.0,"y":768.0},"properties":{"Delete Attributes Expression":"(?:email|password)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"d502bca9-3db5-3948-b9b0-26c2088ed7a2","name":"AttributesToJSON","penaltyDuration":"30 sec","position":{"x":80.0,"y":360.0},"properties":{"Destination":"flowfile-content","Null Value":"false","Attributes List":"email, password","Include Core Attributes":"true"},"propertyDescriptors":{"attributes-to-json-regex":{"displayName":"Attributes Regular Expression","identifiesControllerService":false,"name":"attributes-to-json-regex","sensitive":false},"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Null Value":{"displayName":"Null Value","identifiesControllerService":false,"name":"Null Value","sensitive":false},"Attributes List":{"displayName":"Attributes List","identifiesControllerService":false,"name":"Attributes List","sensitive":false},"Include Core Attributes":{"displayName":"Include Core Attributes","identifiesControllerService":false,"name":"Include Core Attributes","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.AttributesToJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"c6e8d667-208d-3c18-8d3a-415f1d040971","name":"Caching Credentials","penaltyDuration":"30 sec","position":{"x":80.0,"y":568.0},"properties":{"Cache Entry Identifier":"#{directus_cache_identifier}","Cache update strategy":"replace","Distributed Cache Service":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"displayName":"Cache Entry Identifier","identifiesControllerService":false,"name":"Cache Entry Identifier","sensitive":false},"Cache update strategy":{"displayName":"Cache update strategy","identifiesControllerService":false,"name":"Cache update strategy","sensitive":false},"Distributed Cache Service":{"displayName":"Distributed Cache Service","identifiesControllerService":true,"name":"Distributed Cache Service","sensitive":false},"Max cache entry size":{"displayName":"Max cache entry size","identifiesControllerService":false,"name":"Max cache entry size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#82a1ba"},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0c59362d-286f-345b-af76-568c821fec8c","identifier":"d12a92db-15aa-3b1d-b618-4b29e7c6edc9","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":928.0,"y":456.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"0f82c249-3aca-35a7-b73a-03179c0e0959","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"3dc5a4c1-b242-3871-b60f-09c63139d012","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"e4768991-8e43-3903-b584-9ac4dccd4a03","name":"Get Data length","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"1823d266-df81-3a62-b5a8-d377733bcf96","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"af499c40-a708-31b9-9b58-c6414fe7c7e3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["Retry"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"b430caf1-d421-39b8-abc6-96c079b79069","name":"Get Files","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-800.0,"y":968.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"b430caf1-d421-39b8-abc6-96c079b79069","name":"Get Files","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"72761507-fb82-3d0d-b388-5193aca150e9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"1823d266-df81-3a62-b5a8-d377733bcf96","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"43d6fb14-b0fc-3d29-bdff-9b85d126f898","name":"Validate Data length","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"14892ded-d432-326b-805a-625390d56bef","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"e4768991-8e43-3903-b584-9ac4dccd4a03","name":"Get Data length","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"d96b402c-c2e4-379c-8691-1eb5f4404c64","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"f6202826-7654-3a48-8e9e-598a6b2e3877","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"275d8a27-d7bb-3d76-a458-020dc11ac2e7","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"275d8a27-d7bb-3d76-a458-020dc11ac2e7","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"281d7cec-e3f6-37e1-b3bb-71f2ef337af9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isNotEmpty"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"43d6fb14-b0fc-3d29-bdff-9b85d126f898","name":"Validate Data length","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"019162d7-8206-3bb3-8741-5c609b085695","name":"response_succeeded","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"f538db8c-01ff-383b-8f41-74e5b4818bbc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"d96b402c-c2e4-379c-8691-1eb5f4404c64","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"0f82c249-3aca-35a7-b73a-03179c0e0959","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"1b5cd394-e748-3c7f-8d44-6179967f489e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","failure"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"1823d266-df81-3a62-b5a8-d377733bcf96","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"0f82c249-3aca-35a7-b73a-03179c0e0959","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"12e94f8a-227b-3484-a448-105482104f81","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["No Retry","Failure"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"b430caf1-d421-39b8-abc6-96c079b79069","name":"Get Files","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"bac40057-12b0-39f9-8ccb-210940eea99b","name":"request_failed","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"c4ed7e6d-e67d-3641-b0ac-466bff59b861","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["No Retry"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"b430caf1-d421-39b8-abc6-96c079b79069","name":"Get Files","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"e4768991-8e43-3903-b584-9ac4dccd4a03","name":"Get Data length","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"79506429-691a-3c18-ad06-3d1f091fe931","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["Response"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"b430caf1-d421-39b8-abc6-96c079b79069","name":"Get Files","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"0f82c249-3aca-35a7-b73a-03179c0e0959","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"7ed5b90c-11fe-3b7c-a26e-4dc455f877f9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"43d6fb14-b0fc-3d29-bdff-9b85d126f898","name":"Validate Data length","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"0f82c249-3aca-35a7-b73a-03179c0e0959","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"03fcf5d5-b0bc-34a8-8a69-ef3af2e03745","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"275d8a27-d7bb-3d76-a458-020dc11ac2e7","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"782aee2c-e122-34c0-a7e2-f24b8870f026","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"0a9b065e-f90b-305a-be96-632ab8a4a9f5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"0f82c249-3aca-35a7-b73a-03179c0e0959","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"b430caf1-d421-39b8-abc6-96c079b79069","name":"Get Files","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"ba2012d9-308e-3fc8-b76f-03838295261c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"86d2271f-c242-36e1-b638-351f9ce15ac1","id":"b35bbbdf-5b14-366d-8ce8-0d0f7441e7b6","name":"start_get_file","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"0f82c249-3aca-35a7-b73a-03179c0e0959","position":{"x":-1216.0,"y":1248.0}}],"groupIdentifier":"2a57b657-3fe7-34a2-a838-79c3b741c1d7","identifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"b35bbbdf-5b14-366d-8ce8-0d0f7441e7b6","name":"start_get_file","position":{"x":-576.0,"y":840.0},"type":"INPUT_PORT"}],"labels":[],"name":"Directus File Request Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"bac40057-12b0-39f9-8ccb-210940eea99b","name":"request_failed","position":{"x":8.0,"y":1016.0},"type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"019162d7-8206-3bb3-8741-5c609b085695","name":"response_succeeded","position":{"x":-576.0,"y":2016.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":-272.0,"y":392.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"275d8a27-d7bb-3d76-a458-020dc11ac2e7","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-632.0,"y":1608.0},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"data\": {\n\t\t\t\"*\": {\n\t\t\t\t\"data\": {\n                  \"full_url\": \"s3url\"\n                }\n\t\t\t}\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"782aee2c-e122-34c0-a7e2-f24b8870f026","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-1792.0,"y":1208.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"43d6fb14-b0fc-3d29-bdff-9b85d126f898","name":"Validate Data length","penaltyDuration":"30 sec","position":{"x":-632.0,"y":1400.0},"properties":{"Routing Strategy":"Route to Property name","isNotEmpty":"${data.length:gt(0)}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isNotEmpty":{"displayName":"isNotEmpty","identifiesControllerService":false,"name":"isNotEmpty","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["Original"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"b430caf1-d421-39b8-abc6-96c079b79069","name":"Get Files","penaltyDuration":"30 sec","position":{"x":-632.0,"y":976.0},"properties":{"use-etag":"false","Proxy Type":"http","Connection Timeout":"45 secs","send-message-body":"true","Authorization":"Bearer ${token}","set-form-filename":"false","Always Output Response":"false","etag-max-cache-size":"10MB","idle-timeout":"5 mins","Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"#{directus_hostname}/_/files?fields[]=data&filter[filename_download]=${destination_filename}","Content-Type":"application/json","form-body-form-name":"$","max-idle-connections":"5","Read Timeout":"45 secs","Max Length To Put In Attribute":"1024","ignore-response-content":"false","Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","Include Date Header":"True","Penalize on \"No Retry\"":"false"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Attributes to Send":{"displayName":"Attributes to Send","identifiesControllerService":false,"name":"Attributes to Send","sensitive":false},"use-etag":{"displayName":"Use HTTP ETag","identifiesControllerService":false,"name":"use-etag","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Proxy Type":{"displayName":"Proxy Type","identifiesControllerService":false,"name":"Proxy Type","sensitive":false},"Basic Authentication Password":{"displayName":"Basic Authentication Password","identifiesControllerService":false,"name":"Basic Authentication Password","sensitive":true},"Connection Timeout":{"displayName":"Connection Timeout","identifiesControllerService":false,"name":"Connection Timeout","sensitive":false},"send-message-body":{"displayName":"Send Message Body","identifiesControllerService":false,"name":"send-message-body","sensitive":false},"Authorization":{"displayName":"Authorization","identifiesControllerService":false,"name":"Authorization","sensitive":false},"set-form-filename":{"displayName":"Set Flowfile Form Data File Name","identifiesControllerService":false,"name":"set-form-filename","sensitive":false},"Always Output Response":{"displayName":"Always Output Response","identifiesControllerService":false,"name":"Always Output Response","sensitive":false},"etag-max-cache-size":{"displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"name":"etag-max-cache-size","sensitive":false},"idle-timeout":{"displayName":"Idle Timeout","identifiesControllerService":false,"name":"idle-timeout","sensitive":false},"Put Response Body In Attribute":{"displayName":"Put Response Body In Attribute","identifiesControllerService":false,"name":"Put Response Body In Attribute","sensitive":false},"Use Chunked Encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"Use Chunked Encoding","sensitive":false},"Follow Redirects":{"displayName":"Follow Redirects","identifiesControllerService":false,"name":"Follow Redirects","sensitive":false},"Remote URL":{"displayName":"Remote URL","identifiesControllerService":false,"name":"Remote URL","sensitive":false},"Content-Type":{"displayName":"Content-Type","identifiesControllerService":false,"name":"Content-Type","sensitive":false},"form-body-form-name":{"displayName":"Flowfile Form Data Name","identifiesControllerService":false,"name":"form-body-form-name","sensitive":false},"max-idle-connections":{"displayName":"Max Idle Connections","identifiesControllerService":false,"name":"max-idle-connections","sensitive":false},"invokehttp-proxy-user":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"invokehttp-proxy-user","sensitive":false},"Read Timeout":{"displayName":"Read Timeout","identifiesControllerService":false,"name":"Read Timeout","sensitive":false},"Max Length To Put In Attribute":{"displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"name":"Max Length To Put In Attribute","sensitive":false},"invokehttp-proxy-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"invokehttp-proxy-password","sensitive":true},"ignore-response-content":{"displayName":"Ignore response's content","identifiesControllerService":false,"name":"ignore-response-content","sensitive":false},"Proxy Port":{"displayName":"Proxy Port","identifiesControllerService":false,"name":"Proxy Port","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Digest Authentication":{"displayName":"Use Digest Authentication","identifiesControllerService":false,"name":"Digest Authentication","sensitive":false},"HTTP Method":{"displayName":"HTTP Method","identifiesControllerService":false,"name":"HTTP Method","sensitive":false},"Add Response Headers to Request":{"displayName":"Add Response Headers to Request","identifiesControllerService":false,"name":"Add Response Headers to Request","sensitive":false},"Basic Authentication Username":{"displayName":"Basic Authentication Username","identifiesControllerService":false,"name":"Basic Authentication Username","sensitive":false},"Include Date Header":{"displayName":"Include Date Header","identifiesControllerService":false,"name":"Include Date Header","sensitive":false},"Penalize on \"No Retry\"":{"displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"name":"Penalize on \"No Retry\"","sensitive":false},"Useragent":{"displayName":"Useragent","identifiesControllerService":false,"name":"Useragent","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#e09455"},"type":"org.apache.nifi.processors.standard.InvokeHTTP","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"d96b402c-c2e4-379c-8691-1eb5f4404c64","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":-632.0,"y":1816.0},"properties":{"Delete Attributes Expression":"(?:(invokehttp|keep\\-alive)(?:\\..*)*)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"e4768991-8e43-3903-b584-9ac4dccd4a03","name":"Get Data length","penaltyDuration":"30 sec","position":{"x":-632.0,"y":1184.0},"properties":{"data.length":"$.data.length()","Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"data.length":{"displayName":"data.length","identifiesControllerService":false,"name":"data.length","sensitive":false},"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"86d2271f-c242-36e1-b638-351f9ce15ac1","identifier":"1823d266-df81-3a62-b5a8-d377733bcf96","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1312.0,"y":968.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"a84bdb93-fd7e-3931-a9fa-13dcb51df47b","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"b85b2d19-f639-3c5a-8c7b-d3a53e63da95","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"25be2fe6-6bd4-3bc8-a165-3faa588cc820","name":"AttributesToJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"b2cc2240-5c81-3e2b-82d8-7072d654ee98","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"ae177684-856d-328f-8285-ce5086c2d998","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"ccc29ebc-0b87-309c-a800-0cd4daea94c3","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"22119f14-66c0-36f1-8325-035847a4683e","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"52c371a8-abfb-3d64-9226-7544e50fff7b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"0b44ad43-6c9b-3443-b2d1-293a067f35ca","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"eb1f9e75-9d4b-30f8-8eec-5c80af7282d0","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"aebc3d4f-c0a6-3c33-9b96-01cf01a9c1f6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"25be2fe6-6bd4-3bc8-a165-3faa588cc820","name":"AttributesToJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"b2cc2240-5c81-3e2b-82d8-7072d654ee98","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"9196d0d2-695b-34fc-8d4f-a665dd2c33de","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"a84bdb93-fd7e-3931-a9fa-13dcb51df47b","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"1470f6c6-e725-3727-9082-668485d8fe52","name":"end_file_extraction","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"c61df290-75da-35d5-81cc-10c70b81cafe","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"22119f14-66c0-36f1-8325-035847a4683e","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"33f23544-19a3-3528-8225-3089eb803c93","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"54745f56-da68-3fb6-8978-4772b5fee68e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"eb1f9e75-9d4b-30f8-8eec-5c80af7282d0","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"08df03e9-e3e3-3a9a-b89f-ab809e014438","name":"ExtractText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"5f0acf98-ca5c-3df5-b255-a1324008267f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"7a861c5d-bd2b-33db-b219-ae70a6d121da","name":"start_file_extract","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"25be2fe6-6bd4-3bc8-a165-3faa588cc820","name":"AttributesToJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"52b21b4b-db81-3f44-847b-63d17679e427","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"08df03e9-e3e3-3a9a-b89f-ab809e014438","name":"ExtractText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"0b44ad43-6c9b-3443-b2d1-293a067f35ca","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"79b721f1-1ed7-30d4-a660-0b072c7e7f1d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"ccc29ebc-0b87-309c-a800-0cd4daea94c3","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"ccc29ebc-0b87-309c-a800-0cd4daea94c3","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"a42d61ac-8ae6-3b7a-9fa4-4ef732cedfb3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"a84bdb93-fd7e-3931-a9fa-13dcb51df47b","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"b2cc2240-5c81-3e2b-82d8-7072d654ee98","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"164ed0a1-4974-3a4a-97c7-bc22422582cd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"0b44ad43-6c9b-3443-b2d1-293a067f35ca","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"eb1f9e75-9d4b-30f8-8eec-5c80af7282d0","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"6157bfde-9a49-37f9-baf3-4c50e6945669","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"08df03e9-e3e3-3a9a-b89f-ab809e014438","name":"ExtractText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"33f23544-19a3-3528-8225-3089eb803c93","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"f63bc6c9-39ae-368d-bcf8-48e4d7246c35","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","id":"b2cc2240-5c81-3e2b-82d8-7072d654ee98","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"b2cc2240-5c81-3e2b-82d8-7072d654ee98","position":{"x":1616.0,"y":352.0}},{"componentType":"FUNNEL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"eb1f9e75-9d4b-30f8-8eec-5c80af7282d0","position":{"x":1616.0,"y":-16.0}}],"groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"7a861c5d-bd2b-33db-b219-ae70a6d121da","name":"start_file_extract","position":{"x":872.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"Extract Files Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"1470f6c6-e725-3727-9082-668485d8fe52","name":"end_file_extraction","position":{"x":880.0,"y":928.0},"type":"OUTPUT_PORT"}],"position":{"x":0.0,"y":2464.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"0b44ad43-6c9b-3443-b2d1-293a067f35ca","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":824.0,"y":504.0},"properties":{"Destination":"flowfile-attribute","destination_filepath":"$.path","Return Type":"auto-detect","Null Value Representation":"empty string","destination_filename":"$.name","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"destination_filename":{"displayName":"destination_filename","identifiesControllerService":false,"name":"destination_filename","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"33f23544-19a3-3528-8225-3089eb803c93","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1728.0,"y":136.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"08df03e9-e3e3-3a9a-b89f-ab809e014438","name":"ExtractText","penaltyDuration":"30 sec","position":{"x":816.0,"y":-296.0},"properties":{"Enable Unicode Predefined Character Classes":"false","Permit Whitespace and Comments in Pattern":"false","Enable Unicode-aware Case Folding":"false","Enable DOTALL Mode":"false","Enable Unix Lines Mode":"false","Maximum Buffer Size":"1 MB","Enable Canonical Equivalence":"false","Enable Case-insensitive Matching":"true","Enable Multiline Mode":"false","destination_filepath":"([^http:\\/\\/.*\\.com |\\}](?:[\\w|\\d|\\s|\\-|\\_|\\/|\\\\]*\\.)(?:jpg|png))","Maximum Capture Group Length":"4096","Enable Literal Parsing of the Pattern":"false","destination_filename":"([\\w|\\-|_\\d|\\s]*\\.(?:jpg|png))","Character Set":"UTF-8","Include Capture Group 0":"false","extract-text-enable-repeating-capture-group":"true"},"propertyDescriptors":{"Enable Unicode Predefined Character Classes":{"displayName":"Enable Unicode Predefined Character Classes","identifiesControllerService":false,"name":"Enable Unicode Predefined Character Classes","sensitive":false},"Permit Whitespace and Comments in Pattern":{"displayName":"Permit Whitespace and Comments in Pattern","identifiesControllerService":false,"name":"Permit Whitespace and Comments in Pattern","sensitive":false},"Enable Unicode-aware Case Folding":{"displayName":"Enable Unicode-aware Case Folding","identifiesControllerService":false,"name":"Enable Unicode-aware Case Folding","sensitive":false},"Enable DOTALL Mode":{"displayName":"Enable DOTALL Mode","identifiesControllerService":false,"name":"Enable DOTALL Mode","sensitive":false},"Enable Unix Lines Mode":{"displayName":"Enable Unix Lines Mode","identifiesControllerService":false,"name":"Enable Unix Lines Mode","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Enable Canonical Equivalence":{"displayName":"Enable Canonical Equivalence","identifiesControllerService":false,"name":"Enable Canonical Equivalence","sensitive":false},"Enable Case-insensitive Matching":{"displayName":"Enable Case-insensitive Matching","identifiesControllerService":false,"name":"Enable Case-insensitive Matching","sensitive":false},"Enable Multiline Mode":{"displayName":"Enable Multiline Mode","identifiesControllerService":false,"name":"Enable Multiline Mode","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Maximum Capture Group Length":{"displayName":"Maximum Capture Group Length","identifiesControllerService":false,"name":"Maximum Capture Group Length","sensitive":false},"Enable Literal Parsing of the Pattern":{"displayName":"Enable Literal Parsing of the Pattern","identifiesControllerService":false,"name":"Enable Literal Parsing of the Pattern","sensitive":false},"destination_filename":{"displayName":"destination_filename","identifiesControllerService":false,"name":"destination_filename","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Include Capture Group 0":{"displayName":"Include Capture Group 0","identifiesControllerService":false,"name":"Include Capture Group 0","sensitive":false},"extract-text-enable-repeating-capture-group":{"displayName":"Enable repeating capture group","identifiesControllerService":false,"name":"extract-text-enable-repeating-capture-group","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ExtractText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["original"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"ccc29ebc-0b87-309c-a800-0cd4daea94c3","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":824.0,"y":304.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.data.[*]"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"a84bdb93-fd7e-3931-a9fa-13dcb51df47b","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":824.0,"y":112.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"destination_filepath.*\": \"file.&(0,1).path\",\n      \"destination_filename.*\": \"file.&(0,1).name\"\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": \"&\"\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"data.[]\"\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"22119f14-66c0-36f1-8325-035847a4683e","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":824.0,"y":720.0},"properties":{"Delete Attributes Expression":"((?:source|destination)\\_file(?:name|path)(?:\\.\\d)+)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","destination_filepath":"${destination_filepath:unescapeJson():replaceAll('(?:([\\w|\\s|\\d|\\-|\\_]*\\.)+(jpg|png))', ''):replaceFirst('/', '')}"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5bed24-c053-3a93-a03f-d9dacbd742ad","identifier":"25be2fe6-6bd4-3bc8-a165-3faa588cc820","name":"AttributesToJSON","penaltyDuration":"30 sec","position":{"x":824.0,"y":-88.0},"properties":{"attributes-to-json-regex":"((?:source|destination)\\_file(?:name|path)(?:\\.\\d)+)","Destination":"flowfile-content","Null Value":"false","Include Core Attributes":"true"},"propertyDescriptors":{"attributes-to-json-regex":{"displayName":"Attributes Regular Expression","identifiesControllerService":false,"name":"attributes-to-json-regex","sensitive":false},"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Null Value":{"displayName":"Null Value","identifiesControllerService":false,"name":"Null Value","sensitive":false},"Attributes List":{"displayName":"Attributes List","identifiesControllerService":false,"name":"Attributes List","sensitive":false},"Include Core Attributes":{"displayName":"Include Core Attributes","identifiesControllerService":false,"name":"Include Core Attributes","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.AttributesToJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"14f7f75c-06ab-3e78-8271-076e264a73a1","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"9e4797e1-2036-3f99-bc15-0f3c548726d0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"bb7aa210-29da-36fe-b219-58f4a8dca06d","name":"ExtractText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"300f3db7-311d-3160-acb4-da73ad2b5926","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"fca6757d-9587-32db-872a-00f5098161ba","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"9a91f27b-ae13-3f11-ad6a-6e7d3cf7ac78","name":"FetchS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"ca65fdcb-2bd5-3c9a-af7f-de08b1808239","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"430badd5-b9d0-30d7-aed2-a61e627cb8e6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"9a91f27b-ae13-3f11-ad6a-6e7d3cf7ac78","name":"FetchS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"9a91f27b-ae13-3f11-ad6a-6e7d3cf7ac78","name":"FetchS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"256b788e-b9dd-385e-95c0-4c84df022fc2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"14f7f75c-06ab-3e78-8271-076e264a73a1","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"ca65fdcb-2bd5-3c9a-af7f-de08b1808239","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"9f921912-bac5-3d5f-81c3-38ad5cbcdc23","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"300f3db7-311d-3160-acb4-da73ad2b5926","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"ca65fdcb-2bd5-3c9a-af7f-de08b1808239","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"e604334f-3ecf-345a-aa75-6580c8ecdddb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"bb7aa210-29da-36fe-b219-58f4a8dca06d","name":"ExtractText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"5da87a2f-e1cc-37e8-8c0a-f5c25f010f74","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"a4c7bdd9-c72f-396d-b662-89e7d8921be2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"ca65fdcb-2bd5-3c9a-af7f-de08b1808239","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"bb7aa210-29da-36fe-b219-58f4a8dca06d","name":"ExtractText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"dc7d0f0c-1ed2-358d-8952-9bcb724ae3fd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"b354a5bc-fa73-3598-8de6-b33674ab9245","id":"e2d245d3-2e35-393c-97f2-6b52dbbe2ffe","name":"start_copying","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"ca65fdcb-2bd5-3c9a-af7f-de08b1808239","position":{"x":-232.0,"y":88.0}}],"groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"e2d245d3-2e35-393c-97f2-6b52dbbe2ffe","name":"start_copying","position":{"x":240.0,"y":-392.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow DEV","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-272.0,"y":3056.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"bb7aa210-29da-36fe-b219-58f4a8dca06d","name":"ExtractText","penaltyDuration":"30 sec","position":{"x":184.0,"y":-288.0},"properties":{"Enable Unicode Predefined Character Classes":"false","Permit Whitespace and Comments in Pattern":"false","Enable Unicode-aware Case Folding":"false","Enable DOTALL Mode":"false","Enable Unix Lines Mode":"false","Maximum Buffer Size":"1 MB","Enable Canonical Equivalence":"true","Enable Case-insensitive Matching":"true","Enable Multiline Mode":"false","source_filename":"([\\w|\\-|_\\d]*\\.(jpg|png))","Maximum Capture Group Length":"4096","source_filepath":"([^\\/\\/.*\\.com\\/][\\w|\\-|_\\d]+\\/)","Enable Literal Parsing of the Pattern":"false","Character Set":"UTF-8","Include Capture Group 0":"false","extract-text-enable-repeating-capture-group":"false"},"propertyDescriptors":{"Enable Unicode Predefined Character Classes":{"displayName":"Enable Unicode Predefined Character Classes","identifiesControllerService":false,"name":"Enable Unicode Predefined Character Classes","sensitive":false},"Permit Whitespace and Comments in Pattern":{"displayName":"Permit Whitespace and Comments in Pattern","identifiesControllerService":false,"name":"Permit Whitespace and Comments in Pattern","sensitive":false},"Enable Unicode-aware Case Folding":{"displayName":"Enable Unicode-aware Case Folding","identifiesControllerService":false,"name":"Enable Unicode-aware Case Folding","sensitive":false},"Enable DOTALL Mode":{"displayName":"Enable DOTALL Mode","identifiesControllerService":false,"name":"Enable DOTALL Mode","sensitive":false},"Enable Unix Lines Mode":{"displayName":"Enable Unix Lines Mode","identifiesControllerService":false,"name":"Enable Unix Lines Mode","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Enable Canonical Equivalence":{"displayName":"Enable Canonical Equivalence","identifiesControllerService":false,"name":"Enable Canonical Equivalence","sensitive":false},"Enable Case-insensitive Matching":{"displayName":"Enable Case-insensitive Matching","identifiesControllerService":false,"name":"Enable Case-insensitive Matching","sensitive":false},"Enable Multiline Mode":{"displayName":"Enable Multiline Mode","identifiesControllerService":false,"name":"Enable Multiline Mode","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Maximum Capture Group Length":{"displayName":"Maximum Capture Group Length","identifiesControllerService":false,"name":"Maximum Capture Group Length","sensitive":false},"source_filepath":{"displayName":"source_filepath","identifiesControllerService":false,"name":"source_filepath","sensitive":false},"Enable Literal Parsing of the Pattern":{"displayName":"Enable Literal Parsing of the Pattern","identifiesControllerService":false,"name":"Enable Literal Parsing of the Pattern","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Include Capture Group 0":{"displayName":"Include Capture Group 0","identifiesControllerService":false,"name":"Include Capture Group 0","sensitive":false},"extract-text-enable-repeating-capture-group":{"displayName":"Enable repeating capture group","identifiesControllerService":false,"name":"extract-text-enable-repeating-capture-group","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ExtractText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"300f3db7-311d-3160-acb4-da73ad2b5926","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":184.0,"y":312.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{aws_bucket_destination_env}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"5da87a2f-e1cc-37e8-8c0a-f5c25f010f74","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-736.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"9a91f27b-ae13-3f11-ad6a-6e7d3cf7ac78","name":"FetchS3Object","penaltyDuration":"30 sec","position":{"x":184.0,"y":120.0},"properties":{"Access Key":"#{aws_access_key}","requester-pays":"false","Object Key":"${source_s3path}","Signer Override":"Default Signature","Bucket":"#{aws_bucket_source_env}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"requester-pays":{"displayName":"Requester Pays","identifiesControllerService":false,"name":"requester-pays","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Version":{"displayName":"Version","identifiesControllerService":false,"name":"Version","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.FetchS3Object","yieldDuration":"1 sec"},{"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n</criteria>","autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b354a5bc-fa73-3598-8de6-b33674ab9245","identifier":"14f7f75c-06ab-3e78-8271-076e264a73a1","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":-80.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content","source_s3path":"${source_filepath:isNull():or(\n    ${source_filepath:isNull()}):ifElse(\n        ${source_filename},\n        ${source_filepath:append(${source_filename})}\n    )}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"source_s3path":{"displayName":"source_s3path","identifiesControllerService":false,"name":"source_s3path","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"c6a12b42-466a-37f1-ae8a-3b33b0524c38","name":"ExtractText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"5eec9880-e6d1-3822-b952-354056583728","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"d5ff50d7-8e93-3f94-959e-3e4cd92307be","name":"start_copying","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"ac1acfce-4487-31bd-a9c0-b9f1dee833a5","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"7a9833d2-0c69-3ca3-97f7-0cf5eb4d44d4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"380d3c3b-a6fb-35ec-8be8-39133d49070f","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"2dbee8be-fe7e-3120-b3aa-24cd0b41ed43","name":"FetchS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"469d43c9-e318-3d90-be08-c92be48b8c14","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"0e488abb-2bc2-3511-8b94-0808691e46cc","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"380d3c3b-a6fb-35ec-8be8-39133d49070f","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"c1fc120d-f7ca-3f36-b144-081e92fe2a86","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"2dbee8be-fe7e-3120-b3aa-24cd0b41ed43","name":"FetchS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"380d3c3b-a6fb-35ec-8be8-39133d49070f","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"b28f3188-d1e9-3cbc-ae08-486224db34c1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"4ee7fff4-213e-3ad3-9bec-48dbcfc0ed54","name":"PutS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"0e488abb-2bc2-3511-8b94-0808691e46cc","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"eaa00be2-68c4-3cf2-b32c-6ace76b7c7af","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"c6a12b42-466a-37f1-ae8a-3b33b0524c38","name":"ExtractText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"4ee7fff4-213e-3ad3-9bec-48dbcfc0ed54","name":"PutS3Object","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"fd83bdea-796c-32ac-bc50-761a9ca2dfcd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"2dbee8be-fe7e-3120-b3aa-24cd0b41ed43","name":"FetchS3Object","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"380d3c3b-a6fb-35ec-8be8-39133d49070f","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"1348845a-812c-303d-9fe1-99fca4cc6727","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"1f0c90a4-cd40-302b-ae58-1162591d920c","id":"c6a12b42-466a-37f1-ae8a-3b33b0524c38","name":"ExtractText","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"380d3c3b-a6fb-35ec-8be8-39133d49070f","position":{"x":-192.0,"y":96.0}}],"groupIdentifier":"47989608-0bcb-312e-b406-84ee67e9fad4","identifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"d5ff50d7-8e93-3f94-959e-3e4cd92307be","name":"start_copying","position":{"x":240.0,"y":-392.0},"type":"INPUT_PORT"}],"labels":[],"name":"Copy Files S3 Dataflow INT","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":304.0,"y":3056.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"c6a12b42-466a-37f1-ae8a-3b33b0524c38","name":"ExtractText","penaltyDuration":"30 sec","position":{"x":184.0,"y":-288.0},"properties":{"Enable Unicode Predefined Character Classes":"false","Permit Whitespace and Comments in Pattern":"false","Enable Unicode-aware Case Folding":"false","Enable DOTALL Mode":"false","Enable Unix Lines Mode":"false","Maximum Buffer Size":"1 MB","Enable Canonical Equivalence":"true","Enable Case-insensitive Matching":"true","Enable Multiline Mode":"false","source_filename":"([\\w|\\-|_\\d]*\\.(jpg|png))","Maximum Capture Group Length":"4096","source_filepath":"([^\\/\\/.*\\.com\\/][\\w|\\-|_\\d]+\\/)","Enable Literal Parsing of the Pattern":"false","Character Set":"UTF-8","Include Capture Group 0":"false","extract-text-enable-repeating-capture-group":"false"},"propertyDescriptors":{"Enable Unicode Predefined Character Classes":{"displayName":"Enable Unicode Predefined Character Classes","identifiesControllerService":false,"name":"Enable Unicode Predefined Character Classes","sensitive":false},"Permit Whitespace and Comments in Pattern":{"displayName":"Permit Whitespace and Comments in Pattern","identifiesControllerService":false,"name":"Permit Whitespace and Comments in Pattern","sensitive":false},"Enable Unicode-aware Case Folding":{"displayName":"Enable Unicode-aware Case Folding","identifiesControllerService":false,"name":"Enable Unicode-aware Case Folding","sensitive":false},"Enable DOTALL Mode":{"displayName":"Enable DOTALL Mode","identifiesControllerService":false,"name":"Enable DOTALL Mode","sensitive":false},"Enable Unix Lines Mode":{"displayName":"Enable Unix Lines Mode","identifiesControllerService":false,"name":"Enable Unix Lines Mode","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Enable Canonical Equivalence":{"displayName":"Enable Canonical Equivalence","identifiesControllerService":false,"name":"Enable Canonical Equivalence","sensitive":false},"Enable Case-insensitive Matching":{"displayName":"Enable Case-insensitive Matching","identifiesControllerService":false,"name":"Enable Case-insensitive Matching","sensitive":false},"Enable Multiline Mode":{"displayName":"Enable Multiline Mode","identifiesControllerService":false,"name":"Enable Multiline Mode","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Maximum Capture Group Length":{"displayName":"Maximum Capture Group Length","identifiesControllerService":false,"name":"Maximum Capture Group Length","sensitive":false},"source_filepath":{"displayName":"source_filepath","identifiesControllerService":false,"name":"source_filepath","sensitive":false},"Enable Literal Parsing of the Pattern":{"displayName":"Enable Literal Parsing of the Pattern","identifiesControllerService":false,"name":"Enable Literal Parsing of the Pattern","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Include Capture Group 0":{"displayName":"Include Capture Group 0","identifiesControllerService":false,"name":"Include Capture Group 0","sensitive":false},"extract-text-enable-repeating-capture-group":{"displayName":"Enable repeating capture group","identifiesControllerService":false,"name":"extract-text-enable-repeating-capture-group","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ExtractText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"4ee7fff4-213e-3ad3-9bec-48dbcfc0ed54","name":"PutS3Object","penaltyDuration":"30 sec","position":{"x":184.0,"y":312.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{aws_bucket_destination_env}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n</criteria>","autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"0e488abb-2bc2-3511-8b94-0808691e46cc","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":-80.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"content","source_s3path":"${source_filepath:isNull():or(\n    ${source_filepath:isNull()}):ifElse(\n        ${source_filename},\n        ${source_filepath:append(${source_filename})}\n    )}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"source_s3path":{"displayName":"source_s3path","identifiesControllerService":false,"name":"source_s3path","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"ac1acfce-4487-31bd-a9c0-b9f1dee833a5","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-776.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1f0c90a4-cd40-302b-ae58-1162591d920c","identifier":"2dbee8be-fe7e-3120-b3aa-24cd0b41ed43","name":"FetchS3Object","penaltyDuration":"30 sec","position":{"x":184.0,"y":120.0},"properties":{"Access Key":"#{aws_access_key}","requester-pays":"false","Object Key":"${source_s3path}","Signer Override":"Default Signature","Bucket":"#{aws_bucket_source_env}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"requester-pays":{"displayName":"Requester Pays","identifiesControllerService":false,"name":"requester-pays","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Version":{"displayName":"Version","identifiesControllerService":false,"name":"Version","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.s3.FetchS3Object","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"5d569be3-7204-33b7-8076-e75586ba72e1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"b87d9ea3-bd19-3cc1-94bb-8e25c17f85bb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"329b2f6e-f5a9-38b3-af01-e5e91994b4c6","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"a7909c17-aaf4-309e-87ab-dfcc73ba70b9","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"8a82f9c1-73c6-31b6-8eee-d32c6d47893b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"b96bf188-0096-3be5-a93a-92a90f0f62d2","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"5d569be3-7204-33b7-8076-e75586ba72e1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"94f82f24-b5c7-3baa-80e4-757a181655f4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"80d81d51-2d5b-32b1-abe4-9a45bbf583af","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"a7909c17-aaf4-309e-87ab-dfcc73ba70b9","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"13bb34f1-284f-3a1e-ae17-4fab490e464d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"5d569be3-7204-33b7-8076-e75586ba72e1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"b96bf188-0096-3be5-a93a-92a90f0f62d2","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"e0abc4c7-1e93-30d5-a9d5-6010c175b370","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"5d569be3-7204-33b7-8076-e75586ba72e1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"2c6af40b-e42d-3ab1-90a0-c3e73f52059d","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"bdf8959d-cdb4-3fe6-823f-54b83ddd18c7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"a7909c17-aaf4-309e-87ab-dfcc73ba70b9","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"80d81d51-2d5b-32b1-abe4-9a45bbf583af","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"cfeb5671-acf8-3be1-bfe5-1bd938f521a7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","id":"b96bf188-0096-3be5-a93a-92a90f0f62d2","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"a7909c17-aaf4-309e-87ab-dfcc73ba70b9","position":{"x":1032.0,"y":328.0}}],"groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"329b2f6e-f5a9-38b3-af01-e5e91994b4c6","name":"start_putdynamodb","position":{"x":496.0,"y":72.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content DEV","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-408.0,"y":1608.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"2c6af40b-e42d-3ab1-90a0-c3e73f52059d","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1328.0,"y":280.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"80d81d51-2d5b-32b1-abe4-9a45bbf583af","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-160.0,"y":408.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"b96bf188-0096-3be5-a93a-92a90f0f62d2","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":440.0000226844937,"y":406.00007975514495},"properties":{"Table Name":"#{dynamo_db_env}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"495bef28-f5f5-3a12-82db-1ef2ceb8e8c2","identifier":"5d569be3-7204-33b7-8076-e75586ba72e1","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":440.0,"y":200.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"66ca6ead-dd30-3edc-bf58-5e9696742fa4","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"1623dfc4-53dc-384f-8403-a9ac79071b16","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"74133c99-0bb5-38f0-84ca-bd0b1744d9ca","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"9dd26190-dc7e-3026-b2c6-6643628c7934","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"802a7655-87a4-357e-9f0a-609a19707884","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"1b9ff325-8392-3259-b1f9-a1e7ae65f4a9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"1b9ff325-8392-3259-b1f9-a1e7ae65f4a9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"336acfee-0a3d-34b3-99eb-f4d762729525","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"a140da70-c7dc-30c6-a183-83004e6c5789","name":"start_putdynamodb","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"74133c99-0bb5-38f0-84ca-bd0b1744d9ca","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"fdf81760-237a-3ff7-a7f0-f81b4ca71187","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"1b9ff325-8392-3259-b1f9-a1e7ae65f4a9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"1b9ff325-8392-3259-b1f9-a1e7ae65f4a9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"a8c99257-0ecf-324b-be93-fd6241552565","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"66ca6ead-dd30-3edc-bf58-5e9696742fa4","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"9dd26190-dc7e-3026-b2c6-6643628c7934","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"d2bc6797-5239-3ede-a84b-c058a015ffe7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","id":"74133c99-0bb5-38f0-84ca-bd0b1744d9ca","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"a140da70-c7dc-30c6-a183-83004e6c5789","name":"start_putdynamodb","position":{"x":496.0,"y":32.0},"type":"INPUT_PORT"}],"labels":[],"name":"PutDynamoDb APL Content INT","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":736.0,"y":1600.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"9dd26190-dc7e-3026-b2c6-6643628c7934","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1080.0,"y":264.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"1b9ff325-8392-3259-b1f9-a1e7ae65f4a9","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":444.00001281993434,"y":145.99993850448487},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"74133c99-0bb5-38f0-84ca-bd0b1744d9ca","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":448.0,"y":360.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"23491cd5-7950-3fac-a53f-a3f6149c9f8a","identifier":"66ca6ead-dd30-3edc-bf58-5e9696742fa4","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-131.9999871800657,"y":385.9999385044849},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"5b51578f-2fdd-3735-be6b-fbfba72f5afa","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-896.0,"y":664.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"fb2a3814-f1f8-3e89-816f-43015151506b","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":184.0,"y":1376.0},"properties":{"Delete Attributes Expression":"(?i:(?:content|invokehttp|keep|\\-|alive)(?:[\\.|\\-].*)*)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"1a64c7b9-f291-354e-83ff-e105f9c24852","name":"ReplaceText","penaltyDuration":"30 sec","position":{"x":192.0,"y":1160.0},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${content:prepend(\"\\\"\"):append(\"\\\"\")}","Evaluation Mode":"Entire text","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"displayName":"Search Value","identifiesControllerService":false,"name":"Regular Expression","sensitive":false},"Replacement Value":{"displayName":"Replacement Value","identifiesControllerService":false,"name":"Replacement Value","sensitive":false},"Evaluation Mode":{"displayName":"Evaluation Mode","identifiesControllerService":false,"name":"Evaluation Mode","sensitive":false},"Line-by-Line Evaluation Mode":{"displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"name":"Line-by-Line Evaluation Mode","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Replacement Strategy":{"displayName":"Replacement Strategy","identifiesControllerService":false,"name":"Replacement Strategy","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"44fbfbb4-bbfd-3b00-826b-363c02e78ae0","name":"Update Content Attribute","penaltyDuration":"30 sec","position":{"x":192.0,"y":936.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","content":"${content:toString():escapeJson()}"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"content":{"displayName":"content","identifiesControllerService":false,"name":"content","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"8ffe1971-6272-369a-ab38-ec1e0d2a922f","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":192.0,"y":504.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.*.localization.[*]"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"1a0c2575-077c-3100-97fb-49264611083b","name":"Transform APL","penaltyDuration":"30 sec","position":{"x":192.0,"y":264.0},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"localization\": \"&1.localization\"\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"bb662e85-36b0-397e-82d1-916a2d4b2ec5","identifier":"32a8439c-6b1d-3036-9430-d0e6b8230c36","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":192.0,"y":728.0},"properties":{"Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","id":"$.id_localization","content":"$.value","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"id":{"displayName":"id","identifiesControllerService":false,"name":"id","sensitive":false},"content":{"displayName":"content","identifiesControllerService":false,"name":"content","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","id":"8065d9b9-a3a9-3cec-8972-e9643f3f05bd","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"32a188d5-fdcd-378e-bd2f-053963e8db2e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","id":"9ed98ce8-e81a-3186-81b1-ae8e44dce919","name":"Transform Metadata","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"17078238-a9fd-3917-9e8d-37232d52557c","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"1dd1f2dd-b316-33c0-b9ff-f953d5a4d5cc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","id":"9ed98ce8-e81a-3186-81b1-ae8e44dce919","name":"Transform Metadata","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","id":"9ed98ce8-e81a-3186-81b1-ae8e44dce919","name":"Transform Metadata","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"bfa84f91-83b6-39cf-87f4-ea5ddfcd4c0c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","id":"e5bf673e-5d24-3e9c-b5a6-c7ffb2f50838","name":"Start APL Metadata Upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"e2342597-1172-32f5-8c34-b36f66e3575d","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"90150e9f-9c34-3c98-ae6e-f387dd49f2d4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","id":"9ed98ce8-e81a-3186-81b1-ae8e44dce919","name":"Transform Metadata","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"e5bf673e-5d24-3e9c-b5a6-c7ffb2f50838","name":"Start APL Metadata Upsert","position":{"x":-568.0,"y":456.0},"type":"INPUT_PORT"}],"labels":[],"name":"APL Metadata","outputPorts":[],"position":{"x":-472.0,"y":1640.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"efed098d-5708-335c-a740-b8c393799eb1","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"538e0c38-9a11-3766-a5b7-8e0258499b4b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"c6b66757-bbf1-3bea-ba85-50a292cd09cf","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"c08744e6-b539-3f08-b1ad-406c8739b901","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"2367d283-1a3f-3747-b004-81da367018ba","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"e2342597-1172-32f5-8c34-b36f66e3575d","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"efed098d-5708-335c-a740-b8c393799eb1","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"22eaf29a-1c7e-3e0a-b93a-eed119c40ce9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"d3458b30-e323-3b2e-88d6-2ac930ecdf12","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"d3458b30-e323-3b2e-88d6-2ac930ecdf12","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"47a67436-7ce3-3995-b683-b3526254badd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"51b77cb1-21c1-34d3-950a-344557889897","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"c6b66757-bbf1-3bea-ba85-50a292cd09cf","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"f5892521-b2f4-3f20-ba41-e86b5a47eae9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"d3458b30-e323-3b2e-88d6-2ac930ecdf12","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"51b77cb1-21c1-34d3-950a-344557889897","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"a8bd4ca8-202c-3ebe-bb2b-f28602538bfa","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"c6b66757-bbf1-3bea-ba85-50a292cd09cf","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"d3458b30-e323-3b2e-88d6-2ac930ecdf12","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"866a3600-a5c7-3fd7-9ad0-2007a5971f8a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ee548e78-e9e2-3f29-b65e-a048135b99fd","id":"c08744e6-b539-3f08-b1ad-406c8739b901","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"e2342597-1172-32f5-8c34-b36f66e3575d","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA INT - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":-368.0,"y":840.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"d3458b30-e323-3b2e-88d6-2ac930ecdf12","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"efed098d-5708-335c-a740-b8c393799eb1","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1408.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"c6b66757-bbf1-3bea-ba85-50a292cd09cf","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"c08744e6-b539-3f08-b1ad-406c8739b901","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Content.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ee548e78-e9e2-3f29-b65e-a048135b99fd","identifier":"51b77cb1-21c1-34d3-950a-344557889897","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"fd076895-b20d-32aa-bd70-806814bf98fd","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"495a6019-cedb-3087-8c98-a87a4cef1ce8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"b8035c3e-a74a-3e66-a4db-1ceb6d112173","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"b8035c3e-a74a-3e66-a4db-1ceb6d112173","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"3b04ebb1-acf5-39b4-9667-3248db788fda","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"841b63d5-6c0d-342f-9fab-d4eaeaf9dcff","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"d6275549-e1b8-313c-a060-4245d183e005","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"f4183280-bb39-37c1-bd0c-0d2b9e62d8d4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"09a47f50-e63b-3c1f-b109-7594df56588f","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"09a47f50-e63b-3c1f-b109-7594df56588f","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"6f0bb92f-dd8e-3c7b-9747-27640e035242","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"b8035c3e-a74a-3e66-a4db-1ceb6d112173","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"841b63d5-6c0d-342f-9fab-d4eaeaf9dcff","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"823ba3d6-0d4d-3b23-9e58-6fbdd0dc2655","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"17078238-a9fd-3917-9e8d-37232d52557c","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"fd076895-b20d-32aa-bd70-806814bf98fd","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"201f39e8-39e0-3ea8-bbe2-c82b8b124a2e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"09a47f50-e63b-3c1f-b109-7594df56588f","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"b8035c3e-a74a-3e66-a4db-1ceb6d112173","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"ad688b4e-6f3f-3b86-987e-11d1b0adabe3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","id":"d6275549-e1b8-313c-a060-4245d183e005","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"17078238-a9fd-3917-9e8d-37232d52557c","name":"Start Controlled Put","position":{"x":808.0,"y":-400.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL METADATA DEV - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-904.0,"y":840.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"b8035c3e-a74a-3e66-a4db-1ceb6d112173","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"09a47f50-e63b-3c1f-b109-7594df56588f","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"fd076895-b20d-32aa-bd70-806814bf98fd","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1416.0,"y":64.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"841b63d5-6c0d-342f-9fab-d4eaeaf9dcff","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":752.0,"y":-272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.Metadata.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8c21c9b8-8189-3bce-9ca8-f4b5a3113398","identifier":"d6275549-e1b8-313c-a060-4245d183e005","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"9ed98ce8-e81a-3186-81b1-ae8e44dce919","name":"Transform Metadata","penaltyDuration":"30 sec","position":{"x":-626.3055664987266,"y":595.4924114767186},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n        \"*\": {\n          \"version\": \"&1.version\",\n          \"localization\": {\n            \"*\": {\n              \"id_localization\": \"&1.tmp.content.[&3].id\",\n              \"culture\": \"&1.tmp.content.[&3].culture\"\n            }\n          }\n        }\n      }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"version\": \"&1.version\",\n        \"*\": {\n          \"content\": {\n            \"*\": {\n              \"@id\": \"&1.tmp.@culture\"\n            }\n          }\n        }\n      }\n    }\n  }, {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"@tmp\": \"@version\"\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4b0be90e-9f3b-3fe3-92fb-497e7443d5eb","identifier":"8065d9b9-a3a9-3cec-8972-e9643f3f05bd","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-1240.0,"y":592.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"517d89e7-f0a0-38ac-907a-d382d12e0082","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":-114.92526936116155,"y":1065.4902016837946},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cbb9fc1a-a0d9-304f-9328-b99b8db626f2","identifier":"f39d57b1-6bf3-38f0-be8d-93e6d648a8d0","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-114.92526936116155,"y":1265.4902016837946},"properties":{"jolt-spec":"[{\n  \"operation\": \"modify-default-beta\",\n  \"spec\": {\n      \"*\": {\n        \"localization\": {\n          \"*\": {\n            \"id_localization\": \"=concat(@(3,name),'.',@(3,version), '.',@(1,culture))\"\n          }\n        }\n      }\n    }\n}]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"1b1a6a4b-2b9b-3121-a2c6-d39ec4fa7fc8","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2fc0015d-cc27-3697-a377-4f9f739a2b98","identifier":"536a67d7-80eb-3739-a3b5-10300d5c5e77","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"2fc0015d-cc27-3697-a377-4f9f739a2b98","id":"83a892b8-72e8-3ec6-8274-357404696ccc","name":"Transform Response","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"37e2bc7b-9da0-3d0b-a47f-df5b82f12a29","name":"Start Controlled Put","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2fc0015d-cc27-3697-a377-4f9f739a2b98","identifier":"59802775-da9c-3b38-b514-805004756be5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"2fc0015d-cc27-3697-a377-4f9f739a2b98","id":"83a892b8-72e8-3ec6-8274-357404696ccc","name":"Transform Response","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2fc0015d-cc27-3697-a377-4f9f739a2b98","id":"83a892b8-72e8-3ec6-8274-357404696ccc","name":"Transform Response","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2fc0015d-cc27-3697-a377-4f9f739a2b98","identifier":"57dd903c-a414-3949-b563-c294c87eb870","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"2fc0015d-cc27-3697-a377-4f9f739a2b98","id":"a3959f11-92e9-31c3-adb8-15cc0c6874b5","name":"start_cms_response","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"2fc0015d-cc27-3697-a377-4f9f739a2b98","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"2fc0015d-cc27-3697-a377-4f9f739a2b98","identifier":"a3959f11-92e9-31c3-adb8-15cc0c6874b5","name":"start_cms_response","position":{"x":2128.0,"y":1144.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Response","outputPorts":[],"position":{"x":528.0,"y":1232.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"216604a3-fc80-3da5-bcd1-5eca308251f1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"d4e7caeb-37e1-3e49-9d6c-870fde8b754f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"23fe9cb4-a788-37f4-ad90-f0d1df23f828","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"216604a3-fc80-3da5-bcd1-5eca308251f1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"36cd5d14-6d35-3636-979d-5b56bb6f138a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"1b1a6a4b-2b9b-3121-a2c6-d39ec4fa7fc8","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"670f69b1-f895-3297-b86a-46f44284c675","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"8f053750-612c-39af-b5ad-79bffa8c20ec","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"216604a3-fc80-3da5-bcd1-5eca308251f1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"d7fbde1f-a0a5-343c-a664-7cfc92f25797","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"fdc07ca4-a645-3177-9686-15d872085e60","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"216604a3-fc80-3da5-bcd1-5eca308251f1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"23fe9cb4-a788-37f4-ad90-f0d1df23f828","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"dc8948d0-5227-30e3-afa9-5f08fc155b5e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"670f69b1-f895-3297-b86a-46f44284c675","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"d7fbde1f-a0a5-343c-a664-7cfc92f25797","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"890bf9a5-5636-3367-8887-e6169c82ed3e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"7a051d42-277a-3c22-bb2f-728a92dee12f","id":"670f69b1-f895-3297-b86a-46f44284c675","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"2fc0015d-cc27-3697-a377-4f9f739a2b98","identifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"1b1a6a4b-2b9b-3121-a2c6-d39ec4fa7fc8","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS RESPONSE INT - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":1760.0,"y":1528.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"23fe9cb4-a788-37f4-ad90-f0d1df23f828","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"670f69b1-f895-3297-b86a-46f44284c675","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"#{dynamo_db_env}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"216604a3-fc80-3da5-bcd1-5eca308251f1","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7a051d42-277a-3c22-bb2f-728a92dee12f","identifier":"d7fbde1f-a0a5-343c-a664-7cfc92f25797","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1376.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"b5c91593-0b03-3ea1-968e-1a2218940ac6","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"d8d87dd2-8584-36e4-a9d3-a48966e58b17","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"be1e0366-b3dd-3f75-9bd0-7fc684ebf336","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"e7edd9a0-5e06-3d01-aece-496957bf8655","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"e23ee119-60fa-377a-ae2e-5bebb3521a89","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"be1e0366-b3dd-3f75-9bd0-7fc684ebf336","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"be1e0366-b3dd-3f75-9bd0-7fc684ebf336","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"b3641de8-9f48-3575-8923-e0dae5c68c0f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"37e2bc7b-9da0-3d0b-a47f-df5b82f12a29","name":"Start Controlled Put","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"be1e0366-b3dd-3f75-9bd0-7fc684ebf336","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"3390f49e-5688-3d0f-830f-6b2823387381","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"1c8ce72e-f863-33bc-9714-67eb4431aa5d","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"e7edd9a0-5e06-3d01-aece-496957bf8655","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"285d5ffc-ab14-3489-9385-a1ef644aef31","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"b5c91593-0b03-3ea1-968e-1a2218940ac6","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"1c8ce72e-f863-33bc-9714-67eb4431aa5d","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"58e76103-5fbc-3b40-bd89-70cfa43fd1a1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"26790148-3b1f-36f7-8bc1-24a18ccba468","id":"b5c91593-0b03-3ea1-968e-1a2218940ac6","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"2fc0015d-cc27-3697-a377-4f9f739a2b98","identifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"37e2bc7b-9da0-3d0b-a47f-df5b82f12a29","name":"Start Controlled Put","position":{"x":816.0,"y":-192.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS RESPONSE DEV - PutDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":2376.0,"y":1528.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"e7edd9a0-5e06-3d01-aece-496957bf8655","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1368.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"1c8ce72e-f863-33bc-9714-67eb4431aa5d","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"b5c91593-0b03-3ea1-968e-1a2218940ac6","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":168.0},"properties":{"Table Name":"#{dynamo_db_env}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.hash.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26790148-3b1f-36f7-8bc1-24a18ccba468","identifier":"be1e0366-b3dd-3f75-9bd0-7fc684ebf336","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2fc0015d-cc27-3697-a377-4f9f739a2b98","identifier":"83a892b8-72e8-3ec6-8274-357404696ccc","name":"Transform Response","penaltyDuration":"30 sec","position":{"x":2072.0,"y":1272.0},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"replies\": {\n\t\t\t\t\"*\": {\n\t\t\t\t\t\"Replies\": {\n\t\t\t\t\t\t\"*\": {\n\t\t\t\t\t\t\t\"Speak\": \"@(5,version).@(3,Culture)[&1].speak\",\n\t\t\t\t\t\t\t\"Text\": \"@(5,version).@(3,Culture)[&1].text\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"c40e2896-1c23-320b-95fe-e5b1d0861638","name":"Validate by Table Name","penaltyDuration":"30 sec","position":{"x":272.0,"y":960.0},"properties":{"Routing Strategy":"Route to Property name","isAplTable":"${tableName:equals(\"apl\")}","isResponseTable":"${tableName:equals(\"responses\")}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isAplTable":{"displayName":"isAplTable","identifiesControllerService":false,"name":"isAplTable","sensitive":false},"isResponseTable":{"displayName":"isResponseTable","identifiesControllerService":false,"name":"isResponseTable","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"01f7131d-4360-317b-9898-e900a11142ed","identifier":"21837a90-48e2-39dd-b6c5-0cc9da35f57c","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":272.0,"y":768.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"PutDynamoDb"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"dacf3015-0d8a-32a1-b86d-662f22fe30f6","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"b6a20c2f-92be-3ba3-b72e-856172273482","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"dd9059ba-5a19-3ee6-993c-d6c218da54b8","name":"end_succeeded_flow","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"52beee50-af5a-3276-87ff-d28037a23a83","id":"49ad15e7-1edf-35f5-9540-aa6e16b12a91","name":"end_get_resources","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"64e4ae52-21aa-366a-af9e-3c572692519a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"bfd43de7-4c57-3198-8e7a-b6c398b66b6e","name":"reponse_succeeded","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1055.9999275859211,"y":159.9999606897963}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"855158f4-5e39-3ead-8344-53029a76cbbf","name":"start_cache_credentials","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"4a26629e-16d5-34cd-87ec-e7f6964a3d89","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"b5892f99-a1e2-3aa4-8370-5970d6cfa588","name":"credentials_not_cached","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"2c074eb8-2659-346f-a786-10e775526c9e","name":"start_try_get_token","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"743e645b-49a0-3ae0-9e2c-aa6208562dd7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"52beee50-af5a-3276-87ff-d28037a23a83","id":"b94a251d-fd33-383e-b6e0-31a0e342d62f","name":"start_get_resource","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":1055.9999275859211,"y":7.999960689796296}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"325487c7-0833-3186-ad9b-46fd3bb20ec5","name":"start_get_auth","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"1e57db62-fc4f-318b-aee4-80aa2e34c07e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"3902618a-d10f-38c2-8024-3b62d6fac30d","name":"credentials_cached","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"325487c7-0833-3186-ad9b-46fd3bb20ec5","name":"start_get_auth","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"4ac96be3-2c65-3bc9-ad69-602c3fef588b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"3d77ea84-84e2-3b5b-bcca-1577b3aa06c3","name":"end_failed_flow","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":319.9999275859211,"y":5.999960689796296}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"2c074eb8-2659-346f-a786-10e775526c9e","name":"start_try_get_token","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"3b8d395c-dac2-3573-a04e-818897c30660","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"39cebc60-9e88-3dd4-9c09-8b7f436afa7b","name":"auth_granted","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":247.9999275859211,"y":319.9999606897963}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"608fde27-9614-38d6-93d3-39e25de00937","name":"start_retry_flow","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"fb5e50d8-7e43-37ef-8eb6-7cc2d26e01aa","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"9288351b-7d60-3017-9dc6-4b21b93e3add","name":"request_failed","type":"OUTPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"52beee50-af5a-3276-87ff-d28037a23a83","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"b94a251d-fd33-383e-b6e0-31a0e342d62f","name":"start_get_resource","position":{"x":-200.0,"y":-80.0},"type":"INPUT_PORT"}],"labels":[],"name":"Get Resource Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"49ad15e7-1edf-35f5-9540-aa6e16b12a91","name":"end_get_resources","position":{"x":-200.0,"y":688.0},"type":"OUTPUT_PORT"}],"position":{"x":1656.075281645261,"y":768.4738301971402},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"82f1dd98-e59e-3dbd-83d2-0ece754cb295","name":"Get Cached Token","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"53526518-eaba-3a0b-b1cd-0ef98964dc8a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"2c074eb8-2659-346f-a786-10e775526c9e","name":"start_try_get_token","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"dd9059ba-5a19-3ee6-993c-d6c218da54b8","name":"end_succeeded_flow","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"f8950efa-47a8-3a3e-8850-38b6573043b0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"b8b9aead-523b-3d87-a6fa-796324a1889c","name":"Add token to Attributes","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"f2dbe95b-1d0a-3a31-9676-32161250c41b","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"28df2826-2e27-31d4-9906-6cdbf9db588b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["Unauthorized"],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"fc565be1-b66a-3c56-840b-251b7009f708","name":"Is Unauthorized","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"b8b9aead-523b-3d87-a6fa-796324a1889c","name":"Add token to Attributes","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"57ac4a08-efde-360d-a67f-f8ec74485fc1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"82f1dd98-e59e-3dbd-83d2-0ece754cb295","name":"Get Cached Token","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"a6d0bfb3-80c9-3642-ae53-7f14ba3e5acf","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"def25d40-30a8-37c5-b18e-674287a3ceab","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"b8b9aead-523b-3d87-a6fa-796324a1889c","name":"Add token to Attributes","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"a6d0bfb3-80c9-3642-ae53-7f14ba3e5acf","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"8703ec35-1f09-381b-b74d-fd8d63fe268f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["not-found","failure"],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"82f1dd98-e59e-3dbd-83d2-0ece754cb295","name":"Get Cached Token","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"3d77ea84-84e2-3b5b-bcca-1577b3aa06c3","name":"end_failed_flow","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"82a2da34-796a-333d-ac4d-78b7ced12663","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"f2dbe95b-1d0a-3a31-9676-32161250c41b","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"f2dbe95b-1d0a-3a31-9676-32161250c41b","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"7ee4c7a4-08b9-3c08-b864-f518449fae65","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["not-found"],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"82f1dd98-e59e-3dbd-83d2-0ece754cb295","name":"Get Cached Token","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"964ad5d2-53ea-3077-9412-e07e4a1969da","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"8708ad4a-92c7-34cd-9d17-87c881b2e7ef","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"a6d0bfb3-80c9-3642-ae53-7f14ba3e5acf","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"fc565be1-b66a-3c56-840b-251b7009f708","name":"Is Unauthorized","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"6946ca0b-c955-36d8-a6a7-db501db88f37","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5f38c272-8e88-30dc-b4bf-907ccf639840","id":"608fde27-9614-38d6-93d3-39e25de00937","name":"start_retry_flow","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"a6d0bfb3-80c9-3642-ae53-7f14ba3e5acf","position":{"x":2160.0,"y":1408.0}},{"componentType":"FUNNEL","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"f2dbe95b-1d0a-3a31-9676-32161250c41b","position":{"x":2168.0,"y":1128.0}}],"groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"608fde27-9614-38d6-93d3-39e25de00937","name":"start_retry_flow","position":{"x":1664.0,"y":800.0},"type":"INPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"2c074eb8-2659-346f-a786-10e775526c9e","name":"start_try_get_token","position":{"x":1120.0,"y":1264.0},"type":"INPUT_PORT"}],"labels":[],"name":"Try Get Token Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"3d77ea84-84e2-3b5b-bcca-1577b3aa06c3","name":"end_failed_flow","position":{"x":2408.0,"y":1104.0},"type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"dd9059ba-5a19-3ee6-993c-d6c218da54b8","name":"end_succeeded_flow","position":{"x":1664.0,"y":1712.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":-272.0000724140789,"y":69.9999606897963},"processGroups":[],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"fc565be1-b66a-3c56-840b-251b7009f708","name":"Is Unauthorized","penaltyDuration":"30 sec","position":{"x":1608.0,"y":960.0},"properties":{"Routing Strategy":"Route to Property name","Unauthorized":"${invokehttp.status.code:equals(401)}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"Unauthorized":{"displayName":"Unauthorized","identifiesControllerService":false,"name":"Unauthorized","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#57edd7"},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"964ad5d2-53ea-3077-9412-e07e4a1969da","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":2480.0,"y":1360.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"82f1dd98-e59e-3dbd-83d2-0ece754cb295","name":"Get Cached Token","penaltyDuration":"30 sec","position":{"x":1608.0,"y":1216.0},"properties":{"Cache Entry Identifier":"#{directus_token_identifier}","Distributed Cache Service":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","Max Length To Put In Attribute":"256","Character Set":"UTF-8"},"propertyDescriptors":{"Cache Entry Identifier":{"displayName":"Cache Entry Identifier","identifiesControllerService":false,"name":"Cache Entry Identifier","sensitive":false},"Put Cache Value In Attribute":{"displayName":"Put Cache Value In Attribute","identifiesControllerService":false,"name":"Put Cache Value In Attribute","sensitive":false},"Distributed Cache Service":{"displayName":"Distributed Cache Service","identifiesControllerService":true,"name":"Distributed Cache Service","sensitive":false},"Max Length To Put In Attribute":{"displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"name":"Max Length To Put In Attribute","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#70cf47"},"type":"org.apache.nifi.processors.standard.FetchDistributedMapCache","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5f38c272-8e88-30dc-b4bf-907ccf639840","identifier":"b8b9aead-523b-3d87-a6fa-796324a1889c","name":"Add token to Attributes","penaltyDuration":"30 sec","position":{"x":1608.0,"y":1488.0},"properties":{"Destination":"flowfile-attribute","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore","token":"$.data.token"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false},"token":{"displayName":"token","identifiesControllerService":false,"name":"token","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"3ec07adc-aec3-31b0-915b-e636af54b20a","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"f63f3c14-282e-39b2-8bd3-2e34f3523030","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"295f422f-3e97-3188-903c-bede34ef8f26","name":"Caching Token","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"2cf03773-f1f3-33ab-8150-29f1848d8d80","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"d88ddec2-4aad-34b6-819e-367c609197ab","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"3ec07adc-aec3-31b0-915b-e636af54b20a","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"3ec07adc-aec3-31b0-915b-e636af54b20a","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"38d30bde-b250-3b0c-bf90-e027186212d1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["No Retry","Retry","Failure"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"42b47b83-6774-3611-bd24-8cdd5fe2181a","name":"Get Authentication","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"3ec07adc-aec3-31b0-915b-e636af54b20a","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"94b7746c-f2fb-384d-9525-0711a422bcb8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["not-found","failure"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"82be36f3-9728-3e01-8940-1fa87a0b031c","name":"Get Cached Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"b5892f99-a1e2-3aa4-8370-5970d6cfa588","name":"credentials_not_cached","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"96c7ee89-d284-3623-80fa-89e43bfbfc5b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["not-found"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"82be36f3-9728-3e01-8940-1fa87a0b031c","name":"Get Cached Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"42b47b83-6774-3611-bd24-8cdd5fe2181a","name":"Get Authentication","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"2b4463a0-eb8f-3440-aa6e-4ed1cd3dd446","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"82be36f3-9728-3e01-8940-1fa87a0b031c","name":"Get Cached Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-88.0,"y":328.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"61fd74cd-dcde-3a78-8617-5580f51631d6","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"0939a7fe-43df-3a81-bca4-cd90e04a5998","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["Retry"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"42b47b83-6774-3611-bd24-8cdd5fe2181a","name":"Get Authentication","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"2d844608-fd2d-3812-89f9-3c6a10e59615","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"ecc07c9b-aa8f-33ea-be52-db28eba3cc2f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"325487c7-0833-3186-ad9b-46fd3bb20ec5","name":"start_get_auth","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"295f422f-3e97-3188-903c-bede34ef8f26","name":"Caching Token","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"27d2521a-b0f0-314e-8c7a-af3a85747d85","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["Response","Original"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"42b47b83-6774-3611-bd24-8cdd5fe2181a","name":"Get Authentication","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"3ec07adc-aec3-31b0-915b-e636af54b20a","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"f106a250-cd7a-3c93-a884-5b3dcb36bc4e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"4d5a2c3c-4450-3381-8cbb-bdee040b6eee","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"4d5a2c3c-4450-3381-8cbb-bdee040b6eee","name":"ReplaceText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"b12f2c8b-a99d-35e5-ae5d-33318bd66e9e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"60626feb-d48f-3de6-abd3-4f230db7e961","name":"Remove InvokeHttp Headers","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"82be36f3-9728-3e01-8940-1fa87a0b031c","name":"Get Cached Credentials","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"c325506b-c52a-3c55-91a3-9fc3aea76573","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retry"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"61fd74cd-dcde-3a78-8617-5580f51631d6","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"60626feb-d48f-3de6-abd3-4f230db7e961","name":"Remove InvokeHttp Headers","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"e9494083-cfc4-3200-bde9-6e2ed84533fd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"295f422f-3e97-3188-903c-bede34ef8f26","name":"Caching Token","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"39cebc60-9e88-3dd4-9c09-8b7f436afa7b","name":"auth_granted","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"fef54eb1-c861-33a9-a54f-17ed1e955322","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"4d5a2c3c-4450-3381-8cbb-bdee040b6eee","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"82be36f3-9728-3e01-8940-1fa87a0b031c","name":"Get Cached Credentials","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"d6687161-3d2c-3fc0-a7ba-d4533bd4ff87","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"443f430f-d72c-3783-8242-71d47212bf45","id":"2d844608-fd2d-3812-89f9-3c6a10e59615","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"3ec07adc-aec3-31b0-915b-e636af54b20a","position":{"x":1024.0,"y":576.0}}],"groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"443f430f-d72c-3783-8242-71d47212bf45","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"325487c7-0833-3186-ad9b-46fd3bb20ec5","name":"start_get_auth","position":{"x":400.0,"y":-440.0},"type":"INPUT_PORT"}],"labels":[],"name":"Request Token Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"39cebc60-9e88-3dd4-9c09-8b7f436afa7b","name":"auth_granted","position":{"x":400.0,"y":1192.0},"type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"b5892f99-a1e2-3aa4-8370-5970d6cfa588","name":"credentials_not_cached","position":{"x":968.0,"y":56.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":503.9999275859211,"y":69.9999606897963},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"60626feb-d48f-3de6-abd3-4f230db7e961","name":"Remove InvokeHttp Headers","penaltyDuration":"30 sec","position":{"x":344.0,"y":752.0},"properties":{"Delete Attributes Expression":".*\\.?invokehttp\\..*","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"82be36f3-9728-3e01-8940-1fa87a0b031c","name":"Get Cached Credentials","penaltyDuration":"30 sec","position":{"x":344.0,"y":8.0},"properties":{"Cache Entry Identifier":"#{directus_cache_identifier}","Distributed Cache Service":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","Max Length To Put In Attribute":"512","Character Set":"UTF-8"},"propertyDescriptors":{"Cache Entry Identifier":{"displayName":"Cache Entry Identifier","identifiesControllerService":false,"name":"Cache Entry Identifier","sensitive":false},"Put Cache Value In Attribute":{"displayName":"Put Cache Value In Attribute","identifiesControllerService":false,"name":"Put Cache Value In Attribute","sensitive":false},"Distributed Cache Service":{"displayName":"Distributed Cache Service","identifiesControllerService":true,"name":"Distributed Cache Service","sensitive":false},"Max Length To Put In Attribute":{"displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"name":"Max Length To Put In Attribute","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#70cf47"},"type":"org.apache.nifi.processors.standard.FetchDistributedMapCache","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"2cf03773-f1f3-33ab-8150-29f1848d8d80","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1312.0,"y":544.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"295f422f-3e97-3188-903c-bede34ef8f26","name":"Caching Token","penaltyDuration":"30 sec","position":{"x":344.0,"y":528.0},"properties":{"Cache Entry Identifier":"#{directus_token_identifier}","Cache update strategy":"replace","Distributed Cache Service":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"displayName":"Cache Entry Identifier","identifiesControllerService":false,"name":"Cache Entry Identifier","sensitive":false},"Cache update strategy":{"displayName":"Cache update strategy","identifiesControllerService":false,"name":"Cache update strategy","sensitive":false},"Distributed Cache Service":{"displayName":"Distributed Cache Service","identifiesControllerService":true,"name":"Distributed Cache Service","sensitive":false},"Max cache entry size":{"displayName":"Max cache entry size","identifiesControllerService":false,"name":"Max cache entry size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#82a1ba"},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"42b47b83-6774-3611-bd24-8cdd5fe2181a","name":"Get Authentication","penaltyDuration":"30 sec","position":{"x":344.0,"y":264.0},"properties":{"use-etag":"false","Proxy Type":"http","Connection Timeout":"30 secs","send-message-body":"true","set-form-filename":"false","Always Output Response":"false","etag-max-cache-size":"10MB","idle-timeout":"5 mins","Use Chunked Encoding":"false","Follow Redirects":"False","Remote URL":"#{directus_hostname}/_/auth/authenticate","Content-Type":"${mime.type}","max-idle-connections":"5","Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"false","Include Date Header":"True","Penalize on \"No Retry\"":"false"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Attributes to Send":{"displayName":"Attributes to Send","identifiesControllerService":false,"name":"Attributes to Send","sensitive":false},"use-etag":{"displayName":"Use HTTP ETag","identifiesControllerService":false,"name":"use-etag","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Proxy Type":{"displayName":"Proxy Type","identifiesControllerService":false,"name":"Proxy Type","sensitive":false},"Basic Authentication Password":{"displayName":"Basic Authentication Password","identifiesControllerService":false,"name":"Basic Authentication Password","sensitive":true},"Connection Timeout":{"displayName":"Connection Timeout","identifiesControllerService":false,"name":"Connection Timeout","sensitive":false},"send-message-body":{"displayName":"Send Message Body","identifiesControllerService":false,"name":"send-message-body","sensitive":false},"set-form-filename":{"displayName":"Set Flowfile Form Data File Name","identifiesControllerService":false,"name":"set-form-filename","sensitive":false},"Always Output Response":{"displayName":"Always Output Response","identifiesControllerService":false,"name":"Always Output Response","sensitive":false},"etag-max-cache-size":{"displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"name":"etag-max-cache-size","sensitive":false},"idle-timeout":{"displayName":"Idle Timeout","identifiesControllerService":false,"name":"idle-timeout","sensitive":false},"Put Response Body In Attribute":{"displayName":"Put Response Body In Attribute","identifiesControllerService":false,"name":"Put Response Body In Attribute","sensitive":false},"Use Chunked Encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"Use Chunked Encoding","sensitive":false},"Follow Redirects":{"displayName":"Follow Redirects","identifiesControllerService":false,"name":"Follow Redirects","sensitive":false},"Remote URL":{"displayName":"Remote URL","identifiesControllerService":false,"name":"Remote URL","sensitive":false},"Content-Type":{"displayName":"Content-Type","identifiesControllerService":false,"name":"Content-Type","sensitive":false},"form-body-form-name":{"displayName":"Flowfile Form Data Name","identifiesControllerService":false,"name":"form-body-form-name","sensitive":false},"max-idle-connections":{"displayName":"Max Idle Connections","identifiesControllerService":false,"name":"max-idle-connections","sensitive":false},"invokehttp-proxy-user":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"invokehttp-proxy-user","sensitive":false},"Read Timeout":{"displayName":"Read Timeout","identifiesControllerService":false,"name":"Read Timeout","sensitive":false},"Max Length To Put In Attribute":{"displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"name":"Max Length To Put In Attribute","sensitive":false},"invokehttp-proxy-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"invokehttp-proxy-password","sensitive":true},"ignore-response-content":{"displayName":"Ignore response's content","identifiesControllerService":false,"name":"ignore-response-content","sensitive":false},"Proxy Port":{"displayName":"Proxy Port","identifiesControllerService":false,"name":"Proxy Port","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Digest Authentication":{"displayName":"Use Digest Authentication","identifiesControllerService":false,"name":"Digest Authentication","sensitive":false},"HTTP Method":{"displayName":"HTTP Method","identifiesControllerService":false,"name":"HTTP Method","sensitive":false},"Add Response Headers to Request":{"displayName":"Add Response Headers to Request","identifiesControllerService":false,"name":"Add Response Headers to Request","sensitive":false},"Basic Authentication Username":{"displayName":"Basic Authentication Username","identifiesControllerService":false,"name":"Basic Authentication Username","sensitive":false},"Include Date Header":{"displayName":"Include Date Header","identifiesControllerService":false,"name":"Include Date Header","sensitive":false},"Penalize on \"No Retry\"":{"displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"name":"Penalize on \"No Retry\"","sensitive":false},"Useragent":{"displayName":"Useragent","identifiesControllerService":false,"name":"Useragent","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#e09455"},"type":"org.apache.nifi.processors.standard.InvokeHTTP","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"4d5a2c3c-4450-3381-8cbb-bdee040b6eee","name":"ReplaceText","penaltyDuration":"30 sec","position":{"x":344.0,"y":976.0},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":" ","Evaluation Mode":"Entire text","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"displayName":"Search Value","identifiesControllerService":false,"name":"Regular Expression","sensitive":false},"Replacement Value":{"displayName":"Replacement Value","identifiesControllerService":false,"name":"Replacement Value","sensitive":false},"Evaluation Mode":{"displayName":"Evaluation Mode","identifiesControllerService":false,"name":"Evaluation Mode","sensitive":false},"Line-by-Line Evaluation Mode":{"displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"name":"Line-by-Line Evaluation Mode","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Replacement Strategy":{"displayName":"Replacement Strategy","identifiesControllerService":false,"name":"Replacement Strategy","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["retries_exceeded","failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"61fd74cd-dcde-3a78-8617-5580f51631d6","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-264.0,"y":0.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"443f430f-d72c-3783-8242-71d47212bf45","identifier":"2d844608-fd2d-3812-89f9-3c6a10e59615","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":344.0,"y":-288.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"mime.type":{"displayName":"mime.type","identifiesControllerService":false,"name":"mime.type","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#938aed"},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"3e26ce09-904c-372d-af25-8a0dc87a24cd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"4b5e1b4c-78ba-3644-9a85-ce9b68c64321","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"486b4c19-5acf-3906-b50c-d1b5798f8bef","name":"Get Data length","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"385ec07a-ca8b-36a7-b999-b5616e44d583","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"20a557d4-0758-35b9-939c-2a5051bd616b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"3e26ce09-904c-372d-af25-8a0dc87a24cd","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"3e26ce09-904c-372d-af25-8a0dc87a24cd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"9aa84a64-bfc3-3a20-b27a-db1015e39e44","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","failure"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"80589739-4028-3b11-acc4-3effd812e1d4","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"235e55ba-4299-3d80-80c8-591853a9ecbf","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"df02ae41-b669-3103-82ea-e5ecebd61653","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isNotEmpty"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"dd76c7df-9f67-3126-8905-ec819e0577bd","name":"Validate Data length","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"3e26ce09-904c-372d-af25-8a0dc87a24cd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"d9227ca8-1b49-3004-8731-6c71ee640ccc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"235e55ba-4299-3d80-80c8-591853a9ecbf","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"80589739-4028-3b11-acc4-3effd812e1d4","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"dc67ce0c-e103-3581-8586-f61f75b0cc18","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["Retry"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"6fed1d00-0ea6-3d5d-a862-49b363798768","name":"Get Revisions","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-772.0,"y":961.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"6fed1d00-0ea6-3d5d-a862-49b363798768","name":"Get Revisions","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"22299c5d-5a97-3398-96ea-7c7738e1755e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"80589739-4028-3b11-acc4-3effd812e1d4","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"6fed1d00-0ea6-3d5d-a862-49b363798768","name":"Get Revisions","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"03dad503-473c-37f9-b55f-f62a7b14d493","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"dacf3015-0d8a-32a1-b86d-662f22fe30f6","name":"start_get_resource","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"bfd43de7-4c57-3198-8e7a-b6c398b66b6e","name":"reponse_succeeded","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"70ff5aa6-4794-3ff1-86d1-d4877547bef8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"235e55ba-4299-3d80-80c8-591853a9ecbf","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"3e26ce09-904c-372d-af25-8a0dc87a24cd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"2df54044-73ce-3abb-b3e1-8f29e4c87b6a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"dd76c7df-9f67-3126-8905-ec819e0577bd","name":"Validate Data length","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"486b4c19-5acf-3906-b50c-d1b5798f8bef","name":"Get Data length","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"7c2b6165-15fc-3e1e-aa6e-30112f93df23","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["Response"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"6fed1d00-0ea6-3d5d-a862-49b363798768","name":"Get Revisions","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-120.0,"y":1040.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"9288351b-7d60-3017-9dc6-4b21b93e3add","name":"request_failed","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"8084bdaf-52a8-358b-8226-83256754b370","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["No Retry"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"6fed1d00-0ea6-3d5d-a862-49b363798768","name":"Get Revisions","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"dd76c7df-9f67-3126-8905-ec819e0577bd","name":"Validate Data length","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"c0d1cfcf-b762-393d-9ae0-24a76e5d12cf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"486b4c19-5acf-3906-b50c-d1b5798f8bef","name":"Get Data length","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"3e26ce09-904c-372d-af25-8a0dc87a24cd","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"e7d07d26-a32c-303e-8259-5a0c01270709","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["No Retry","Failure"],"source":{"comments":"","groupId":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","id":"6fed1d00-0ea6-3d5d-a862-49b363798768","name":"Get Revisions","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"3e26ce09-904c-372d-af25-8a0dc87a24cd","position":{"x":-1216.0,"y":1248.0}}],"groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"dacf3015-0d8a-32a1-b86d-662f22fe30f6","name":"start_get_resource","position":{"x":-576.0,"y":848.0},"type":"INPUT_PORT"}],"labels":[],"name":"Directus Resources Request Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"bfd43de7-4c57-3198-8e7a-b6c398b66b6e","name":"reponse_succeeded","position":{"x":-576.0,"y":1872.0},"type":"OUTPUT_PORT"},{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"9288351b-7d60-3017-9dc6-4b21b93e3add","name":"request_failed","position":{"x":56.0,"y":1016.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":-272.0000724140789,"y":391.9999606897963},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"385ec07a-ca8b-36a7-b999-b5616e44d583","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-1800.0,"y":1208.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"80589739-4028-3b11-acc4-3effd812e1d4","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1304.0,"y":976.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"235e55ba-4299-3d80-80c8-591853a9ecbf","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-632.0,"y":1632.0},"properties":{"jolt-spec":"[{\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"data\": {\n        \"*\": {\n          \"data\": \"data[]\"\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"data\": {\n        \"*\": {\n          \"id\": \"=toInteger\",\n          \"modified_by\": \"=toInteger\",\n          \"version\": \"=toInteger\"\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"\"\n    }\n\t}, {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"@version[]\"\n    }\n  }, {\n    \"operation\": \"cardinality\",\n    \"spec\": {\n      \"*\": {\n        \"@\": \"ONE\"\n      }\n    }\n}]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"486b4c19-5acf-3906-b50c-d1b5798f8bef","name":"Get Data length","penaltyDuration":"30 sec","position":{"x":-632.0,"y":1184.0},"properties":{"data.length":"$.data.length()","Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"data.length":{"displayName":"data.length","identifiesControllerService":false,"name":"data.length","sensitive":false},"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["Original"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"6fed1d00-0ea6-3d5d-a862-49b363798768","name":"Get Revisions","penaltyDuration":"30 sec","position":{"x":-632.0,"y":976.0},"properties":{"use-etag":"false","Proxy Type":"http","Connection Timeout":"45 secs","send-message-body":"true","Authorization":"Bearer ${token}","set-form-filename":"false","Always Output Response":"false","etag-max-cache-size":"10MB","idle-timeout":"5 mins","Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"#{directus_hostname}/_/revisions?fields[]=data&sort=-activity&filter[collection]=${tableName}&filter[item]=${itemId}","Content-Type":"application/json","form-body-form-name":"$","max-idle-connections":"5","Read Timeout":"45 secs","Max Length To Put In Attribute":"1024","ignore-response-content":"false","Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","Include Date Header":"True","Penalize on \"No Retry\"":"false"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Attributes to Send":{"displayName":"Attributes to Send","identifiesControllerService":false,"name":"Attributes to Send","sensitive":false},"use-etag":{"displayName":"Use HTTP ETag","identifiesControllerService":false,"name":"use-etag","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Proxy Type":{"displayName":"Proxy Type","identifiesControllerService":false,"name":"Proxy Type","sensitive":false},"Basic Authentication Password":{"displayName":"Basic Authentication Password","identifiesControllerService":false,"name":"Basic Authentication Password","sensitive":true},"Connection Timeout":{"displayName":"Connection Timeout","identifiesControllerService":false,"name":"Connection Timeout","sensitive":false},"send-message-body":{"displayName":"Send Message Body","identifiesControllerService":false,"name":"send-message-body","sensitive":false},"Authorization":{"displayName":"Authorization","identifiesControllerService":false,"name":"Authorization","sensitive":false},"set-form-filename":{"displayName":"Set Flowfile Form Data File Name","identifiesControllerService":false,"name":"set-form-filename","sensitive":false},"Always Output Response":{"displayName":"Always Output Response","identifiesControllerService":false,"name":"Always Output Response","sensitive":false},"etag-max-cache-size":{"displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"name":"etag-max-cache-size","sensitive":false},"idle-timeout":{"displayName":"Idle Timeout","identifiesControllerService":false,"name":"idle-timeout","sensitive":false},"Put Response Body In Attribute":{"displayName":"Put Response Body In Attribute","identifiesControllerService":false,"name":"Put Response Body In Attribute","sensitive":false},"Use Chunked Encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"Use Chunked Encoding","sensitive":false},"Follow Redirects":{"displayName":"Follow Redirects","identifiesControllerService":false,"name":"Follow Redirects","sensitive":false},"Remote URL":{"displayName":"Remote URL","identifiesControllerService":false,"name":"Remote URL","sensitive":false},"Content-Type":{"displayName":"Content-Type","identifiesControllerService":false,"name":"Content-Type","sensitive":false},"form-body-form-name":{"displayName":"Flowfile Form Data Name","identifiesControllerService":false,"name":"form-body-form-name","sensitive":false},"max-idle-connections":{"displayName":"Max Idle Connections","identifiesControllerService":false,"name":"max-idle-connections","sensitive":false},"invokehttp-proxy-user":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"invokehttp-proxy-user","sensitive":false},"Read Timeout":{"displayName":"Read Timeout","identifiesControllerService":false,"name":"Read Timeout","sensitive":false},"Max Length To Put In Attribute":{"displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"name":"Max Length To Put In Attribute","sensitive":false},"invokehttp-proxy-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"invokehttp-proxy-password","sensitive":true},"ignore-response-content":{"displayName":"Ignore response's content","identifiesControllerService":false,"name":"ignore-response-content","sensitive":false},"Proxy Port":{"displayName":"Proxy Port","identifiesControllerService":false,"name":"Proxy Port","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Digest Authentication":{"displayName":"Use Digest Authentication","identifiesControllerService":false,"name":"Digest Authentication","sensitive":false},"HTTP Method":{"displayName":"HTTP Method","identifiesControllerService":false,"name":"HTTP Method","sensitive":false},"Add Response Headers to Request":{"displayName":"Add Response Headers to Request","identifiesControllerService":false,"name":"Add Response Headers to Request","sensitive":false},"Basic Authentication Username":{"displayName":"Basic Authentication Username","identifiesControllerService":false,"name":"Basic Authentication Username","sensitive":false},"Include Date Header":{"displayName":"Include Date Header","identifiesControllerService":false,"name":"Include Date Header","sensitive":false},"Penalize on \"No Retry\"":{"displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"name":"Penalize on \"No Retry\"","sensitive":false},"Useragent":{"displayName":"Useragent","identifiesControllerService":false,"name":"Useragent","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#e09455"},"type":"org.apache.nifi.processors.standard.InvokeHTTP","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"39c7f9b6-56ec-3704-9be2-8b3aff11b10d","identifier":"dd76c7df-9f67-3126-8905-ec819e0577bd","name":"Validate Data length","penaltyDuration":"30 sec","position":{"x":-632.0,"y":1400.0},"properties":{"Routing Strategy":"Route to Property name","isNotEmpty":"${data.length:gt(0)}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isNotEmpty":{"displayName":"isNotEmpty","identifiesControllerService":false,"name":"isNotEmpty","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"538822ad-b660-3d40-ad1f-2f2281e326d6","name":"Caching Credentials","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"59fce70f-5316-33d0-96eb-fa1476a8ad5d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"049b699f-f211-3c84-b363-0f408b32f39f","name":"AttributesToJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"1c501f76-b4f0-34dd-8f04-b4cc78691042","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"0a9f750a-4463-34a3-baf7-1e5178b761fe","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"538822ad-b660-3d40-ad1f-2f2281e326d6","name":"Caching Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"3902618a-d10f-38c2-8024-3b62d6fac30d","name":"credentials_cached","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"104c858d-854a-37e8-9ae8-c94087ecfa40","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"1c501f76-b4f0-34dd-8f04-b4cc78691042","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"049b699f-f211-3c84-b363-0f408b32f39f","name":"AttributesToJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"ef097139-efd3-3e4e-903b-e9face63a130","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"2c9cba0f-cc8f-35be-ad88-d6b20c1096dc","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"8d8f4945-fc03-3e6d-a779-54717e2d0ca1","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"fbc0d8eb-2edc-3be4-a23e-695ea95c10c0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"9c83a0a4-ccbb-3445-baaf-8f7731a6e530","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"2c9cba0f-cc8f-35be-ad88-d6b20c1096dc","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"32d5dc23-6395-3890-b2d7-7992722de068","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"855158f4-5e39-3ead-8344-53029a76cbbf","name":"start_cache_credentials","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"9c83a0a4-ccbb-3445-baaf-8f7731a6e530","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"a9692bd9-b2df-3099-b483-5019765c6da8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"538822ad-b660-3d40-ad1f-2f2281e326d6","name":"Caching Credentials","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"9c83a0a4-ccbb-3445-baaf-8f7731a6e530","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"780daf90-1065-3bb6-b6cb-81ed90141413","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","id":"049b699f-f211-3c84-b363-0f408b32f39f","name":"AttributesToJSON","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"9c83a0a4-ccbb-3445-baaf-8f7731a6e530","position":{"x":688.0,"y":464.0}}],"groupIdentifier":"52beee50-af5a-3276-87ff-d28037a23a83","identifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"855158f4-5e39-3ead-8344-53029a76cbbf","name":"start_cache_credentials","position":{"x":136.0,"y":-32.0},"type":"INPUT_PORT"}],"labels":[],"name":"Cache Credential Dataflow","outputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"3902618a-d10f-38c2-8024-3b62d6fac30d","name":"credentials_cached","position":{"x":136.0,"y":936.0},"type":"OUTPUT_PORT"}],"parameterContextName":"EU-NONPROD-Configuration","position":{"x":1223.9999275859211,"y":71.9999606897963},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"8d8f4945-fc03-3e6d-a779-54717e2d0ca1","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":984.0,"y":424.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"2c9cba0f-cc8f-35be-ad88-d6b20c1096dc","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":80.0,"y":96.0},"properties":{"password":"${directus_app_password}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"CacheCredential","email":"${directus_app_login}"},"propertyDescriptors":{"password":{"displayName":"password","identifiesControllerService":false,"name":"password","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"email":{"displayName":"email","identifiesControllerService":false,"name":"email","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"1c501f76-b4f0-34dd-8f04-b4cc78691042","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":80.0,"y":736.0},"properties":{"Delete Attributes Expression":"(?:email|password)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"049b699f-f211-3c84-b363-0f408b32f39f","name":"AttributesToJSON","penaltyDuration":"30 sec","position":{"x":80.0,"y":304.0},"properties":{"Destination":"flowfile-content","Null Value":"false","Attributes List":"email, password","Include Core Attributes":"true"},"propertyDescriptors":{"attributes-to-json-regex":{"displayName":"Attributes Regular Expression","identifiesControllerService":false,"name":"attributes-to-json-regex","sensitive":false},"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Null Value":{"displayName":"Null Value","identifiesControllerService":false,"name":"Null Value","sensitive":false},"Attributes List":{"displayName":"Attributes List","identifiesControllerService":false,"name":"Attributes List","sensitive":false},"Include Core Attributes":{"displayName":"Include Core Attributes","identifiesControllerService":false,"name":"Include Core Attributes","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.AttributesToJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"33af4696-4d8b-36a4-ae7e-bb57e6c76b53","identifier":"538822ad-b660-3d40-ad1f-2f2281e326d6","name":"Caching Credentials","penaltyDuration":"30 sec","position":{"x":80.0,"y":520.0},"properties":{"Cache Entry Identifier":"#{directus_cache_identifier}","Cache update strategy":"replace","Distributed Cache Service":"ac1540d3-7a62-3ed6-84cd-8b01335ac5a5","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"displayName":"Cache Entry Identifier","identifiesControllerService":false,"name":"Cache Entry Identifier","sensitive":false},"Cache update strategy":{"displayName":"Cache update strategy","identifiesControllerService":false,"name":"Cache update strategy","sensitive":false},"Distributed Cache Service":{"displayName":"Distributed Cache Service","identifiesControllerService":true,"name":"Distributed Cache Service","sensitive":false},"Max cache entry size":{"displayName":"Max cache entry size","identifiesControllerService":false,"name":"Max cache entry size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#82a1ba"},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","id":"7ebe4dff-1d48-39d4-a035-e6cb88c2111f","name":"start_delete_cms_apl","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","identifier":"69bdfaf1-15cb-3cc4-8f2f-cca0dcb68aa6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isAplTable"],"source":{"comments":"","groupId":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","id":"72d733b4-e4b1-3f5a-bd39-d23895185601","name":"Validate by Table Name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","id":"72d733b4-e4b1-3f5a-bd39-d23895185601","name":"Validate by Table Name","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","identifier":"b6f37e7c-b81b-33a8-949e-32db2cc564de","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","id":"b2c27673-f504-3943-ae4d-ab801b627dc1","name":"Start Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0dc6439c-941b-3614-ae29-65cfc2afde6b","id":"418d0ee5-8c54-3cae-9430-26e5eb8988ba","name":"start_delete_cms_responses","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","identifier":"54d57c68-b7d0-37fc-8c09-53737139ad07","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["isResponseTable"],"source":{"comments":"","groupId":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","id":"72d733b4-e4b1-3f5a-bd39-d23895185601","name":"Validate by Table Name","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"71d7bf14-482a-357f-b082-18f10608afaf","identifier":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","identifier":"b2c27673-f504-3943-ae4d-ab801b627dc1","name":"Start Deletion Proccess","position":{"x":1160.0,"y":376.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb Dataflow","outputPorts":[],"position":{"x":1133.239064412745,"y":768.4418835303054},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"d41c129e-c987-35bc-baf8-69318b8dfc0b","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","identifier":"442ddbc1-b8ad-36d0-b081-97ee1ff078c8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","id":"7ebe4dff-1d48-39d4-a035-e6cb88c2111f","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"1b59505b-016f-326e-9306-2229e0e91519","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","identifier":"c7d5d451-65fd-3dc5-9471-c60586e85f80","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","id":"7ebe4dff-1d48-39d4-a035-e6cb88c2111f","name":"start_delete_cms_apl","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","identifier":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","identifier":"7ebe4dff-1d48-39d4-a035-e6cb88c2111f","name":"start_delete_cms_apl","position":{"x":-48.0,"y":1272.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL","outputPorts":[],"position":{"x":1392.0,"y":760.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"b5333328-bfe6-38c6-85e2-3464b6d04b53","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"1b872a3c-5e15-3e63-92d3-1303b8b6507c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed","not found"],"source":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"2487c331-266e-3275-8813-f0d5858243c2","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"f5bed13e-56e4-35c9-9681-08a4d8079c4f","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"3a2bc2d2-681c-33bf-9e88-b75bc48691c7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"2487c331-266e-3275-8813-f0d5858243c2","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"2487c331-266e-3275-8813-f0d5858243c2","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"769ac50a-46de-3ab9-a313-781952a3e5f4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"1b59505b-016f-326e-9306-2229e0e91519","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"ca8be789-6aea-3df0-9885-3d8bf907d6e9","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"d335832b-2da1-3c9c-9099-8254e48a76f0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"2487c331-266e-3275-8813-f0d5858243c2","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"496d2e75-516a-38fb-aad3-95b19d2f6d27","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"d8e3a227-12fe-3550-9a34-5ff31bee71b4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"2487c331-266e-3275-8813-f0d5858243c2","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"2487c331-266e-3275-8813-f0d5858243c2","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"11846522-4c73-3e08-bcad-ce3b85265513","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"145073b1-f4ad-3507-b7db-8c2c97bb712a","id":"f5bed13e-56e4-35c9-9681-08a4d8079c4f","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","identifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"1b59505b-016f-326e-9306-2229e0e91519","name":"Start APL Deletion Proccess","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL DEV","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-392.0,"y":1512.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"3c285dc2-fb51-3cbc-8ace-dfe72309759d","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"dc089d97-35af-3c2d-ae07-772d88691704","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"c12aee02-a3a3-3ca9-971c-4375690a6388","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"f07265e8-caaf-3853-b1fb-f27d6e05d7e7","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"aadfb74d-a4cd-3c60-ad48-02a98892e4e9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"641efd31-d267-3da0-8285-263ba614c439","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"3c285dc2-fb51-3cbc-8ace-dfe72309759d","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"11cec1ce-9cdb-3694-b118-fad3199168b9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"f07265e8-caaf-3853-b1fb-f27d6e05d7e7","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"641efd31-d267-3da0-8285-263ba614c439","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"bedbdb14-b746-3378-b4ae-cf656cb1089c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"496d2e75-516a-38fb-aad3-95b19d2f6d27","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"94938a9f-0cea-3579-8a68-9b564551ec5f","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"fff3b394-15c6-33d1-a76c-5cb96c7e8c4e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"c12aee02-a3a3-3ca9-971c-4375690a6388","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"c12aee02-a3a3-3ca9-971c-4375690a6388","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"d7b99d1d-4393-36e0-8365-3c9134482b57","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"f07265e8-caaf-3853-b1fb-f27d6e05d7e7","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"403170a4-4311-3b1b-831a-d51ff18eab2e","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"11885c5b-b352-3a5a-a1d2-d5abcbfc4e2d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"3c285dc2-fb51-3cbc-8ace-dfe72309759d","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"3c285dc2-fb51-3cbc-8ace-dfe72309759d","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"5a1d21f1-b700-37a6-afee-98347d750ec8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"6429a0d4-72e3-3702-903f-b07c0084e34a","id":"641efd31-d267-3da0-8285-263ba614c439","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"3c285dc2-fb51-3cbc-8ace-dfe72309759d","position":{"x":-344.0,"y":1104.0}}],"groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"496d2e75-516a-38fb-aad3-95b19d2f6d27","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"0cbe468a-369a-34e8-becc-9069d8b02bf4","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"eb6042ef-aa6f-369e-94ce-ea4751cd1ed6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"d50d554a-c7ea-389b-80dd-617ab31272a7","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"d50d554a-c7ea-389b-80dd-617ab31272a7","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"3e259594-33dc-3de7-9ba5-7afd7e1f5443","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"e99bebf8-33cb-3b3b-9f91-f78318fd1156","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"d50d554a-c7ea-389b-80dd-617ab31272a7","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"45e32f27-b546-3453-b1ae-748226f83dd4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"3d35b38e-32c6-3959-9dc2-79b8eb8b019b","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"e99bebf8-33cb-3b3b-9f91-f78318fd1156","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"e5c632d6-66ba-344e-8680-d1864ff70b32","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"cc3e98e4-e9b2-3b7b-9295-67d36e02606a","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"e99bebf8-33cb-3b3b-9f91-f78318fd1156","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"bb352cf5-0087-33d8-a7e2-5bf1138ee74f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"94938a9f-0cea-3579-8a68-9b564551ec5f","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"3d35b38e-32c6-3959-9dc2-79b8eb8b019b","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"b8379874-f9d6-3aab-9f18-deda5c75bb6c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"e99bebf8-33cb-3b3b-9f91-f78318fd1156","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"cc3e98e4-e9b2-3b7b-9295-67d36e02606a","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"11443430-ec6a-31dd-9769-39262f35b072","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"ed2610fb-a64a-3219-8208-e9ba68d727e8","id":"3d35b38e-32c6-3959-9dc2-79b8eb8b019b","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"d50d554a-c7ea-389b-80dd-617ab31272a7","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"94938a9f-0cea-3579-8a68-9b564551ec5f","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-1032.0,"y":1560.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"e99bebf8-33cb-3b3b-9f91-f78318fd1156","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"cc3e98e4-e9b2-3b7b-9295-67d36e02606a","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"3d35b38e-32c6-3959-9dc2-79b8eb8b019b","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ed2610fb-a64a-3219-8208-e9ba68d727e8","identifier":"0cbe468a-369a-34e8-becc-9069d8b02bf4","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1712.0,"y":40.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"641efd31-d267-3da0-8285-263ba614c439","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"c12aee02-a3a3-3ca9-971c-4375690a6388","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"f07265e8-caaf-3853-b1fb-f27d6e05d7e7","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6429a0d4-72e3-3702-903f-b07c0084e34a","identifier":"403170a4-4311-3b1b-831a-d51ff18eab2e","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-24.0,"y":1072.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"fba26479-06c2-3d2c-bbee-b05dbebedb98","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"f460b511-dfe7-3d86-9249-b4417ef3820c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"001b5aa3-1bb0-336b-bad2-1d1d978b7f15","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"871c57a9-484c-3758-874d-4cba9cf47dd7","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"3dda3f2b-30ab-32a5-b6fb-f860ed74291d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"001b5aa3-1bb0-336b-bad2-1d1d978b7f15","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"001b5aa3-1bb0-336b-bad2-1d1d978b7f15","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"1dd88ed5-96b7-3158-99fe-9e835de7be8e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"044c6516-59ed-3c66-a5fc-3974fab994bb","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"871c57a9-484c-3758-874d-4cba9cf47dd7","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"f0b021de-03c0-3a68-92a8-d57a5a302e5b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"fba26479-06c2-3d2c-bbee-b05dbebedb98","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"044c6516-59ed-3c66-a5fc-3974fab994bb","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"e49eb0a1-1a7b-32f5-879a-d8b9ef3758e8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"fba26479-06c2-3d2c-bbee-b05dbebedb98","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"001b5aa3-1bb0-336b-bad2-1d1d978b7f15","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"940ecd68-16aa-362c-9b18-8ee53e3442bb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"ca8be789-6aea-3df0-9885-3d8bf907d6e9","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"e6c5c68e-d149-3c62-b0f0-64909b328d92","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"83f317e4-5ae2-3e64-b16e-70dfff74e1cf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","id":"871c57a9-484c-3758-874d-4cba9cf47dd7","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"871c57a9-484c-3758-874d-4cba9cf47dd7","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"ca8be789-6aea-3df0-9885-3d8bf907d6e9","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-1280.0,"y":1584.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"e6c5c68e-d149-3c62-b0f0-64909b328d92","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1656.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"fba26479-06c2-3d2c-bbee-b05dbebedb98","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"001b5aa3-1bb0-336b-bad2-1d1d978b7f15","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"45bf872d-10f5-3c88-a5c8-57b9aa6089e0","identifier":"044c6516-59ed-3c66-a5fc-3974fab994bb","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"b5333328-bfe6-38c6-85e2-3464b6d04b53","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-288.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"f5bed13e-56e4-35c9-9681-08a4d8079c4f","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"145073b1-f4ad-3507-b7db-8c2c97bb712a","identifier":"2487c331-266e-3275-8813-f0d5858243c2","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"eu-central-1","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"8c937a30-2fe9-3b8a-8b5b-5953fd344933","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"66f3f91c-ffce-3deb-9231-fc92090f3754","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"d41c129e-c987-35bc-baf8-69318b8dfc0b","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"f3b50d00-c58f-3101-aeda-728d20941702","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"3b2d0f74-69d1-38d3-8222-33966552fa17","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","not found"],"source":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"8c937a30-2fe9-3b8a-8b5b-5953fd344933","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"db9a0b6c-a573-392e-980c-e883369be5f0","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"3f60034a-daff-3462-9710-5c879cc6b917","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"8c937a30-2fe9-3b8a-8b5b-5953fd344933","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-1016.0,"y":1272.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"8c937a30-2fe9-3b8a-8b5b-5953fd344933","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"45b32990-4a3f-3885-895a-9db6600d4b55","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"1dc30d3f-b18d-33fc-9dcd-9bbcbc35637c","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":-600.0,"y":1512.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"e9c1e4b1-0225-3512-8ad8-00f0aaa399ec","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"5c38a4fb-4b1e-3dbd-8b98-987d224755d4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"8c937a30-2fe9-3b8a-8b5b-5953fd344933","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"1dc30d3f-b18d-33fc-9dcd-9bbcbc35637c","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"4048202b-0bcf-31bc-a33e-011dbfc7a5b2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"5ffb8d13-428d-3bac-8729-684c972d8cc0","id":"8c937a30-2fe9-3b8a-8b5b-5953fd344933","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a0024974-4a7b-3a8e-8877-bf60a1d24a12","identifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"d41c129e-c987-35bc-baf8-69318b8dfc0b","name":"Start APL Deletion Proccess","position":{"x":-864.0,"y":1168.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS APL INT","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":176.0,"y":1512.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"3972945a-4db7-3f73-aa37-0582e542a30a","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"0dab5311-4abc-3a1d-969f-3bd5188fbc12","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"e9c1e4b1-0225-3512-8ad8-00f0aaa399ec","name":"Start APL Deletion Proccess","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"14d975ba-caf6-3c91-94cc-87255a656c2f","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"d921fa9a-5aa0-3224-8ec0-8c3ffcdc5d7f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["original","failure"],"source":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"ec73f40f-77fd-33ab-968b-6e85387bed68","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"14d975ba-caf6-3c91-94cc-87255a656c2f","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"ae0097e0-d37e-3a9c-b767-3d83e223c4c1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"5a084079-d076-3fb9-ba17-aad9292cd87d","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"7668c9bc-9a10-3563-998f-07696c7b376b","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"7f0581f3-965e-360a-a6d7-3b16f2874e8d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"14d975ba-caf6-3c91-94cc-87255a656c2f","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"5a084079-d076-3fb9-ba17-aad9292cd87d","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"0795e5b6-2b96-3565-aa87-f0ecdbe84b16","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"ec73f40f-77fd-33ab-968b-6e85387bed68","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"ec73f40f-77fd-33ab-968b-6e85387bed68","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"56bc6f16-fbe5-3bbc-a076-273912ec59f5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"3972945a-4db7-3f73-aa37-0582e542a30a","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"5348bde9-9ff3-33bf-9b44-4807580fd256","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"f26a89b0-972f-33c1-9f66-7b2c9037f636","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"5a084079-d076-3fb9-ba17-aad9292cd87d","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"14d975ba-caf6-3c91-94cc-87255a656c2f","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"e2f586bf-6739-31ab-b9ac-a70bb5e1a679","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"2f3488af-9433-31bb-96e4-3615c1689a89","id":"3972945a-4db7-3f73-aa37-0582e542a30a","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"14d975ba-caf6-3c91-94cc-87255a656c2f","position":{"x":-272.0,"y":1104.0}}],"groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"2f3488af-9433-31bb-96e4-3615c1689a89","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"e9c1e4b1-0225-3512-8ad8-00f0aaa399ec","name":"Start APL Deletion Proccess","position":{"x":-960.0,"y":744.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Content","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":-624.0,"y":1584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"7ba9f0a5-d067-3fc8-8a08-d7ecdc988ab9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"43b4c832-2856-3200-9aca-09c7696231d1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"5348bde9-9ff3-33bf-9b44-4807580fd256","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"db32437f-e749-3a41-a51b-151d7ffe9007","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"20375b79-a177-3e90-a89e-cdd305a1cd0c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"7ba9f0a5-d067-3fc8-8a08-d7ecdc988ab9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"2a7e0593-0cd5-37b5-8953-2344390831c2","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"cca11cea-3936-378f-ba09-6788be807142","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"7ba9f0a5-d067-3fc8-8a08-d7ecdc988ab9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"7ba9f0a5-d067-3fc8-8a08-d7ecdc988ab9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"f387207f-9aec-3d1c-8c03-f3950896e98f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"17afbf69-97a2-3202-a242-a3856a2b5f29","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"db32437f-e749-3a41-a51b-151d7ffe9007","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"8de7399d-e639-336e-9087-024628290d8f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"2a7e0593-0cd5-37b5-8953-2344390831c2","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"17afbf69-97a2-3202-a242-a3856a2b5f29","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"55345ec2-3ac3-3ae8-a202-6ceeb66f3fd1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"2a7e0593-0cd5-37b5-8953-2344390831c2","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"950d26a1-7f21-3329-8994-5b4c8452d728","name":"LogMessageFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"9d2e25f6-7e3e-3dd4-9664-f429d332d341","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a1e0b7d2-743f-3260-8c45-0a375c099f61","id":"db32437f-e749-3a41-a51b-151d7ffe9007","name":"Funnel","type":"FUNNEL"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"db32437f-e749-3a41-a51b-151d7ffe9007","position":{"x":1408.0,"y":80.0}}],"groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"5348bde9-9ff3-33bf-9b44-4807580fd256","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDbControlledRate","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":-1040.0,"y":1568.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"7ba9f0a5-d067-3fc8-8a08-d7ecdc988ab9","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"1 seconds","Maximum Rate":"1","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"2a7e0593-0cd5-37b5-8953-2344390831c2","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"950d26a1-7f21-3329-8994-5b4c8452d728","name":"LogMessageFailure","penaltyDuration":"30 sec","position":{"x":1616.0,"y":56.0},"properties":{"log-message":"${responseKey}.${invokehttp.status.code}.${invokehttp.status.message}","log-level":"error","log-prefix":"[${log.prefix}.${responseKey}.FailureMessage]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a1e0b7d2-743f-3260-8c45-0a375c099f61","identifier":"17afbf69-97a2-3202-a242-a3856a2b5f29","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":160.0,"y":-72.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"3972945a-4db7-3f73-aa37-0582e542a30a","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":864.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"ec73f40f-77fd-33ab-968b-6e85387bed68","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1088.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"7668c9bc-9a10-3563-998f-07696c7b376b","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":56.0,"y":1080.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2f3488af-9433-31bb-96e4-3615c1689a89","identifier":"5a084079-d076-3fb9-ba17-aad9292cd87d","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":-1016.0,"y":1320.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"b814cd9c-e45a-33f6-b431-fea46178d7d7","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"854f6077-f49b-3d37-a5b9-7dcbcf07108a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"841c9e49-6a57-38e1-9a3b-0cb05e8da088","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"b814cd9c-e45a-33f6-b431-fea46178d7d7","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"a81f11ac-cb92-3174-96da-e076444e2d4a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"db9a0b6c-a573-392e-980c-e883369be5f0","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"841c9e49-6a57-38e1-9a3b-0cb05e8da088","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"0288a663-9f8a-354b-b774-2cbfb1764ff5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"66000552-6427-3682-8ad0-5ef8c60aae0d","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"300a366c-66db-37f2-8ef6-b9476c2d7eaf","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"a1aac031-9834-3195-b0c3-bc8ea8ba2d5b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"1a603d06-4c6e-3872-aa69-6556217d04f3","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"1a603d06-4c6e-3872-aa69-6556217d04f3","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"1eed17d8-8784-39e3-aae3-7afc5246db80","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"66000552-6427-3682-8ad0-5ef8c60aae0d","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"1a603d06-4c6e-3872-aa69-6556217d04f3","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"48349803-ebed-3f66-8cf0-8a64099c4ec4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"b814cd9c-e45a-33f6-b431-fea46178d7d7","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"66000552-6427-3682-8ad0-5ef8c60aae0d","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"d5fccbf4-2164-3242-b269-ed13769a6d7f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","id":"b814cd9c-e45a-33f6-b431-fea46178d7d7","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"1a603d06-4c6e-3872-aa69-6556217d04f3","position":{"x":1384.0,"y":80.0}}],"groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"db9a0b6c-a573-392e-980c-e883369be5f0","name":"Start Controlled Deletion","position":{"x":816.0,"y":-200.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Metadata","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":-1240.0,"y":1592.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"841c9e49-6a57-38e1-9a3b-0cb05e8da088","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"66000552-6427-3682-8ad0-5ef8c60aae0d","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"b814cd9c-e45a-33f6-b431-fea46178d7d7","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7dc1f5e2-9f72-3f47-930a-eb7e1040789a","identifier":"300a366c-66db-37f2-8ef6-b9476c2d7eaf","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1688.0,"y":40.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"f3b50d00-c58f-3101-aeda-728d20941702","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":-328.0,"y":1312.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"8c937a30-2fe9-3b8a-8b5b-5953fd344933","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":-920.0,"y":1312.0},"properties":{"Table Name":"#{dynamo_db_env}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"eu-central-1","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5ffb8d13-428d-3bac-8729-684c972d8cc0","identifier":"1dc30d3f-b18d-33fc-9dcd-9bbcbc35637c","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":-1456.0,"y":1312.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"e8ebb203-c1f0-3d6d-be64-01b9d40a83d4","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0dc6439c-941b-3614-ae29-65cfc2afde6b","identifier":"12c7cd4c-b708-3fa7-a7b9-1cba520c1c78","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"0dc6439c-941b-3614-ae29-65cfc2afde6b","id":"418d0ee5-8c54-3cae-9430-26e5eb8988ba","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"1bed96a7-61ba-3c27-98d9-c62cbf0104ea","name":"Start Controlled Deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0dc6439c-941b-3614-ae29-65cfc2afde6b","identifier":"a9c33004-e702-3fd9-948b-874e63506a5e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"0dc6439c-941b-3614-ae29-65cfc2afde6b","id":"418d0ee5-8c54-3cae-9430-26e5eb8988ba","name":"start_delete_cms_responses","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","identifier":"0dc6439c-941b-3614-ae29-65cfc2afde6b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"0dc6439c-941b-3614-ae29-65cfc2afde6b","identifier":"418d0ee5-8c54-3cae-9430-26e5eb8988ba","name":"start_delete_cms_responses","position":{"x":-680.0,"y":1248.0},"type":"INPUT_PORT"}],"labels":[],"name":"CMS Response","outputPorts":[],"position":{"x":832.0,"y":760.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"43ad724b-ab1d-3438-99d1-3e436559060d","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"ef8b6823-386e-332d-9160-4b19d4659dc4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"08991449-d179-3b66-af40-6ca4cc7cb297","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"08991449-d179-3b66-af40-6ca4cc7cb297","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"db699e7f-6152-30e5-84df-05ae6be0932b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"1bed96a7-61ba-3c27-98d9-c62cbf0104ea","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"08991449-d179-3b66-af40-6ca4cc7cb297","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"603f6d3d-f314-3d2c-b11c-3bf8c1af86b8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"25d9a561-3b2e-3685-874c-bd31e12a45e5","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"43ad724b-ab1d-3438-99d1-3e436559060d","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"e90e3e72-a40d-3e00-b774-0dc46367912a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"9fd99436-e57a-3f4d-91a2-727fe22f14cd","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"25d9a561-3b2e-3685-874c-bd31e12a45e5","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"886de1d6-76d2-348c-a95f-7aa62811a3db","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"9fd99436-e57a-3f4d-91a2-727fe22f14cd","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"9fd99436-e57a-3f4d-91a2-727fe22f14cd","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"d991141a-15eb-3056-87bb-421fc733f342","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"e321c308-264e-38e9-9ab9-3b2f12dccf34","id":"08991449-d179-3b66-af40-6ca4cc7cb297","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"0dc6439c-941b-3614-ae29-65cfc2afde6b","identifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"1bed96a7-61ba-3c27-98d9-c62cbf0104ea","name":"Start Controlled Deletion","position":{"x":816.0,"y":-168.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response INT","outputPorts":[],"parameterContextName":"EU-Int","position":{"x":-432.0,"y":1424.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"9fd99436-e57a-3f4d-91a2-727fe22f14cd","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"#{dynamo_db_env}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"eu-central-1","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"43ad724b-ab1d-3438-99d1-3e436559060d","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1384.0,"y":48.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"25d9a561-3b2e-3685-874c-bd31e12a45e5","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e321c308-264e-38e9-9ab9-3b2f12dccf34","identifier":"08991449-d179-3b66-af40-6ca4cc7cb297","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"56a95275-02e7-3558-b4e8-12eea8259ff4","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"06a6b122-bcd5-3aa0-82fd-0e87433e0fce","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unprocessed"],"source":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"b26d4bb4-4581-326f-ad0f-f1804558438b","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"b26d4bb4-4581-326f-ad0f-f1804558438b","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"561a4e75-cb08-32b9-b08f-2d338fdec729","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["success"],"source":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"795b655e-b931-385a-9a4d-38e731b9f99f","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"0c282063-51cd-30e8-b8ac-58c56e56594c","name":"RetryFlowFile","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"f7b58bef-af22-3cb1-a8e8-acddee472bfa","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":["unprocessed"],"source":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"b26d4bb4-4581-326f-ad0f-f1804558438b","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"795b655e-b931-385a-9a4d-38e731b9f99f","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"fec1ac82-4f80-3859-9f3d-8fa1034bb1b2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"selectedRelationships":[""],"source":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"e8ebb203-c1f0-3d6d-be64-01b9d40a83d4","name":"Start Controlled Deletion","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"56a95275-02e7-3558-b4e8-12eea8259ff4","name":"LogAttributeFailure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"da9c4939-abb5-3af4-b03a-4ef6795e5a7a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"795b655e-b931-385a-9a4d-38e731b9f99f","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"795b655e-b931-385a-9a4d-38e731b9f99f","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"9646f68d-c9f8-3060-91e0-d222dc294401","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["retries_exceeded","retry"],"source":{"comments":"","groupId":"df28b57d-16cb-3d55-86f8-4d3029fec865","id":"0c282063-51cd-30e8-b8ac-58c56e56594c","name":"RetryFlowFile","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"0dc6439c-941b-3614-ae29-65cfc2afde6b","identifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"e8ebb203-c1f0-3d6d-be64-01b9d40a83d4","name":"Start Controlled Deletion","position":{"x":816.0,"y":-176.0},"type":"INPUT_PORT"}],"labels":[],"name":"DeleteDynamoDb CMS Response DEV","outputPorts":[],"parameterContextName":"EU-Develop","position":{"x":-1048.0,"y":1424.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"bulletinLevel":"ERROR","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"56a95275-02e7-3558-b4e8-12eea8259ff4","name":"LogAttributeFailure","penaltyDuration":"30 sec","position":{"x":1352.0,"y":56.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log Level":"error","attributes-to-log-regex":".*","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"795b655e-b931-385a-9a4d-38e731b9f99f","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":760.0,"y":-64.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"b26d4bb4-4581-326f-ad0f-f1804558438b","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":760.0,"y":176.0},"properties":{"Table Name":"#{dynamo_db_env}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"120 secs","Region":"eu-central-1","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"df28b57d-16cb-3d55-86f8-4d3029fec865","identifier":"0c282063-51cd-30e8-b8ac-58c56e56594c","name":"RetryFlowFile","penaltyDuration":"30 sec","position":{"x":184.0,"y":176.0},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"displayName":"Penalize Retries","identifiesControllerService":false,"name":"penalize-retries","sensitive":false},"maximum-retries":{"displayName":"Maximum Retries","identifiesControllerService":false,"name":"maximum-retries","sensitive":false},"Fail on Non-numerical Overwrite":{"displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"name":"Fail on Non-numerical Overwrite","sensitive":false},"reuse-mode":{"displayName":"Reuse Mode","identifiesControllerService":false,"name":"reuse-mode","sensitive":false},"retry-attribute":{"displayName":"Retry Attribute","identifiesControllerService":false,"name":"retry-attribute","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.12.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"634e15e9-cfbc-3bb1-a3cf-8628fe8693aa","identifier":"72d733b4-e4b1-3f5a-bd39-d23895185601","name":"Validate by Table Name","penaltyDuration":"30 sec","position":{"x":1104.0,"y":496.0},"properties":{"Routing Strategy":"Route to Property name","isAplTable":"${tableName:equals(\"apl\")}","isResponseTable":"${tableName:equals(\"responses\")}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isAplTable":{"displayName":"isAplTable","identifiesControllerService":false,"name":"isAplTable","sensitive":false},"isResponseTable":{"displayName":"isResponseTable","identifiesControllerService":false,"name":"isResponseTable","sensitive":false}},"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},"flowEncodingVersion":"1.0","parameterContexts":{"EU-Int":{"componentType":"PARAMETER_CONTEXT","name":"EU-Int","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-eu-int"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-int"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-NONPROD-Configuration":{"componentType":"PARAMETER_CONTEXT","name":"EU-NONPROD-Configuration","parameters":[{"description":"","name":"directus_db_password","provided":false,"sensitive":true},{"description":"","name":"directus_hostname","provided":false,"sensitive":false,"value":"http://172.20.66.48"},{"description":"","name":"distributed_map_cache_port","provided":false,"sensitive":false,"value":"4557"},{"description":"","name":"directus_token_identifier","provided":false,"sensitive":false,"value":"directus_token"},{"description":"","name":"mysql_db_driver","provided":false,"sensitive":false,"value":"/opt/nifi/nifi-current/ls-target/drivers/mysql-connector-java-8.0.23.jar"},{"description":"","name":"distributed_map_cache_hostname","provided":false,"sensitive":false,"value":"localhost"},{"description":"","name":"directus_cache_identifier","provided":false,"sensitive":false,"value":"directus_auth"},{"description":"","name":"directus_db_user","provided":false,"sensitive":false,"value":"admin"}]},"EU-Develop":{"componentType":"PARAMETER_CONTEXT","name":"EU-Develop","parameters":[{"description":"","name":"aws_bucket_source_env","provided":false,"sensitive":false,"value":"cms-s3bucket-eu-test"},{"description":"","name":"aws_bucket_destination_env","provided":false,"sensitive":false,"value":"alexa-skills-s3bucket-eu-test"},{"description":"","name":"aws_credentials","provided":false,"sensitive":false,"value":"/opt/nifi/nifi-current/ls-target/auth/auth_aws"},{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"dynamo_db_env","provided":false,"sensitive":false,"value":"dynamodb-eu-test"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]}},"snapshotMetadata":{"author":"anonymous","comments":"update flow and parameters.","timestamp":1622824980135,"version":17}}