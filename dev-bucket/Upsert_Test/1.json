{"externalControllerServices":{},"flowContents":{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3019751a-1e4e-37a6-a7f4-d42332047fe6","id":"bf5575fd-fe61-3c57-9b3c-858acab0bfb5","instanceIdentifier":"cc138acd-fe00-3424-85f8-2d52db5d972c","name":"Check table name","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","identifier":"5ddb35e4-c433-3da9-a6e9-1de8d34e8250","instanceIdentifier":"82a35d16-5059-3ce3-6c6e-666f5fbe8e08","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"3019751a-1e4e-37a6-a7f4-d42332047fe6","id":"a76db5e3-7e16-3541-88d8-c131453cffcb","instanceIdentifier":"a022357c-7ec3-35c4-cf22-18eacc35102b","name":"Start upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"e956b783-6e20-36aa-b033-36269d00c24e","instanceIdentifier":"17286010-7caf-33ca-75d2-8d13f53a21e6","name":"Start update response","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","identifier":"95d489ab-a5fb-3572-bae9-23024f5aa11d","instanceIdentifier":"badc434f-ab7a-3c31-b36b-2ae957968388","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isResponseTable"],"source":{"comments":"","groupId":"3019751a-1e4e-37a6-a7f4-d42332047fe6","id":"bf5575fd-fe61-3c57-9b3c-858acab0bfb5","instanceIdentifier":"cc138acd-fe00-3424-85f8-2d52db5d972c","name":"Check table name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","id":"d95829a5-bec8-319c-990a-886102a2522e","instanceIdentifier":"7d8f8156-fdc5-3f31-c3c0-4a6c6176d1b4","name":"Start update apl","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","identifier":"f2739206-34bf-3bcd-8e48-0993e2eecd3a","instanceIdentifier":"22d01f59-098a-3af3-c06a-9706745f9972","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isAplTable"],"source":{"comments":"","groupId":"3019751a-1e4e-37a6-a7f4-d42332047fe6","id":"bf5575fd-fe61-3c57-9b3c-858acab0bfb5","instanceIdentifier":"cc138acd-fe00-3424-85f8-2d52db5d972c","name":"Check table name","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"identifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","identifier":"a76db5e3-7e16-3541-88d8-c131453cffcb","instanceIdentifier":"a022357c-7ec3-35c4-cf22-18eacc35102b","name":"Start upsert","position":{"x":528.0,"y":112.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"31aac824-3848-38f7-66ec-552acfc13ad6","labels":[],"name":"Upsert resource","outputPorts":[],"position":{"x":544.0,"y":1168.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"040b50ce-41f8-33ce-a63d-29077199e967","instanceIdentifier":"797e20e0-ef33-3853-f36d-93ce044ec6fa","name":"TransformResponseProcessor","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"b78014cf-5ec6-364a-9ea0-b730b1077d2f","instanceIdentifier":"0dd6dc4e-0184-3b31-98de-aa8c9627467f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"99c58eca-68ce-3ae3-899f-f085d8f00a9a","instanceIdentifier":"887c65d3-8060-3ed8-084b-40f3762763e0","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"a618a480-33ee-3b6a-a370-4f101acbc82e","instanceIdentifier":"1ee24960-0fd0-3a1e-43ce-77e6d0bf9181","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"31f679ca-df76-3fdb-bdd0-c87c0a322126","instanceIdentifier":"ff325791-2468-3d3c-b471-dca1a099991c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"040b50ce-41f8-33ce-a63d-29077199e967","instanceIdentifier":"797e20e0-ef33-3853-f36d-93ce044ec6fa","name":"TransformResponseProcessor","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"99c58eca-68ce-3ae3-899f-f085d8f00a9a","instanceIdentifier":"887c65d3-8060-3ed8-084b-40f3762763e0","name":"Set log prefix","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"8afe7abe-0d07-3ccb-b691-a1bad20267c0","instanceIdentifier":"2e5ca199-5630-311d-2f35-22b1184f059a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"e956b783-6e20-36aa-b033-36269d00c24e","instanceIdentifier":"17286010-7caf-33ca-75d2-8d13f53a21e6","name":"Start update response","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"60d2a0f7-31df-3494-ab7f-62e956cd4869","id":"1e177d7b-b2c2-3ba1-a7be-0ffe61a6d4e0","instanceIdentifier":"94fbd8d3-f979-3bc4-1658-d7bf36ea48b5","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"d9dc5773-1465-3bca-93dd-c8763a0f68dd","instanceIdentifier":"7268fd30-bda6-3695-b8d5-10d83c2e1173","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isTestEnvironment"],"source":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"a618a480-33ee-3b6a-a370-4f101acbc82e","instanceIdentifier":"1ee24960-0fd0-3a1e-43ce-77e6d0bf9181","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","id":"e46298e3-1a74-3ebc-a58f-cdb8abeb42b0","instanceIdentifier":"b0e191df-f1ac-3683-d7c3-447d122807e2","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"7408b49a-ae02-3c11-9c9b-3d638ebe8653","instanceIdentifier":"bb5ac106-3d7e-37bf-9e69-bf33b0138040","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"a618a480-33ee-3b6a-a370-4f101acbc82e","instanceIdentifier":"1ee24960-0fd0-3a1e-43ce-77e6d0bf9181","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","id":"1ebcadc2-b592-3e9e-a10a-9735908b3fbd","instanceIdentifier":"d2ca2eae-ce4e-31b6-673e-cf5fe986acb6","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"83267067-331f-3967-970d-6204caf7032f","instanceIdentifier":"42b68485-5bac-39d9-54d1-fd3e25321a5b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"a618a480-33ee-3b6a-a370-4f101acbc82e","instanceIdentifier":"1ee24960-0fd0-3a1e-43ce-77e6d0bf9181","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"a132df31-38fd-362a-9663-2eba6144df9a","id":"0b013e7a-8531-325e-bcea-4af61fbdbaae","instanceIdentifier":"ac331353-75ee-303a-3c68-adea7710de6a","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"c1c86736-bc99-37f9-b070-6ae6d7ed2d33","instanceIdentifier":"8b9e8cdc-2b7f-3452-5cb5-c9295658314b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"6e3894eb-533e-3c05-8b0f-dc5405217150","id":"a618a480-33ee-3b6a-a370-4f101acbc82e","instanceIdentifier":"1ee24960-0fd0-3a1e-43ce-77e6d0bf9181","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","identifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"e956b783-6e20-36aa-b033-36269d00c24e","instanceIdentifier":"17286010-7caf-33ca-75d2-8d13f53a21e6","name":"Start update response","position":{"x":528.0,"y":-104.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"2922fa0c-b8af-39aa-aa3f-257adb550457","labels":[],"name":"Upsert Response","outputPorts":[],"position":{"x":808.0,"y":488.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","id":"4944fff8-8307-300f-9a2c-fe2c51274d1c","instanceIdentifier":"98d1fb57-701b-3eff-9923-640301112717","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","identifier":"949c5a78-7f6a-33e1-8086-2fc945ec8ced","instanceIdentifier":"edbb7edd-ca27-3501-674f-b45a5800ef62","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","id":"e46298e3-1a74-3ebc-a58f-cdb8abeb42b0","instanceIdentifier":"b0e191df-f1ac-3683-d7c3-447d122807e2","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7b14d16d-0ff3-3677-accc-5ccf8f257226","id":"b0613f38-1053-318a-9523-013016f5598f","instanceIdentifier":"ecee2f60-cf87-3a37-9c84-81b39a2c7a20","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","identifier":"ada49e21-c696-3cde-ad11-f6b11ec4d349","instanceIdentifier":"73b99916-92a5-3b96-0104-a1fd639d0947","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","id":"e46298e3-1a74-3ebc-a58f-cdb8abeb42b0","instanceIdentifier":"b0e191df-f1ac-3683-d7c3-447d122807e2","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","identifier":"e46298e3-1a74-3ebc-a58f-cdb8abeb42b0","instanceIdentifier":"b0e191df-f1ac-3683-d7c3-447d122807e2","name":"Start upsert environment","position":{"x":442.0,"y":77.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"d8193ec0-2b41-33e9-f138-b519e9daa092","labels":[],"name":"INT Environment","outputPorts":[],"position":{"x":56.0,"y":864.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","id":"9992eb3e-d3dc-378f-b5ee-43f0f2cc367c","instanceIdentifier":"6f9f144c-bcae-30fb-11d0-5d851ac5f836","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","identifier":"d4003e48-3c64-323a-8c9f-4759f12a42fa","instanceIdentifier":"43b958ab-3414-3929-d97d-df66bc8dd87e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","id":"fe152c7f-0928-3a51-9114-15747f3559cb","instanceIdentifier":"15993ec0-c950-3240-37b8-5b3fec314f79","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","id":"cf40f2cf-703a-3a7a-9e30-57c60212b767","instanceIdentifier":"031b33de-a93c-3914-cffa-5a5a9a305434","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","identifier":"2ecefb1e-8eef-3d83-96cf-152574f2a2a2","instanceIdentifier":"fd7b874a-d3f9-3b95-1fbe-7d134fca66a7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","id":"9992eb3e-d3dc-378f-b5ee-43f0f2cc367c","instanceIdentifier":"6f9f144c-bcae-30fb-11d0-5d851ac5f836","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","id":"fe152c7f-0928-3a51-9114-15747f3559cb","instanceIdentifier":"15993ec0-c950-3240-37b8-5b3fec314f79","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","identifier":"0cb9650e-6033-3099-9c39-db239f000402","instanceIdentifier":"29b83bc8-1be7-314f-5a3f-6e5fcd63c970","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","id":"4944fff8-8307-300f-9a2c-fe2c51274d1c","instanceIdentifier":"98d1fb57-701b-3eff-9923-640301112717","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","identifier":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","identifier":"4944fff8-8307-300f-9a2c-fe2c51274d1c","instanceIdentifier":"98d1fb57-701b-3eff-9923-640301112717","name":"Start upsert region","position":{"x":536.0,"y":-48.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"4d836206-d874-3050-e84d-f4bfd0f8a0bd","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-INT","position":{"x":72.0,"y":288.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","identifier":"fe152c7f-0928-3a51-9114-15747f3559cb","instanceIdentifier":"15993ec0-c950-3240-37b8-5b3fec314f79","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":88.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","identifier":"9992eb3e-d3dc-378f-b5ee-43f0f2cc367c","instanceIdentifier":"6f9f144c-bcae-30fb-11d0-5d851ac5f836","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":483.0,"y":320.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a94703e2-c9e1-38c9-bf55-6e1ed76b04b4","identifier":"cf40f2cf-703a-3a7a-9e30-57c60212b767","instanceIdentifier":"031b33de-a93c-3914-cffa-5a5a9a305434","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":483.0,"y":584.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"false","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7b14d16d-0ff3-3677-accc-5ccf8f257226","id":"4a19a35a-5620-3c7b-8461-fab3debcac0b","instanceIdentifier":"1cbd5262-94be-3e13-a3b0-b0914b2f093f","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7b14d16d-0ff3-3677-accc-5ccf8f257226","identifier":"9ac15c4b-86d6-3955-9372-8a15580ac65e","instanceIdentifier":"db1b6a8a-8bfd-36db-e8b5-e601d7a4c144","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"7b14d16d-0ff3-3677-accc-5ccf8f257226","id":"083426c3-bed7-35d2-8ea6-f3958d6bc214","instanceIdentifier":"ef89a9b8-1f8a-34f1-1511-19d134ef4f8a","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7b14d16d-0ff3-3677-accc-5ccf8f257226","id":"be7ff8e2-ce5a-3d3d-8d6e-6e810e334511","instanceIdentifier":"99355bf0-a320-3af7-4a18-15a8bbe94a3f","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7b14d16d-0ff3-3677-accc-5ccf8f257226","identifier":"39566537-79c3-366a-bca9-3eb6f166e045","instanceIdentifier":"f90a149f-3663-3fbe-bf85-d165aee46aaf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"7b14d16d-0ff3-3677-accc-5ccf8f257226","id":"b0613f38-1053-318a-9523-013016f5598f","instanceIdentifier":"ecee2f60-cf87-3a37-9c84-81b39a2c7a20","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7b14d16d-0ff3-3677-accc-5ccf8f257226","id":"083426c3-bed7-35d2-8ea6-f3958d6bc214","instanceIdentifier":"ef89a9b8-1f8a-34f1-1511-19d134ef4f8a","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7b14d16d-0ff3-3677-accc-5ccf8f257226","identifier":"00dc330c-819e-3ba7-b8da-cf93cb96fbac","instanceIdentifier":"73988f03-95bf-33fc-297c-d97eb09669e5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"7b14d16d-0ff3-3677-accc-5ccf8f257226","id":"be7ff8e2-ce5a-3d3d-8d6e-6e810e334511","instanceIdentifier":"99355bf0-a320-3af7-4a18-15a8bbe94a3f","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d21c7b02-c15b-3cf1-8b49-49d273b9bf39","identifier":"7b14d16d-0ff3-3677-accc-5ccf8f257226","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"7b14d16d-0ff3-3677-accc-5ccf8f257226","identifier":"b0613f38-1053-318a-9523-013016f5598f","instanceIdentifier":"ecee2f60-cf87-3a37-9c84-81b39a2c7a20","name":"Start upsert region","position":{"x":544.0,"y":-56.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"fbb98adb-6363-3f16-82d4-275725364526","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-INT","position":{"x":760.0,"y":280.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7b14d16d-0ff3-3677-accc-5ccf8f257226","identifier":"be7ff8e2-ce5a-3d3d-8d6e-6e810e334511","instanceIdentifier":"99355bf0-a320-3af7-4a18-15a8bbe94a3f","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":496.0,"y":88.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7b14d16d-0ff3-3677-accc-5ccf8f257226","identifier":"083426c3-bed7-35d2-8ea6-f3958d6bc214","instanceIdentifier":"ef89a9b8-1f8a-34f1-1511-19d134ef4f8a","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":509.0,"y":301.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7b14d16d-0ff3-3677-accc-5ccf8f257226","identifier":"4a19a35a-5620-3c7b-8461-fab3debcac0b","instanceIdentifier":"1cbd5262-94be-3e13-a3b0-b0914b2f093f","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":509.0,"y":565.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"false","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2b11b9c5-c8e8-3505-9286-33e419130d4a","id":"02d343e8-92bc-32b3-b649-e13cfeca6ea4","instanceIdentifier":"0d36fe8c-d267-3d79-7b45-677b134bb8dc","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","identifier":"c6dae592-8989-3d8a-9e09-9e42bea54d56","instanceIdentifier":"7d33acf0-b7e2-391d-4636-10a6e4e7b2c7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","id":"1ebcadc2-b592-3e9e-a10a-9735908b3fbd","instanceIdentifier":"d2ca2eae-ce4e-31b6-673e-cf5fe986acb6","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"beb86507-7994-324f-b752-871a4078988e","id":"02a1b8a8-1201-3ba5-b868-3181fd71b134","instanceIdentifier":"156b0d4e-7c2d-383d-ec24-79cf7ae28445","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","identifier":"7d4f58a3-a32d-3b7b-a3a0-e6860ea7b4d6","instanceIdentifier":"d31fe9a7-a017-3140-4bb1-cc0bfa0c9c36","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","id":"1ebcadc2-b592-3e9e-a10a-9735908b3fbd","instanceIdentifier":"d2ca2eae-ce4e-31b6-673e-cf5fe986acb6","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","identifier":"1ebcadc2-b592-3e9e-a10a-9735908b3fbd","instanceIdentifier":"d2ca2eae-ce4e-31b6-673e-cf5fe986acb6","name":"Start upsert environment","position":{"x":520.0,"y":120.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"1f4e4ba5-07a7-39b3-29e8-fa0ec9ccc5d2","labels":[],"name":"E2E Environment","outputPorts":[],"position":{"x":680.0,"y":880.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"beb86507-7994-324f-b752-871a4078988e","id":"4057c4d3-e43d-3d2c-aa8e-10b34a96a893","instanceIdentifier":"235eb227-f866-31e8-260e-861a9b3aeb3d","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"beb86507-7994-324f-b752-871a4078988e","identifier":"ff48a328-c652-38d0-aa61-0d76d9110b52","instanceIdentifier":"8013e564-df06-344d-8da3-24c1be86ea8f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"beb86507-7994-324f-b752-871a4078988e","id":"1358b450-d406-3077-a65c-e443a86d3dcf","instanceIdentifier":"d7dc132b-d7be-3f21-db3f-36ee6602c0a1","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"beb86507-7994-324f-b752-871a4078988e","id":"215d08b3-5a8d-3743-8d51-9ed3f0ca79a2","instanceIdentifier":"41c2ea50-8972-3b56-e189-1ac0c6525c9d","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"beb86507-7994-324f-b752-871a4078988e","identifier":"c8c560d5-ea97-3405-9beb-dead5502aeda","instanceIdentifier":"a05160a3-9c86-3103-71cc-a0a860906d31","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"beb86507-7994-324f-b752-871a4078988e","id":"02a1b8a8-1201-3ba5-b868-3181fd71b134","instanceIdentifier":"156b0d4e-7c2d-383d-ec24-79cf7ae28445","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"beb86507-7994-324f-b752-871a4078988e","id":"1358b450-d406-3077-a65c-e443a86d3dcf","instanceIdentifier":"d7dc132b-d7be-3f21-db3f-36ee6602c0a1","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"beb86507-7994-324f-b752-871a4078988e","identifier":"2ac5a3c0-a4e7-320d-b155-cf476184fe8b","instanceIdentifier":"fb39e0b9-e316-309b-eaa8-5d6bfd95b764","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"beb86507-7994-324f-b752-871a4078988e","id":"215d08b3-5a8d-3743-8d51-9ed3f0ca79a2","instanceIdentifier":"41c2ea50-8972-3b56-e189-1ac0c6525c9d","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","identifier":"beb86507-7994-324f-b752-871a4078988e","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"beb86507-7994-324f-b752-871a4078988e","identifier":"02a1b8a8-1201-3ba5-b868-3181fd71b134","instanceIdentifier":"156b0d4e-7c2d-383d-ec24-79cf7ae28445","name":"Start upsert region","position":{"x":584.0,"y":-8.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"ee468e81-01c8-39c3-7544-e35e01dffdc6","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-E2E","position":{"x":840.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"beb86507-7994-324f-b752-871a4078988e","identifier":"215d08b3-5a8d-3743-8d51-9ed3f0ca79a2","instanceIdentifier":"41c2ea50-8972-3b56-e189-1ac0c6525c9d","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":528.0,"y":160.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"beb86507-7994-324f-b752-871a4078988e","identifier":"1358b450-d406-3077-a65c-e443a86d3dcf","instanceIdentifier":"d7dc132b-d7be-3f21-db3f-36ee6602c0a1","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":529.0,"y":414.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"beb86507-7994-324f-b752-871a4078988e","identifier":"4057c4d3-e43d-3d2c-aa8e-10b34a96a893","instanceIdentifier":"235eb227-f866-31e8-260e-861a9b3aeb3d","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":529.0,"y":678.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"false","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2b11b9c5-c8e8-3505-9286-33e419130d4a","id":"de2db760-9279-36d2-9a13-4e1cdaefe13e","instanceIdentifier":"e418acdc-fe89-3b24-7e9a-c5b10d6eda26","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2b11b9c5-c8e8-3505-9286-33e419130d4a","identifier":"e4c942a0-dae3-3d22-9dcf-40b4520a7167","instanceIdentifier":"6814905e-35ae-3899-872b-1bad8bda60f9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"2b11b9c5-c8e8-3505-9286-33e419130d4a","id":"96367049-9a89-3cba-a692-47f5179162ef","instanceIdentifier":"7692a82a-4956-3eed-c7a4-28455716d49f","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2b11b9c5-c8e8-3505-9286-33e419130d4a","id":"96367049-9a89-3cba-a692-47f5179162ef","instanceIdentifier":"7692a82a-4956-3eed-c7a4-28455716d49f","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2b11b9c5-c8e8-3505-9286-33e419130d4a","identifier":"980232c0-11d5-3af3-bd6f-32c0a33aaa5a","instanceIdentifier":"5212a534-73eb-35e7-1268-2a4cf7577da7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"2b11b9c5-c8e8-3505-9286-33e419130d4a","id":"e45a21bc-9f13-3041-8768-f9d22cf8381c","instanceIdentifier":"49c4208e-ddde-30df-19bc-d7a8d3ab11cd","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2b11b9c5-c8e8-3505-9286-33e419130d4a","id":"e45a21bc-9f13-3041-8768-f9d22cf8381c","instanceIdentifier":"49c4208e-ddde-30df-19bc-d7a8d3ab11cd","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2b11b9c5-c8e8-3505-9286-33e419130d4a","identifier":"e292f338-3785-31f6-b840-1c68458e9e4f","instanceIdentifier":"f9686866-468e-30dd-35ee-7e980abf939b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"2b11b9c5-c8e8-3505-9286-33e419130d4a","id":"02d343e8-92bc-32b3-b649-e13cfeca6ea4","instanceIdentifier":"0d36fe8c-d267-3d79-7b45-677b134bb8dc","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"58cc7aa8-ba2a-349f-b6cc-fd07d9256448","identifier":"2b11b9c5-c8e8-3505-9286-33e419130d4a","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"2b11b9c5-c8e8-3505-9286-33e419130d4a","identifier":"02d343e8-92bc-32b3-b649-e13cfeca6ea4","instanceIdentifier":"0d36fe8c-d267-3d79-7b45-677b134bb8dc","name":"Start upsert region","position":{"x":536.0,"y":-56.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"666b2de4-0dd3-351c-73c2-af25a078021a","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-E2E","position":{"x":128.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2b11b9c5-c8e8-3505-9286-33e419130d4a","identifier":"96367049-9a89-3cba-a692-47f5179162ef","instanceIdentifier":"7692a82a-4956-3eed-c7a4-28455716d49f","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":485.0,"y":299.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2b11b9c5-c8e8-3505-9286-33e419130d4a","identifier":"de2db760-9279-36d2-9a13-4e1cdaefe13e","instanceIdentifier":"e418acdc-fe89-3b24-7e9a-c5b10d6eda26","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":485.0,"y":563.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"false","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2b11b9c5-c8e8-3505-9286-33e419130d4a","identifier":"e45a21bc-9f13-3041-8768-f9d22cf8381c","instanceIdentifier":"49c4208e-ddde-30df-19bc-d7a8d3ab11cd","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":80.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","id":"00df6a4a-5885-3967-8fda-e30b282e402f","instanceIdentifier":"d264bff4-cc27-359a-8101-673789f90d01","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"60d2a0f7-31df-3494-ab7f-62e956cd4869","identifier":"579deabc-7461-3d75-91b8-a8993072ab2b","instanceIdentifier":"28d4157b-ddd0-35bb-57e5-028804e2b809","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"60d2a0f7-31df-3494-ab7f-62e956cd4869","id":"1e177d7b-b2c2-3ba1-a7be-0ffe61a6d4e0","instanceIdentifier":"94fbd8d3-f979-3bc4-1658-d7bf36ea48b5","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"60d2a0f7-31df-3494-ab7f-62e956cd4869","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"60d2a0f7-31df-3494-ab7f-62e956cd4869","identifier":"1e177d7b-b2c2-3ba1-a7be-0ffe61a6d4e0","instanceIdentifier":"94fbd8d3-f979-3bc4-1658-d7bf36ea48b5","name":"Start upsert environment","position":{"x":1176.0,"y":392.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"a0b43559-9557-32fe-581b-4ea6fe9499ce","labels":[],"name":"TEST Environment","outputPorts":[],"position":{"x":-144.0,"y":504.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","id":"007c2558-f8f1-35db-8d5b-277ec2cd74c4","instanceIdentifier":"fbcc2c13-5c38-3aa6-5848-9e4e3dc6a6f6","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","identifier":"e8575d90-13a2-38e7-aef9-17933d655bfc","instanceIdentifier":"84ee86be-31c2-33be-f47b-6eb5599af6e9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","id":"00df6a4a-5885-3967-8fda-e30b282e402f","instanceIdentifier":"d264bff4-cc27-359a-8101-673789f90d01","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","id":"9d8a6f20-82d0-3974-8f14-c7f7da3c2da2","instanceIdentifier":"956f739e-c7ab-3539-9501-82f3f10eac83","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","identifier":"840366be-bd04-3ea3-a136-5d05deb09df1","instanceIdentifier":"4d2f8dd0-9a46-3fc5-2602-df6b8df54e22","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","id":"256a44f6-4a78-36b6-984f-65ba4df50fb6","instanceIdentifier":"339d3ded-da52-39af-bde2-b08c759c2d3a","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","id":"256a44f6-4a78-36b6-984f-65ba4df50fb6","instanceIdentifier":"339d3ded-da52-39af-bde2-b08c759c2d3a","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","identifier":"259229cb-f8b8-3cdb-8123-e655a78ebcab","instanceIdentifier":"15284b38-79a7-33e0-c08e-0eb12582b298","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","id":"007c2558-f8f1-35db-8d5b-277ec2cd74c4","instanceIdentifier":"fbcc2c13-5c38-3aa6-5848-9e4e3dc6a6f6","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"60d2a0f7-31df-3494-ab7f-62e956cd4869","identifier":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","identifier":"00df6a4a-5885-3967-8fda-e30b282e402f","instanceIdentifier":"d264bff4-cc27-359a-8101-673789f90d01","name":"Start upsert region","position":{"x":504.0,"y":40.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"cc920518-2a4d-396a-34f3-7d4d9214f3af","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-TEST","position":{"x":1112.0,"y":600.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","identifier":"9d8a6f20-82d0-3974-8f14-c7f7da3c2da2","instanceIdentifier":"956f739e-c7ab-3539-9501-82f3f10eac83","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":456.0,"y":624.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"false","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","identifier":"007c2558-f8f1-35db-8d5b-277ec2cd74c4","instanceIdentifier":"fbcc2c13-5c38-3aa6-5848-9e4e3dc6a6f6","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":456.0,"y":184.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1f82d9f8-078d-3af9-b938-d6c890ec69ab","identifier":"256a44f6-4a78-36b6-984f-65ba4df50fb6","instanceIdentifier":"339d3ded-da52-39af-bde2-b08c759c2d3a","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":456.0,"y":392.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d4ae66ba-46f2-37ed-867f-d127f995225c","id":"5c00480e-7b03-321e-830e-59abaf18f40c","instanceIdentifier":"c85369e2-785e-3c95-6fba-97bc20fbd772","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a132df31-38fd-362a-9663-2eba6144df9a","identifier":"f4db8597-ce39-31ba-bea7-03e8d2dd5461","instanceIdentifier":"31c17221-6e99-3562-9c18-a3424e0ba7f4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a132df31-38fd-362a-9663-2eba6144df9a","id":"0b013e7a-8531-325e-bcea-4af61fbdbaae","instanceIdentifier":"ac331353-75ee-303a-3c68-adea7710de6a","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","id":"d3d31a94-7e80-3b2f-a5f0-d8154a33c246","instanceIdentifier":"54502c3c-ca97-3e78-ed8d-6e709b93502b","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a132df31-38fd-362a-9663-2eba6144df9a","identifier":"b8084ee0-727e-331c-9d15-5b22748a6a9c","instanceIdentifier":"7bd0c165-fe20-3400-ac69-19d74930bb8c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a132df31-38fd-362a-9663-2eba6144df9a","id":"0b013e7a-8531-325e-bcea-4af61fbdbaae","instanceIdentifier":"ac331353-75ee-303a-3c68-adea7710de6a","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"a132df31-38fd-362a-9663-2eba6144df9a","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a132df31-38fd-362a-9663-2eba6144df9a","identifier":"0b013e7a-8531-325e-bcea-4af61fbdbaae","instanceIdentifier":"ac331353-75ee-303a-3c68-adea7710de6a","name":"Start upsert environment","position":{"x":516.9999958571655,"y":93.99999810811572},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"00405ae8-0cf0-39a4-04a5-2174dfe2f9b8","labels":[],"name":"PROD Environment","outputPorts":[],"position":{"x":1120.0,"y":520.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","id":"3c2202fb-cb5b-3f28-8535-93945619c7c0","instanceIdentifier":"79336918-28d7-3148-fe38-5d277cecda10","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","identifier":"a7ebe7cd-fc6e-31ad-8cc5-8bc99dece8a5","instanceIdentifier":"263bac7d-3151-3883-86b2-acae5ea93438","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","id":"d3d31a94-7e80-3b2f-a5f0-d8154a33c246","instanceIdentifier":"54502c3c-ca97-3e78-ed8d-6e709b93502b","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","id":"73e8aa82-60a4-3ebd-978b-7e6fd33164a3","instanceIdentifier":"7fb9e944-07b3-363d-f174-0d32b90f1698","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","identifier":"1af448a7-f268-3e92-9c75-e52d7ab2cdf5","instanceIdentifier":"e6a5d841-1502-3394-39dc-cfbbacec6137","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","id":"3c2202fb-cb5b-3f28-8535-93945619c7c0","instanceIdentifier":"79336918-28d7-3148-fe38-5d277cecda10","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","id":"83e2b13c-f35e-3b3b-8615-9bb0139e6a6b","instanceIdentifier":"78c87679-bde1-3664-1817-7820fc01c971","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","identifier":"43ade847-db81-3556-9368-f4becca2f446","instanceIdentifier":"01545fb9-771c-33f9-562a-2219b75684ca","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","id":"73e8aa82-60a4-3ebd-978b-7e6fd33164a3","instanceIdentifier":"7fb9e944-07b3-363d-f174-0d32b90f1698","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a132df31-38fd-362a-9663-2eba6144df9a","identifier":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","identifier":"d3d31a94-7e80-3b2f-a5f0-d8154a33c246","instanceIdentifier":"54502c3c-ca97-3e78-ed8d-6e709b93502b","name":"Start upsert region","position":{"x":528.0,"y":-56.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"d727746d-b80a-3c35-d3c3-d2d644742cc0","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-PROD","position":{"x":176.0,"y":272.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","identifier":"3c2202fb-cb5b-3f28-8535-93945619c7c0","instanceIdentifier":"79336918-28d7-3148-fe38-5d277cecda10","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":72.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","identifier":"83e2b13c-f35e-3b3b-8615-9bb0139e6a6b","instanceIdentifier":"78c87679-bde1-3664-1817-7820fc01c971","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":472.00000348656,"y":550.9999981081157},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"false","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f57ce74d-3399-34cc-b30e-4aae3e1c240b","identifier":"73e8aa82-60a4-3ebd-978b-7e6fd33164a3","instanceIdentifier":"7fb9e944-07b3-363d-f174-0d32b90f1698","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":472.00000348656,"y":286.99999810811573},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d4ae66ba-46f2-37ed-867f-d127f995225c","id":"1cd0721a-ff4a-3efc-9d47-59085a2b68a7","instanceIdentifier":"b4e9d214-6743-339b-8b0d-5794ffbffe1c","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d4ae66ba-46f2-37ed-867f-d127f995225c","identifier":"2078f0a3-6bf2-3cff-904a-06e544aafee2","instanceIdentifier":"b51ea672-0d6d-300f-dfa7-a497ec7675d8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d4ae66ba-46f2-37ed-867f-d127f995225c","id":"5c00480e-7b03-321e-830e-59abaf18f40c","instanceIdentifier":"c85369e2-785e-3c95-6fba-97bc20fbd772","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d4ae66ba-46f2-37ed-867f-d127f995225c","id":"46ed2ccc-d050-363d-98cb-7aecfbbb5493","instanceIdentifier":"a68cd30f-2635-346c-05ec-eb122b7b35eb","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d4ae66ba-46f2-37ed-867f-d127f995225c","identifier":"6ed67b94-475d-3b95-8108-63b1d9f36203","instanceIdentifier":"33943080-8ee0-3d1a-7f97-75cf4f2d17c3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"d4ae66ba-46f2-37ed-867f-d127f995225c","id":"c4acea35-b9b8-382e-b4b5-6545b1cb0366","instanceIdentifier":"23cdac2e-2af4-3de7-81a7-52bdc4e4d90b","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d4ae66ba-46f2-37ed-867f-d127f995225c","id":"c4acea35-b9b8-382e-b4b5-6545b1cb0366","instanceIdentifier":"23cdac2e-2af4-3de7-81a7-52bdc4e4d90b","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d4ae66ba-46f2-37ed-867f-d127f995225c","identifier":"1f00d8bb-9152-392c-a414-f09e44eecd74","instanceIdentifier":"14f1d9f1-f792-385f-067e-c16b43cfe4c8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d4ae66ba-46f2-37ed-867f-d127f995225c","id":"1cd0721a-ff4a-3efc-9d47-59085a2b68a7","instanceIdentifier":"b4e9d214-6743-339b-8b0d-5794ffbffe1c","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a132df31-38fd-362a-9663-2eba6144df9a","identifier":"d4ae66ba-46f2-37ed-867f-d127f995225c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d4ae66ba-46f2-37ed-867f-d127f995225c","identifier":"5c00480e-7b03-321e-830e-59abaf18f40c","instanceIdentifier":"c85369e2-785e-3c95-6fba-97bc20fbd772","name":"Start upsert region","position":{"x":520.0,"y":-24.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"cdf8e146-ae66-39b6-f349-e19d43b017e6","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-PROD","position":{"x":824.0,"y":272.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d4ae66ba-46f2-37ed-867f-d127f995225c","identifier":"46ed2ccc-d050-363d-98cb-7aecfbbb5493","instanceIdentifier":"a68cd30f-2635-346c-05ec-eb122b7b35eb","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":476.00000348656,"y":629.9999981081157},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"false","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d4ae66ba-46f2-37ed-867f-d127f995225c","identifier":"1cd0721a-ff4a-3efc-9d47-59085a2b68a7","instanceIdentifier":"b4e9d214-6743-339b-8b0d-5794ffbffe1c","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":472.0,"y":144.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"INFO","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d4ae66ba-46f2-37ed-867f-d127f995225c","identifier":"c4acea35-b9b8-382e-b4b5-6545b1cb0366","instanceIdentifier":"23cdac2e-2af4-3de7-81a7-52bdc4e4d90b","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":472.0,"y":368.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"a618a480-33ee-3b6a-a370-4f101acbc82e","instanceIdentifier":"1ee24960-0fd0-3a1e-43ce-77e6d0bf9181","maxBackoffPeriod":"10 mins","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":480.0,"y":528.0},"properties":{"isTestEnvironment":"${status:equals('draft')}","isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isTestEnvironment":{"displayName":"isTestEnvironment","identifiesControllerService":false,"name":"isTestEnvironment","sensitive":false},"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["error"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-custom-replies-nar","group":"com.bmwgroup.nifi","version":"1.0.0"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"040b50ce-41f8-33ce-a63d-29077199e967","instanceIdentifier":"797e20e0-ef33-3853-f36d-93ce044ec6fa","maxBackoffPeriod":"10 mins","name":"TransformResponseProcessor","penaltyDuration":"30 sec","position":{"x":480.0,"y":264.0},"properties":{},"propertyDescriptors":{},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"com.bmwgroup.nifi.custom.replies.processor.processors.TransformResponseProcessor","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6e3894eb-533e-3c05-8b0f-dc5405217150","identifier":"99c58eca-68ce-3ae3-899f-f085d8f00a9a","instanceIdentifier":"887c65d3-8060-3ed8-084b-40f3762763e0","maxBackoffPeriod":"10 mins","name":"Set log prefix","penaltyDuration":"30 sec","position":{"x":480.0,"y":32.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"RESPONSE.UPSERT"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"d7ee2dd4-0df7-33bb-a8b1-78636471fe81","instanceIdentifier":"90292338-0ec3-30ff-632b-eff1ba2db2de","name":"Start APL Metadata Upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","identifier":"3b30132e-0be9-3eee-ac77-27b61cc3a211","instanceIdentifier":"ef18dcaa-0852-323c-fbcb-60c30d470e62","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","id":"fd026044-8b34-3668-8a79-4e74c0b02f45","instanceIdentifier":"9fd0cb82-a58a-398a-4f2e-967028c41213","name":"Transform json","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"faa8e785-32f2-3861-9e2f-3a11753dab99","instanceIdentifier":"96a56113-010c-3009-be3e-f1b312612106","name":"Start APL Content Upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","identifier":"0f948bdf-1d8a-33aa-97a0-b33ca7845cb4","instanceIdentifier":"1137fd6a-255f-3816-ef24-c9ec03898c74","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","id":"fd026044-8b34-3668-8a79-4e74c0b02f45","instanceIdentifier":"9fd0cb82-a58a-398a-4f2e-967028c41213","name":"Transform json","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","id":"fd026044-8b34-3668-8a79-4e74c0b02f45","instanceIdentifier":"9fd0cb82-a58a-398a-4f2e-967028c41213","name":"Transform json","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","identifier":"537e6281-05bf-3971-8a4b-06ec967dd7f4","instanceIdentifier":"967a77e8-0b7a-3052-7c2c-a7f25bf07f0a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","id":"d95829a5-bec8-319c-990a-886102a2522e","instanceIdentifier":"7d8f8156-fdc5-3f31-c3c0-4a6c6176d1b4","name":"Start update apl","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","identifier":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","identifier":"d95829a5-bec8-319c-990a-886102a2522e","instanceIdentifier":"7d8f8156-fdc5-3f31-c3c0-4a6c6176d1b4","name":"Start update apl","position":{"x":520.0,"y":120.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"7c81ed92-4ff6-3076-2eb0-6623cb89c002","labels":[],"name":"Upsert APL","outputPorts":[],"position":{"x":216.0,"y":496.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","id":"e4ad3ff0-c61d-3065-b8fd-e70b3a1be4a5","instanceIdentifier":"4a752c49-605e-3fd5-ef80-4899375be794","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"9fa90ecd-ab24-3500-b9a0-189d04756942","instanceIdentifier":"2237635d-f916-3f8a-fb21-73b1f168931a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"8be6664b-0537-3398-893f-382947513db6","instanceIdentifier":"15911ec2-10a9-36fa-31d3-8dedd4ecc89f","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"f3580cef-896e-3851-a22a-02b9df905e05","id":"f98f085b-4363-3214-b625-4e09c4bb671b","instanceIdentifier":"2a484880-b9a1-3d25-413a-cfce3d1775bc","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"e07f3821-233e-3d53-91af-8297b208ff3f","instanceIdentifier":"a1b6db7d-461a-36ea-a3d5-1985c51d8619","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"8be6664b-0537-3398-893f-382947513db6","instanceIdentifier":"15911ec2-10a9-36fa-31d3-8dedd4ecc89f","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"8be6664b-0537-3398-893f-382947513db6","instanceIdentifier":"15911ec2-10a9-36fa-31d3-8dedd4ecc89f","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"0a706be1-7146-3140-ad8a-4e18adc970e9","instanceIdentifier":"1c0a5bcd-e155-3a5a-e846-a3e78b62b08f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"c550ac84-28dd-385d-8595-727272271e50","instanceIdentifier":"5f1a4cf0-60a4-347a-6244-ba8d0b1213a8","name":"Transform metadata","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"35eabe11-73eb-3a80-98e4-794c516bc31d","id":"3b63f182-f6a6-33fd-9762-adbb7f178017","instanceIdentifier":"deb25a26-70e8-3073-3692-cc84ae6ad8a0","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"03c218f8-c598-38be-8678-afd2c5e1e12c","instanceIdentifier":"98cb641c-ab7b-34c2-0e76-19e078804b5a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isTestEnvironment"],"source":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"8be6664b-0537-3398-893f-382947513db6","instanceIdentifier":"15911ec2-10a9-36fa-31d3-8dedd4ecc89f","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"b410276e-41b3-31d8-ba9d-a09618587c42","instanceIdentifier":"030012b9-6da3-3f92-04f6-f767a0b6f137","name":"Set log prefix","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"abae08c2-9b2b-3664-9cc4-d8efab2a307b","instanceIdentifier":"6232e2d5-a10d-32fa-49b1-be03250a9395","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"d7ee2dd4-0df7-33bb-a8b1-78636471fe81","instanceIdentifier":"90292338-0ec3-30ff-632b-eff1ba2db2de","name":"Start APL Metadata Upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"64c9e815-337c-3357-902a-010552170988","id":"480344a3-6505-3184-8782-3ee82e2681f3","instanceIdentifier":"f205fe51-3e32-3dd3-f9f2-c11ab8122ced","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"d792fd60-c1e7-3653-a09d-199e0f68c5ae","instanceIdentifier":"76b16bcb-4c91-3ccf-d7b1-d7c0055a7c77","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"8be6664b-0537-3398-893f-382947513db6","instanceIdentifier":"15911ec2-10a9-36fa-31d3-8dedd4ecc89f","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"c550ac84-28dd-385d-8595-727272271e50","instanceIdentifier":"5f1a4cf0-60a4-347a-6244-ba8d0b1213a8","name":"Transform metadata","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"d5d98905-0143-31e7-b346-c37b8012db12","instanceIdentifier":"4e5a2426-52f9-3220-2145-a4853324f690","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a331acca-efeb-385a-99ba-ee81f4bb7287","id":"b410276e-41b3-31d8-ba9d-a09618587c42","instanceIdentifier":"030012b9-6da3-3f92-04f6-f767a0b6f137","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","identifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"d7ee2dd4-0df7-33bb-a8b1-78636471fe81","instanceIdentifier":"90292338-0ec3-30ff-632b-eff1ba2db2de","name":"Start APL Metadata Upsert","position":{"x":424.0,"y":0.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"893f3c29-b9a3-3c7d-b870-4a03c79f4bdf","labels":[],"name":"Update APL Metadata","outputPorts":[],"position":{"x":176.0,"y":544.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"91306943-d16b-37bb-a795-1e7098b37fd6","id":"78ce70cf-f8fb-3c32-9b73-115bdd303e11","instanceIdentifier":"72f1d6e6-64d1-3e30-bdd7-20c56161fd55","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","identifier":"b74d219c-72f2-3b15-9853-6bde4a0d6f8f","instanceIdentifier":"cd09ad5a-a031-3135-081d-d3dd9d6870da","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","id":"e4ad3ff0-c61d-3065-b8fd-e70b3a1be4a5","instanceIdentifier":"4a752c49-605e-3fd5-ef80-4899375be794","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","id":"aca2d51d-352a-3b1a-bd22-265058086757","instanceIdentifier":"ec4aab53-99fe-3ddc-559a-a04c4fd06a7b","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","identifier":"99cd0d04-7039-3fe0-9337-52e59ae9daf1","instanceIdentifier":"a9091285-3e22-3ad0-f699-a238fa7d2812","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","id":"e4ad3ff0-c61d-3065-b8fd-e70b3a1be4a5","instanceIdentifier":"4a752c49-605e-3fd5-ef80-4899375be794","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","identifier":"e4ad3ff0-c61d-3065-b8fd-e70b3a1be4a5","instanceIdentifier":"4a752c49-605e-3fd5-ef80-4899375be794","name":"Start upsert environment","position":{"x":544.0,"y":113.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"b8b4eddb-abcc-3f63-7d41-030938de9562","labels":[],"name":"E2E Environment","outputPorts":[],"position":{"x":696.0,"y":976.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"91306943-d16b-37bb-a795-1e7098b37fd6","id":"4ae58dd7-6962-3b17-8ccc-614502afcb38","instanceIdentifier":"f37dcfdc-fb93-3721-2ed4-051f9f4fced6","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"91306943-d16b-37bb-a795-1e7098b37fd6","identifier":"1276e215-a421-3410-9c5a-2c19c354c5c3","instanceIdentifier":"772106cd-c3c1-3966-f137-1b088d443ac5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"91306943-d16b-37bb-a795-1e7098b37fd6","id":"36bb567c-41f4-3709-b4aa-a3d6f270ecc9","instanceIdentifier":"53fd90be-c573-3098-06c8-8e7c8c776a6b","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"91306943-d16b-37bb-a795-1e7098b37fd6","id":"36bb567c-41f4-3709-b4aa-a3d6f270ecc9","instanceIdentifier":"53fd90be-c573-3098-06c8-8e7c8c776a6b","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"91306943-d16b-37bb-a795-1e7098b37fd6","identifier":"6c0fd0df-22d2-38e6-ab7d-1b6e58b5f962","instanceIdentifier":"7d429f8f-0f58-3486-036f-6e26d9bcde03","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"91306943-d16b-37bb-a795-1e7098b37fd6","id":"42138821-3b86-3970-a700-631f6822e3db","instanceIdentifier":"4ef33892-9cc1-31e3-3d6b-b967726d077a","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"91306943-d16b-37bb-a795-1e7098b37fd6","id":"42138821-3b86-3970-a700-631f6822e3db","instanceIdentifier":"4ef33892-9cc1-31e3-3d6b-b967726d077a","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"91306943-d16b-37bb-a795-1e7098b37fd6","identifier":"689c5046-4fe6-3088-bd3e-e67615a13369","instanceIdentifier":"27f49179-d705-3bf0-6bbb-6a95d4845202","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"91306943-d16b-37bb-a795-1e7098b37fd6","id":"78ce70cf-f8fb-3c32-9b73-115bdd303e11","instanceIdentifier":"72f1d6e6-64d1-3e30-bdd7-20c56161fd55","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","identifier":"91306943-d16b-37bb-a795-1e7098b37fd6","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"91306943-d16b-37bb-a795-1e7098b37fd6","identifier":"78ce70cf-f8fb-3c32-9b73-115bdd303e11","instanceIdentifier":"72f1d6e6-64d1-3e30-bdd7-20c56161fd55","name":"Start upsert environment","position":{"x":528.0,"y":80.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"e65d30b1-e141-320c-4cf9-2b3ca19582be","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-E2E","position":{"x":104.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"91306943-d16b-37bb-a795-1e7098b37fd6","identifier":"42138821-3b86-3970-a700-631f6822e3db","instanceIdentifier":"4ef33892-9cc1-31e3-3d6b-b967726d077a","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":240.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"91306943-d16b-37bb-a795-1e7098b37fd6","identifier":"4ae58dd7-6962-3b17-8ccc-614502afcb38","instanceIdentifier":"f37dcfdc-fb93-3721-2ed4-051f9f4fced6","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":480.0,"y":768.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"91306943-d16b-37bb-a795-1e7098b37fd6","identifier":"36bb567c-41f4-3709-b4aa-a3d6f270ecc9","instanceIdentifier":"53fd90be-c573-3098-06c8-8e7c8c776a6b","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":480.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","id":"efbcd52b-1a05-3ca6-9dcb-8dcffe22081d","instanceIdentifier":"7e877621-eb66-31c7-3912-8407f3c461ff","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","identifier":"24b30ae6-787a-3145-b6b5-c30ab4da3cc9","instanceIdentifier":"160b8138-6a3b-31bb-b850-24dc89b62fae","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","id":"4612b46d-34e3-3591-9601-d6814d21490d","instanceIdentifier":"b57dbc9f-a27c-310e-c207-5bcbd803edc5","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","id":"9eed3b0c-cfeb-3bcf-8150-29bc1473e68a","instanceIdentifier":"a5d189a1-cd4e-3c92-26a9-818695a84903","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","identifier":"d50f137a-d27a-38a8-b9f3-3304a567d0bf","instanceIdentifier":"4a455f9c-6e02-3962-a3b7-eb90a1e5e458","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","id":"aca2d51d-352a-3b1a-bd22-265058086757","instanceIdentifier":"ec4aab53-99fe-3ddc-559a-a04c4fd06a7b","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","id":"4612b46d-34e3-3591-9601-d6814d21490d","instanceIdentifier":"b57dbc9f-a27c-310e-c207-5bcbd803edc5","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","identifier":"7bbe0380-52a9-3c59-8777-14ea586bbaac","instanceIdentifier":"274fc6b3-0752-3d56-3470-929d3a62f8df","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","id":"9eed3b0c-cfeb-3bcf-8150-29bc1473e68a","instanceIdentifier":"a5d189a1-cd4e-3c92-26a9-818695a84903","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a65bf2a2-01e5-399e-b879-9a0b07076ac6","identifier":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","identifier":"aca2d51d-352a-3b1a-bd22-265058086757","instanceIdentifier":"ec4aab53-99fe-3ddc-559a-a04c4fd06a7b","name":"Start upsert environment","position":{"x":528.0,"y":80.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"16f97915-32b6-3cc5-1aa5-c5cc5acd14e4","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-E2E","position":{"x":752.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","identifier":"9eed3b0c-cfeb-3bcf-8150-29bc1473e68a","instanceIdentifier":"a5d189a1-cd4e-3c92-26a9-818695a84903","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":240.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","identifier":"4612b46d-34e3-3591-9601-d6814d21490d","instanceIdentifier":"b57dbc9f-a27c-310e-c207-5bcbd803edc5","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":480.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1e2a31e7-f09d-35e9-b512-9e09daa90b48","identifier":"efbcd52b-1a05-3ca6-9dcb-8dcffe22081d","instanceIdentifier":"7e877621-eb66-31c7-3912-8407f3c461ff","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":480.0,"y":768.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"cfa85535-b867-3e48-b35e-9d9a663739d9","id":"470c449b-69ea-3cf5-8957-da8e845bb576","instanceIdentifier":"27c3a574-292c-353c-14f3-0bfefa654621","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"64c9e815-337c-3357-902a-010552170988","identifier":"21e89fe2-2dea-344b-9b32-b946b9d35403","instanceIdentifier":"3252bca3-c3db-393e-b206-77767e68189c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"64c9e815-337c-3357-902a-010552170988","id":"480344a3-6505-3184-8782-3ee82e2681f3","instanceIdentifier":"f205fe51-3e32-3dd3-f9f2-c11ab8122ced","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"3b1454bc-02b7-344a-b5c2-90555ac93255","id":"c8665544-acd3-3350-8d42-29c8e1e968ed","instanceIdentifier":"4ee12432-13d9-3d41-61f9-86db7d02e5aa","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"64c9e815-337c-3357-902a-010552170988","identifier":"c5839426-ec23-3f3f-971a-98fb4dbc69cc","instanceIdentifier":"3dca479f-1e0b-36fa-c376-e65c5a7270be","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"64c9e815-337c-3357-902a-010552170988","id":"480344a3-6505-3184-8782-3ee82e2681f3","instanceIdentifier":"f205fe51-3e32-3dd3-f9f2-c11ab8122ced","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"64c9e815-337c-3357-902a-010552170988","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"64c9e815-337c-3357-902a-010552170988","identifier":"480344a3-6505-3184-8782-3ee82e2681f3","instanceIdentifier":"f205fe51-3e32-3dd3-f9f2-c11ab8122ced","name":"Start upsert environment","position":{"x":544.0,"y":113.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"17289a79-abff-361c-bf4e-f8a0e1aa2c50","labels":[],"name":"PROD Environment","outputPorts":[],"position":{"x":1088.0,"y":624.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cfa85535-b867-3e48-b35e-9d9a663739d9","id":"ee0b19c2-87b1-380c-a72c-3ad3884e8889","instanceIdentifier":"39d06ae3-e432-3149-ffce-8112684ff196","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cfa85535-b867-3e48-b35e-9d9a663739d9","identifier":"70b828b0-28e7-3d2c-8b9e-c84d73e5c709","instanceIdentifier":"469b719e-9ad9-3117-aacc-4a8e9c040b19","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"cfa85535-b867-3e48-b35e-9d9a663739d9","id":"470c449b-69ea-3cf5-8957-da8e845bb576","instanceIdentifier":"27c3a574-292c-353c-14f3-0bfefa654621","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cfa85535-b867-3e48-b35e-9d9a663739d9","id":"f6fc0739-2f95-3de3-ac90-0305e6ac2e47","instanceIdentifier":"b9e0a5c4-79bc-3426-49f2-2f026d162888","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cfa85535-b867-3e48-b35e-9d9a663739d9","identifier":"c9e3d71c-4bcc-3108-b693-16c159d4ca8d","instanceIdentifier":"74c1a671-a4b7-3b8d-608a-140d72b33b73","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"cfa85535-b867-3e48-b35e-9d9a663739d9","id":"f5a26d35-a14a-33ff-91ea-f8818c7c56f5","instanceIdentifier":"5eedc673-21ce-36a4-119f-293d91bfce82","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"cfa85535-b867-3e48-b35e-9d9a663739d9","id":"f5a26d35-a14a-33ff-91ea-f8818c7c56f5","instanceIdentifier":"5eedc673-21ce-36a4-119f-293d91bfce82","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"cfa85535-b867-3e48-b35e-9d9a663739d9","identifier":"69f6537d-a16b-31d7-a6a8-abae69414a8d","instanceIdentifier":"637ff87f-036c-3301-4619-75c109abd4ca","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"cfa85535-b867-3e48-b35e-9d9a663739d9","id":"ee0b19c2-87b1-380c-a72c-3ad3884e8889","instanceIdentifier":"39d06ae3-e432-3149-ffce-8112684ff196","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"64c9e815-337c-3357-902a-010552170988","identifier":"cfa85535-b867-3e48-b35e-9d9a663739d9","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"cfa85535-b867-3e48-b35e-9d9a663739d9","identifier":"470c449b-69ea-3cf5-8957-da8e845bb576","instanceIdentifier":"27c3a574-292c-353c-14f3-0bfefa654621","name":"Start upsert environment","position":{"x":528.0,"y":80.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"dfca0f57-e81c-3d53-0e55-d8ffc206a030","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-PROD","position":{"x":752.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cfa85535-b867-3e48-b35e-9d9a663739d9","identifier":"f5a26d35-a14a-33ff-91ea-f8818c7c56f5","instanceIdentifier":"5eedc673-21ce-36a4-119f-293d91bfce82","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":480.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cfa85535-b867-3e48-b35e-9d9a663739d9","identifier":"ee0b19c2-87b1-380c-a72c-3ad3884e8889","instanceIdentifier":"39d06ae3-e432-3149-ffce-8112684ff196","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":240.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"cfa85535-b867-3e48-b35e-9d9a663739d9","identifier":"f6fc0739-2f95-3de3-ac90-0305e6ac2e47","instanceIdentifier":"b9e0a5c4-79bc-3426-49f2-2f026d162888","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":480.0,"y":768.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3b1454bc-02b7-344a-b5c2-90555ac93255","id":"cc6f81ac-0222-3e29-889b-e3e0d76c98ae","instanceIdentifier":"bc1f692e-8e5a-36ca-0960-e7b5fd891fd9","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"3b1454bc-02b7-344a-b5c2-90555ac93255","identifier":"91280792-3ca4-3bf5-a090-fbdda19bbcaf","instanceIdentifier":"03c76742-4768-3f27-9b86-3886c3425c97","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"3b1454bc-02b7-344a-b5c2-90555ac93255","id":"c829bfe5-ab29-330a-b367-414ca7bac4a5","instanceIdentifier":"bd085b05-38f1-33cc-a494-3c3e2d12b1d3","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3b1454bc-02b7-344a-b5c2-90555ac93255","id":"c829bfe5-ab29-330a-b367-414ca7bac4a5","instanceIdentifier":"bd085b05-38f1-33cc-a494-3c3e2d12b1d3","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"3b1454bc-02b7-344a-b5c2-90555ac93255","identifier":"b1547dd3-667f-3510-b110-0925b1df5473","instanceIdentifier":"8ce54c78-0878-3b26-eb63-f2c30d1d994a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"3b1454bc-02b7-344a-b5c2-90555ac93255","id":"c8665544-acd3-3350-8d42-29c8e1e968ed","instanceIdentifier":"4ee12432-13d9-3d41-61f9-86db7d02e5aa","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3b1454bc-02b7-344a-b5c2-90555ac93255","id":"8feff45f-cda8-3146-bc23-937d91a998bf","instanceIdentifier":"3bee256a-7431-3c92-5e16-6555c2da6897","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"3b1454bc-02b7-344a-b5c2-90555ac93255","identifier":"f1c13f73-7a30-32a1-a312-2883174a2667","instanceIdentifier":"0fc03cdb-7e6c-3c56-1ac5-d4a2ac2ec1a7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"3b1454bc-02b7-344a-b5c2-90555ac93255","id":"cc6f81ac-0222-3e29-889b-e3e0d76c98ae","instanceIdentifier":"bc1f692e-8e5a-36ca-0960-e7b5fd891fd9","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"64c9e815-337c-3357-902a-010552170988","identifier":"3b1454bc-02b7-344a-b5c2-90555ac93255","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"3b1454bc-02b7-344a-b5c2-90555ac93255","identifier":"c8665544-acd3-3350-8d42-29c8e1e968ed","instanceIdentifier":"4ee12432-13d9-3d41-61f9-86db7d02e5aa","name":"Start upsert environment","position":{"x":528.0,"y":80.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"b09229ab-8dae-3cb0-bf90-09d0e81b723a","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-PROD","position":{"x":104.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"3b1454bc-02b7-344a-b5c2-90555ac93255","identifier":"c829bfe5-ab29-330a-b367-414ca7bac4a5","instanceIdentifier":"bd085b05-38f1-33cc-a494-3c3e2d12b1d3","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":240.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"3b1454bc-02b7-344a-b5c2-90555ac93255","identifier":"cc6f81ac-0222-3e29-889b-e3e0d76c98ae","instanceIdentifier":"bc1f692e-8e5a-36ca-0960-e7b5fd891fd9","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":480.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"3b1454bc-02b7-344a-b5c2-90555ac93255","identifier":"8feff45f-cda8-3146-bc23-937d91a998bf","instanceIdentifier":"3bee256a-7431-3c92-5e16-6555c2da6897","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":480.0,"y":768.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"c3dc837d-84b7-3982-873f-18f4e200fe05","id":"78fd918c-e100-3d21-a4a0-8cee36658151","instanceIdentifier":"88ccfa1b-1ab0-3e31-44f8-e54c1aaafab3","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"35eabe11-73eb-3a80-98e4-794c516bc31d","identifier":"bdd99e38-1a95-3e64-97d0-e2d7953681c4","instanceIdentifier":"d627112b-4d6c-39b8-ea49-b39749dd4148","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"35eabe11-73eb-3a80-98e4-794c516bc31d","id":"3b63f182-f6a6-33fd-9762-adbb7f178017","instanceIdentifier":"deb25a26-70e8-3073-3692-cc84ae6ad8a0","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"35eabe11-73eb-3a80-98e4-794c516bc31d","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"35eabe11-73eb-3a80-98e4-794c516bc31d","identifier":"3b63f182-f6a6-33fd-9762-adbb7f178017","instanceIdentifier":"deb25a26-70e8-3073-3692-cc84ae6ad8a0","name":"Start upsert environment","position":{"x":544.0,"y":113.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"45eda859-579d-3e45-d30a-2d3c06ce85f6","labels":[],"name":"TEST Environment","outputPorts":[],"position":{"x":-352.0,"y":664.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c3dc837d-84b7-3982-873f-18f4e200fe05","id":"6ccdcd44-694c-3095-9aab-90a23b301d41","instanceIdentifier":"35ef57e7-3034-3960-148d-12cfff0e7180","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c3dc837d-84b7-3982-873f-18f4e200fe05","identifier":"03126874-20df-32af-b630-a3894513939c","instanceIdentifier":"d3a702d8-eb20-36f0-a2cf-eac8a52ad2ac","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"c3dc837d-84b7-3982-873f-18f4e200fe05","id":"78fd918c-e100-3d21-a4a0-8cee36658151","instanceIdentifier":"88ccfa1b-1ab0-3e31-44f8-e54c1aaafab3","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c3dc837d-84b7-3982-873f-18f4e200fe05","id":"7315eccf-ed3a-3da6-9ac0-03b484a15bdc","instanceIdentifier":"05646c0b-5400-3c04-8474-f20ea9f1dda9","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c3dc837d-84b7-3982-873f-18f4e200fe05","identifier":"ae17e19a-c56e-3605-a41c-e7461cb495bd","instanceIdentifier":"709d5919-255c-3f15-6022-dc9f4760c595","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c3dc837d-84b7-3982-873f-18f4e200fe05","id":"6ccdcd44-694c-3095-9aab-90a23b301d41","instanceIdentifier":"35ef57e7-3034-3960-148d-12cfff0e7180","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c3dc837d-84b7-3982-873f-18f4e200fe05","id":"60e2672d-4448-3da7-8d6d-63aaecc3d760","instanceIdentifier":"b1cbdac9-2100-3a79-bcee-d999f0d39c36","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c3dc837d-84b7-3982-873f-18f4e200fe05","identifier":"a8b4814d-13e9-3a40-8785-159647d2b6e0","instanceIdentifier":"ed78837c-efb3-3ca3-0202-c8a51e17754d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"c3dc837d-84b7-3982-873f-18f4e200fe05","id":"7315eccf-ed3a-3da6-9ac0-03b484a15bdc","instanceIdentifier":"05646c0b-5400-3c04-8474-f20ea9f1dda9","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"35eabe11-73eb-3a80-98e4-794c516bc31d","identifier":"c3dc837d-84b7-3982-873f-18f4e200fe05","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"c3dc837d-84b7-3982-873f-18f4e200fe05","identifier":"78fd918c-e100-3d21-a4a0-8cee36658151","instanceIdentifier":"88ccfa1b-1ab0-3e31-44f8-e54c1aaafab3","name":"Start upsert environment","position":{"x":528.0,"y":80.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"0d75f006-4294-3f69-0652-e81e714745ac","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-TEST","position":{"x":480.0,"y":336.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c3dc837d-84b7-3982-873f-18f4e200fe05","identifier":"6ccdcd44-694c-3095-9aab-90a23b301d41","instanceIdentifier":"35ef57e7-3034-3960-148d-12cfff0e7180","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":240.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c3dc837d-84b7-3982-873f-18f4e200fe05","identifier":"60e2672d-4448-3da7-8d6d-63aaecc3d760","instanceIdentifier":"b1cbdac9-2100-3a79-bcee-d999f0d39c36","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":480.0,"y":768.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c3dc837d-84b7-3982-873f-18f4e200fe05","identifier":"7315eccf-ed3a-3da6-9ac0-03b484a15bdc","instanceIdentifier":"05646c0b-5400-3c04-8474-f20ea9f1dda9","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":480.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"4cb8056e-7ed9-3211-865f-3987ee81bc90","id":"47d23355-5cf3-39a6-b80c-6b2cd34c4bbd","instanceIdentifier":"0d57f09c-faf4-38dc-6cfb-1f20a3ec3486","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"f3580cef-896e-3851-a22a-02b9df905e05","identifier":"77b22135-a525-3b61-b092-6c818f59eb8b","instanceIdentifier":"309a373a-9a28-365c-307e-b5c5dacfb13f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"f3580cef-896e-3851-a22a-02b9df905e05","id":"f98f085b-4363-3214-b625-4e09c4bb671b","instanceIdentifier":"2a484880-b9a1-3d25-413a-cfce3d1775bc","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","id":"0aa4c0ff-db17-3a88-933a-1d166d0e8dd1","instanceIdentifier":"7cb98866-41d8-3e1e-feec-41ca67c2199b","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"f3580cef-896e-3851-a22a-02b9df905e05","identifier":"8a3de4d4-b9b4-3be7-8d99-70695455c199","instanceIdentifier":"29263510-d87f-305a-30b6-eaeff8a772c3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"f3580cef-896e-3851-a22a-02b9df905e05","id":"f98f085b-4363-3214-b625-4e09c4bb671b","instanceIdentifier":"2a484880-b9a1-3d25-413a-cfce3d1775bc","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"f3580cef-896e-3851-a22a-02b9df905e05","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"f3580cef-896e-3851-a22a-02b9df905e05","identifier":"f98f085b-4363-3214-b625-4e09c4bb671b","instanceIdentifier":"2a484880-b9a1-3d25-413a-cfce3d1775bc","name":"Start upsert environment","position":{"x":544.0,"y":113.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"f5ad9f1f-beb2-3671-9621-6d7ff89bb90b","labels":[],"name":"INT Environment","outputPorts":[],"position":{"x":24.0,"y":984.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4cb8056e-7ed9-3211-865f-3987ee81bc90","id":"90960528-5742-39b5-9263-b38e3763f902","instanceIdentifier":"671de03c-0276-3c5f-826c-a31484ff31fe","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4cb8056e-7ed9-3211-865f-3987ee81bc90","identifier":"0732ebde-d9a2-3a85-8b98-018dca878fc2","instanceIdentifier":"82f1bd7f-c109-30cf-c9b1-76341c9d7be2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4cb8056e-7ed9-3211-865f-3987ee81bc90","id":"a49882c1-f1c8-32f9-b0df-56a5bc6f26a6","instanceIdentifier":"0a355dfa-20fa-3806-8d34-f4e935e0991d","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4cb8056e-7ed9-3211-865f-3987ee81bc90","id":"eac2bb1a-4562-3477-b946-bfa2f46b36cc","instanceIdentifier":"4e074e59-8c62-3e38-6642-9b185176f312","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4cb8056e-7ed9-3211-865f-3987ee81bc90","identifier":"e13433a3-61c1-3ca6-b29f-3214405c8edb","instanceIdentifier":"3e68397b-9923-3259-981e-022237a058ac","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"4cb8056e-7ed9-3211-865f-3987ee81bc90","id":"90960528-5742-39b5-9263-b38e3763f902","instanceIdentifier":"671de03c-0276-3c5f-826c-a31484ff31fe","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4cb8056e-7ed9-3211-865f-3987ee81bc90","id":"a49882c1-f1c8-32f9-b0df-56a5bc6f26a6","instanceIdentifier":"0a355dfa-20fa-3806-8d34-f4e935e0991d","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4cb8056e-7ed9-3211-865f-3987ee81bc90","identifier":"aa465bb0-4501-3a4b-9c36-5035165d9527","instanceIdentifier":"6aefd5ec-070f-37ad-4377-5cb1755ffe6d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"4cb8056e-7ed9-3211-865f-3987ee81bc90","id":"47d23355-5cf3-39a6-b80c-6b2cd34c4bbd","instanceIdentifier":"0d57f09c-faf4-38dc-6cfb-1f20a3ec3486","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"f3580cef-896e-3851-a22a-02b9df905e05","identifier":"4cb8056e-7ed9-3211-865f-3987ee81bc90","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"4cb8056e-7ed9-3211-865f-3987ee81bc90","identifier":"47d23355-5cf3-39a6-b80c-6b2cd34c4bbd","instanceIdentifier":"0d57f09c-faf4-38dc-6cfb-1f20a3ec3486","name":"Start upsert environment","position":{"x":528.0,"y":80.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"47318646-6c67-3142-8913-20ebbd3449e8","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-INT","position":{"x":752.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4cb8056e-7ed9-3211-865f-3987ee81bc90","identifier":"90960528-5742-39b5-9263-b38e3763f902","instanceIdentifier":"671de03c-0276-3c5f-826c-a31484ff31fe","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":480.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4cb8056e-7ed9-3211-865f-3987ee81bc90","identifier":"eac2bb1a-4562-3477-b946-bfa2f46b36cc","instanceIdentifier":"4e074e59-8c62-3e38-6642-9b185176f312","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":480.0,"y":768.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4cb8056e-7ed9-3211-865f-3987ee81bc90","identifier":"a49882c1-f1c8-32f9-b0df-56a5bc6f26a6","instanceIdentifier":"0a355dfa-20fa-3806-8d34-f4e935e0991d","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":240.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","id":"e00e120b-990b-32d8-bbef-841e8f1a892f","instanceIdentifier":"d5e4d222-c833-357f-f0dc-4f8f32a39259","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","identifier":"21b0dd56-3d72-32cb-b128-63aabb3b9608","instanceIdentifier":"8a931374-052c-3c50-40e8-27942453ddac","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","id":"b00fab52-5e8c-313d-aed1-6f16e02403ba","instanceIdentifier":"1be3dfb2-b56b-36c4-e511-c1aae4e70232","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","id":"b00fab52-5e8c-313d-aed1-6f16e02403ba","instanceIdentifier":"1be3dfb2-b56b-36c4-e511-c1aae4e70232","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","identifier":"7e7c46a4-7850-3b5a-b3fb-9e2c8bf39041","instanceIdentifier":"3f3b9eca-3ebb-3477-c0e0-71ef259f7e71","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","id":"6e5ee7b3-cd48-331e-a0df-c7a42aa3c559","instanceIdentifier":"3b0313ee-46d5-3946-3c2d-027a0f06724d","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","id":"6e5ee7b3-cd48-331e-a0df-c7a42aa3c559","instanceIdentifier":"3b0313ee-46d5-3946-3c2d-027a0f06724d","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","identifier":"0142eb2d-6317-37c3-91c2-5718c1f9bff6","instanceIdentifier":"33ea0db2-2920-37b2-9eb8-8fd05c537625","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","id":"0aa4c0ff-db17-3a88-933a-1d166d0e8dd1","instanceIdentifier":"7cb98866-41d8-3e1e-feec-41ca67c2199b","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"f3580cef-896e-3851-a22a-02b9df905e05","identifier":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","identifier":"0aa4c0ff-db17-3a88-933a-1d166d0e8dd1","instanceIdentifier":"7cb98866-41d8-3e1e-feec-41ca67c2199b","name":"Start upsert environment","position":{"x":528.0,"y":80.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"061a2d14-6059-3d4e-37b5-a3438a850670","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-INT","position":{"x":104.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","identifier":"e00e120b-990b-32d8-bbef-841e8f1a892f","instanceIdentifier":"d5e4d222-c833-357f-f0dc-4f8f32a39259","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":480.0,"y":768.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","identifier":"b00fab52-5e8c-313d-aed1-6f16e02403ba","instanceIdentifier":"1be3dfb2-b56b-36c4-e511-c1aae4e70232","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":480.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"dfd36e43-a849-3cbf-8a29-d6a8831c1bff","identifier":"6e5ee7b3-cd48-331e-a0df-c7a42aa3c559","instanceIdentifier":"3b0313ee-46d5-3946-3c2d-027a0f06724d","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":480.0,"y":240.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"2","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"c550ac84-28dd-385d-8595-727272271e50","instanceIdentifier":"5f1a4cf0-60a4-347a-6244-ba8d0b1213a8","maxBackoffPeriod":"10 mins","name":"Transform metadata","penaltyDuration":"30 sec","position":{"x":376.0,"y":368.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n        \"*\": {\n          \"version\": \"&1.version\",\n          \"localization\": {\n            \"*\": {\n              \"id_localization\": \"&1.tmp.content.[&3].id\",\n              \"culture\": \"&1.tmp.content.[&3].culture\"\n            }\n          }\n        }\n      }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"version\": \"&1.version\",\n        \"*\": {\n          \"content\": {\n            \"*\": {\n              \"@id\": \"&1.tmp.@culture\"\n            }\n          }\n        }\n      }\n    }\n  }, {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"@tmp\": \"@version\"\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"b410276e-41b3-31d8-ba9d-a09618587c42","instanceIdentifier":"030012b9-6da3-3f92-04f6-f767a0b6f137","maxBackoffPeriod":"10 mins","name":"Set log prefix","penaltyDuration":"30 sec","position":{"x":376.0,"y":144.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.METADATA.UPSERT"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["unmatched"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a331acca-efeb-385a-99ba-ee81f4bb7287","identifier":"8be6664b-0537-3398-893f-382947513db6","instanceIdentifier":"15911ec2-10a9-36fa-31d3-8dedd4ecc89f","maxBackoffPeriod":"10 mins","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":376.0,"y":592.0},"properties":{"isTestEnvironment":"${status:equals('draft')}","isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isTestEnvironment":{"displayName":"isTestEnvironment","identifiesControllerService":false,"name":"isTestEnvironment","sensitive":false},"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"c156e29d-96e0-3169-9c36-03649ff24036","instanceIdentifier":"46fef178-d822-3466-6897-4b5acdad4803","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"07b3e81f-eb7f-33b8-a7cd-6a11acf4d375","instanceIdentifier":"1cabcdcb-c92e-33c1-cad9-ab73f4421483","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"f963afd4-07ea-393a-b848-333276ace29c","instanceIdentifier":"31f93538-b3dd-3e91-67a0-7d8ddac2ecee","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"e87fb48c-5926-3b01-a276-350797d99435","instanceIdentifier":"aefc0267-f32d-3b9f-4ab6-9ae2d8bbec52","name":"Start upsert APL Content DynamoDB","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"485f9044-605f-347a-9bd1-131099188ee6","instanceIdentifier":"5846b1e4-b39b-349f-6068-bb04c4ce04b8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"044a78d1-5790-3883-8ae4-d6b380bc08ea","instanceIdentifier":"08fbd49e-83b2-39f4-b87a-0e76b9edcd18","name":"Delete temporary attributes","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"b4a4de85-43e0-3a5b-8f70-e900dd8c6863","instanceIdentifier":"4ed2c327-59a6-389e-8db6-fb34dfb9cbf8","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"d64038fa-cb72-3535-9b2e-4a59c38c75c8","instanceIdentifier":"f619f5be-8fac-3be6-60ec-0089fd81021c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"f9d0481d-e409-3b0f-8032-a85c67b056e4","instanceIdentifier":"990024f0-60f5-367b-c3f3-b92332d8e3ce","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"f9d0481d-e409-3b0f-8032-a85c67b056e4","instanceIdentifier":"990024f0-60f5-367b-c3f3-b92332d8e3ce","name":"ReplaceText","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"5e6e58e5-30fb-3a4e-ba9e-ed04cbdb394b","instanceIdentifier":"713b8848-712e-38f8-97b6-b76f89945190","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"4eb9ad94-f8f5-3987-be3d-b72eeeb4b2ef","instanceIdentifier":"99027b2b-46fc-39fc-2355-9d64ae44bdfb","name":"Update content attribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"f963afd4-07ea-393a-b848-333276ace29c","instanceIdentifier":"31f93538-b3dd-3e91-67a0-7d8ddac2ecee","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"2ce61066-b5b0-31b1-bea0-5c5ee8dd0a47","instanceIdentifier":"247ddb70-8a92-34ba-149e-0b10596fd968","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"4dc40aa7-2c36-366b-979d-d91625272617","instanceIdentifier":"888c8ae1-336e-34cf-d50e-479d80f34d44","name":"Transform APL","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"5a6cb5b7-f769-3e3d-b9d6-914cacdcb83a","instanceIdentifier":"416d5431-1cfa-37fc-1b99-4adfcd0ef259","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"7c5b5126-20a3-3a2f-853c-3c6d184bac50","instanceIdentifier":"9425f2aa-cbbe-33fe-e6c3-43bf49c009aa","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"b4a4de85-43e0-3a5b-8f70-e900dd8c6863","instanceIdentifier":"4ed2c327-59a6-389e-8db6-fb34dfb9cbf8","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"b4a4de85-43e0-3a5b-8f70-e900dd8c6863","instanceIdentifier":"4ed2c327-59a6-389e-8db6-fb34dfb9cbf8","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"1271b2f7-eff1-33dc-b820-ad06db8de283","instanceIdentifier":"19c6cfe0-815a-3635-d59f-c3752617a86b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"4dc40aa7-2c36-366b-979d-d91625272617","instanceIdentifier":"888c8ae1-336e-34cf-d50e-479d80f34d44","name":"Transform APL","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"b4a4de85-43e0-3a5b-8f70-e900dd8c6863","instanceIdentifier":"4ed2c327-59a6-389e-8db6-fb34dfb9cbf8","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"fc291bf3-a5b1-3049-8dcf-7abc4444b0ac","instanceIdentifier":"be5ed47f-5ac1-34cd-d355-10dacfe74b58","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"f963afd4-07ea-393a-b848-333276ace29c","instanceIdentifier":"31f93538-b3dd-3e91-67a0-7d8ddac2ecee","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"4eb9ad94-f8f5-3987-be3d-b72eeeb4b2ef","instanceIdentifier":"99027b2b-46fc-39fc-2355-9d64ae44bdfb","name":"Update content attribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"d9fe362e-e1f7-383f-b0f9-7efc60b76602","instanceIdentifier":"2f6175e5-d05d-3527-c22e-be31af3c47d8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"c156e29d-96e0-3169-9c36-03649ff24036","instanceIdentifier":"46fef178-d822-3466-6897-4b5acdad4803","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"9a7fb2c8-e094-300f-8bb8-91acda31ce8d","instanceIdentifier":"8542ab88-1592-3e7a-5e96-9fdf226b4677","name":"Set log prefix","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"a6f089c3-ec0b-3a83-8056-8acd000220fb","instanceIdentifier":"1cfce7b4-e997-3da6-fbeb-6d18340e9a44","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"faa8e785-32f2-3861-9e2f-3a11753dab99","instanceIdentifier":"96a56113-010c-3009-be3e-f1b312612106","name":"Start APL Content Upsert","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"044a78d1-5790-3883-8ae4-d6b380bc08ea","instanceIdentifier":"08fbd49e-83b2-39f4-b87a-0e76b9edcd18","name":"Delete temporary attributes","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"bcabaa15-0670-39db-97fc-19d761396657","instanceIdentifier":"ee1e1cf0-d6f9-3a8c-d770-26d601408b4b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"f9d0481d-e409-3b0f-8032-a85c67b056e4","instanceIdentifier":"990024f0-60f5-367b-c3f3-b92332d8e3ce","name":"ReplaceText","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"ac5f937c-a57c-3824-9efa-7cd0d891b760","instanceIdentifier":"a4847ce9-dd76-360b-6393-99dc63cd5248","name":"Start APL images upload","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"990f808f-30e6-384a-8a04-a94651443c0e","instanceIdentifier":"562cc2a3-1c50-34bd-6565-fd37581581b6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"044a78d1-5790-3883-8ae4-d6b380bc08ea","instanceIdentifier":"08fbd49e-83b2-39f4-b87a-0e76b9edcd18","name":"Delete temporary attributes","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"b4a4de85-43e0-3a5b-8f70-e900dd8c6863","instanceIdentifier":"4ed2c327-59a6-389e-8db6-fb34dfb9cbf8","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"24f797a9-f5ce-32af-ab1d-ff109584c382","instanceIdentifier":"472afad4-2ae3-39a5-6189-01cad095beef","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"c156e29d-96e0-3169-9c36-03649ff24036","instanceIdentifier":"46fef178-d822-3466-6897-4b5acdad4803","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"4dc40aa7-2c36-366b-979d-d91625272617","instanceIdentifier":"888c8ae1-336e-34cf-d50e-479d80f34d44","name":"Transform APL","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"9bed70c7-061c-3424-b07e-cf36147af5d5","instanceIdentifier":"7a99d24b-f32d-3e78-04cb-dcb35c682c5c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"96072203-76d0-331a-9816-0dcc3f3b7d1c","id":"9a7fb2c8-e094-300f-8bb8-91acda31ce8d","instanceIdentifier":"8542ab88-1592-3e7a-5e96-9fdf226b4677","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"b4a4de85-43e0-3a5b-8f70-e900dd8c6863","instanceIdentifier":"4ed2c327-59a6-389e-8db6-fb34dfb9cbf8","position":{"x":1816.0,"y":232.0}}],"groupIdentifier":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","identifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"faa8e785-32f2-3861-9e2f-3a11753dab99","instanceIdentifier":"96a56113-010c-3009-be3e-f1b312612106","name":"Start APL Content Upsert","position":{"x":520.0,"y":-352.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"552bece5-2624-3b8d-d4a4-77d4893152ed","labels":[],"name":"Update APL Content","outputPorts":[],"position":{"x":800.0,"y":544.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"0a39ea14-bea6-3cdb-81fc-26c7000df9ed","instanceIdentifier":"3e6bcacc-da34-321a-e5c6-2a152a2b94a3","name":"Start file extraction","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"9198052b-b39f-3e53-a06f-663b88f3c64d","instanceIdentifier":"04a584fc-9039-3435-abcb-d14ed044f395","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"2a87e050-61a2-3d0f-a206-b29babf479f8","instanceIdentifier":"af7bc7fa-ea90-3600-48d3-a7e033d1d627","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"9f000af4-80ff-3d71-9294-51fdeff2e214","id":"d49162a2-f588-322e-bafd-ec95f3698966","instanceIdentifier":"78935a5a-7608-3ca6-f421-7b5c02235aba","name":"Start copy file environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"dc286858-94a9-3bd3-b28d-ae73789de1b8","instanceIdentifier":"dc1c4f2e-6eae-355c-81fa-08ccec96240b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"52245074-7202-37a1-9664-e4bcc901769c","instanceIdentifier":"322c37d5-312e-3385-acbf-de0be5cb1d77","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"7bfbf864-6528-3daa-a6f9-8efd9a378ccc","id":"0fe3d0e6-eb50-3f64-a935-da08daf91ca0","instanceIdentifier":"05709703-4116-354a-6af2-38fddbde1c04","name":"Start copy file environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"4fdeff75-83ef-3cb5-a0c8-484f940bcd06","instanceIdentifier":"abec9c63-0da2-3c1f-7385-9bfde4d46ffc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isTestEnvironment"],"source":{"comments":"","groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"52245074-7202-37a1-9664-e4bcc901769c","instanceIdentifier":"322c37d5-312e-3385-acbf-de0be5cb1d77","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"50405c24-76ee-39a9-95fe-bda6090e0143","id":"808047c5-fd9b-3cc4-9804-8e4c99b62b04","instanceIdentifier":"19999ec8-a08d-3daa-09e8-aea9140d629c","name":"Start copy file environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"76341a95-720b-37be-9176-677c42238d63","instanceIdentifier":"0c79e512-82dd-3cf6-e5f5-4c86b185d990","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"52245074-7202-37a1-9664-e4bcc901769c","instanceIdentifier":"322c37d5-312e-3385-acbf-de0be5cb1d77","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"52245074-7202-37a1-9664-e4bcc901769c","instanceIdentifier":"322c37d5-312e-3385-acbf-de0be5cb1d77","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"f4b6d193-62e4-3d2d-9def-3007a62d1cd9","instanceIdentifier":"e17df886-c5f4-3d84-831b-0c6e70154055","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"07f986ac-3165-3ec9-bca2-c90f63fc4823","instanceIdentifier":"4f870280-1187-3f06-9fd5-5f497f91e53c","name":"End file extraction","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"3131005c-0a2d-39ab-a458-f4a24bd5d263","id":"8d1ff6d7-437f-3879-80c0-3a42b7b81ae9","instanceIdentifier":"5d2f8ca5-0839-3fff-d976-ff5bf29bce71","name":"Start copy file environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"a6de9148-5c90-37fe-8690-cf92557fb66d","instanceIdentifier":"0e950cec-1441-3710-c7d3-2dc12600baf6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"52245074-7202-37a1-9664-e4bcc901769c","instanceIdentifier":"322c37d5-312e-3385-acbf-de0be5cb1d77","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"2a87e050-61a2-3d0f-a206-b29babf479f8","instanceIdentifier":"af7bc7fa-ea90-3600-48d3-a7e033d1d627","name":"Set log prefix","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"a4d23a76-0a9d-3944-bbe8-5749acc27063","instanceIdentifier":"0b0debc4-8f7a-3aeb-b4d2-db8cd015af49","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"32235adc-2e4b-370e-a980-6a5e75c7b999","id":"ac5f937c-a57c-3824-9efa-7cd0d891b760","instanceIdentifier":"a4847ce9-dd76-360b-6393-99dc63cd5248","name":"Start APL images upload","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"ac5f937c-a57c-3824-9efa-7cd0d891b760","instanceIdentifier":"a4847ce9-dd76-360b-6393-99dc63cd5248","name":"Start APL images upload","position":{"x":512.0,"y":-144.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"76ce96d0-8bea-3f99-738d-b2ebc086e135","labels":[],"name":"Upsert S3","outputPorts":[],"position":{"x":144.0,"y":1528.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","id":"4af19f49-002b-3321-824d-7a527e4c0a2b","instanceIdentifier":"b9c81424-c74b-3676-2d9d-6a150a613619","name":"Start copying file region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"7bfbf864-6528-3daa-a6f9-8efd9a378ccc","identifier":"46fcfe06-33e4-3dfd-82d7-498dddd83632","instanceIdentifier":"2069a961-5e4d-3641-630d-921288815753","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"7bfbf864-6528-3daa-a6f9-8efd9a378ccc","id":"0fe3d0e6-eb50-3f64-a935-da08daf91ca0","instanceIdentifier":"05709703-4116-354a-6af2-38fddbde1c04","name":"Start copy file environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"7bfbf864-6528-3daa-a6f9-8efd9a378ccc","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"7bfbf864-6528-3daa-a6f9-8efd9a378ccc","identifier":"0fe3d0e6-eb50-3f64-a935-da08daf91ca0","instanceIdentifier":"05709703-4116-354a-6af2-38fddbde1c04","name":"Start copy file environment","position":{"x":414.00001728442976,"y":99.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"f447f59d-9918-3b23-0fc0-e7917f90a28a","labels":[],"name":"TEST Environment","outputPorts":[],"position":{"x":-264.0,"y":624.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","id":"a43fac6b-6f7c-3194-a30f-07c4216ffb83","instanceIdentifier":"2c267e33-ba59-3fe0-73f5-0c49b0f61cf1","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","identifier":"1ab1b13d-8cac-3f45-8e4a-a674648ead6d","instanceIdentifier":"621ff4eb-fe25-3e69-7cab-2437234a0c83","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","id":"10296bf0-351f-3443-abf9-2ce5d298405f","instanceIdentifier":"e26dcff1-05fb-337c-05a5-b7211559cdb4","name":"Upload file to s3","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","id":"10296bf0-351f-3443-abf9-2ce5d298405f","instanceIdentifier":"e26dcff1-05fb-337c-05a5-b7211559cdb4","name":"Upload file to s3","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","identifier":"5cf9b129-b6f3-3f75-88e4-cdf5556281af","instanceIdentifier":"eb4344ce-2bb5-3681-4517-7846bc857346","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","id":"323b66d2-b1c4-3cee-a77e-7193644957ec","instanceIdentifier":"cc5c2fd4-cbea-35d2-5cfe-852eb221046e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","id":"323b66d2-b1c4-3cee-a77e-7193644957ec","instanceIdentifier":"cc5c2fd4-cbea-35d2-5cfe-852eb221046e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","identifier":"187efb03-ccbc-3fa5-8f7b-b8b6e0e91dba","instanceIdentifier":"6f064b6e-d972-36bb-2a88-707f99eb2754","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","id":"4af19f49-002b-3321-824d-7a527e4c0a2b","instanceIdentifier":"b9c81424-c74b-3676-2d9d-6a150a613619","name":"Start copying file region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"7bfbf864-6528-3daa-a6f9-8efd9a378ccc","identifier":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","identifier":"4af19f49-002b-3321-824d-7a527e4c0a2b","instanceIdentifier":"b9c81424-c74b-3676-2d9d-6a150a613619","name":"Start copying file region","position":{"x":485.0000020256407,"y":159.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"461c77bd-b25e-3a16-e478-0d7779494c60","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-TEST","position":{"x":344.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","identifier":"323b66d2-b1c4-3cee-a77e-7193644957ec","instanceIdentifier":"cc5c2fd4-cbea-35d2-5cfe-852eb221046e","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":432.0,"y":328.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","identifier":"a43fac6b-6f7c-3194-a30f-07c4216ffb83","instanceIdentifier":"2c267e33-ba59-3fe0-73f5-0c49b0f61cf1","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1088.0,"y":456.0},"properties":{"Log prefix":"[${log.prefix}.${destination_filename}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"s3\\..*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9fbb5f46-25ea-3659-b4e6-aeb21e10c86d","identifier":"10296bf0-351f-3443-abf9-2ce5d298405f","instanceIdentifier":"e26dcff1-05fb-337c-05a5-b7211559cdb4","maxBackoffPeriod":"2 mins","name":"Upload file to s3","penaltyDuration":"30 sec","position":{"x":432.0,"y":616.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{s3_bucket}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}","s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"s3-temporary-directory-multipart":{"displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"name":"s3-temporary-directory-multipart","sensitive":false}},"retriedRelationships":[],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","id":"7fc7191c-d0f7-345a-b38a-c786af3709c7","instanceIdentifier":"aa09b9fe-d24c-39fa-a6d3-2f4606a24866","name":"Start copying file region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"9f000af4-80ff-3d71-9294-51fdeff2e214","identifier":"8c4cc91a-a85b-354c-83ae-3af2e1e8f713","instanceIdentifier":"3b07c098-b6eb-3981-284b-1a607ac945df","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"9f000af4-80ff-3d71-9294-51fdeff2e214","id":"d49162a2-f588-322e-bafd-ec95f3698966","instanceIdentifier":"78935a5a-7608-3ca6-f421-7b5c02235aba","name":"Start copy file environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"a3e1f834-b0b8-3a19-af64-6081c9629d11","id":"ddc87626-1f4f-32b5-b578-2ca61ea406cf","instanceIdentifier":"8a976afc-f0b0-351d-307b-8201df5c0b79","name":"Start copying file region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"9f000af4-80ff-3d71-9294-51fdeff2e214","identifier":"8a2e4a55-9c2f-358a-be9e-4cb0a163b8c1","instanceIdentifier":"9d3959ec-e320-304c-e756-c48bdcbc7ee6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"9f000af4-80ff-3d71-9294-51fdeff2e214","id":"d49162a2-f588-322e-bafd-ec95f3698966","instanceIdentifier":"78935a5a-7608-3ca6-f421-7b5c02235aba","name":"Start copy file environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"9f000af4-80ff-3d71-9294-51fdeff2e214","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9f000af4-80ff-3d71-9294-51fdeff2e214","identifier":"d49162a2-f588-322e-bafd-ec95f3698966","instanceIdentifier":"78935a5a-7608-3ca6-f421-7b5c02235aba","name":"Start copy file environment","position":{"x":414.00001728442976,"y":99.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"5ccb9ee2-b6cd-38eb-456e-dcad26759887","labels":[],"name":"PROD Environment","outputPorts":[],"position":{"x":1160.0,"y":584.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a3e1f834-b0b8-3a19-af64-6081c9629d11","id":"a7f7c248-c885-3967-81a4-0be52cdcd24d","instanceIdentifier":"71a1dc27-03bc-34db-7a42-712d77746bd9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a3e1f834-b0b8-3a19-af64-6081c9629d11","identifier":"205897a4-94c9-31d3-b56d-bed0c981c7d7","instanceIdentifier":"40519626-1e47-3f54-9d66-74ca50f7c68e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a3e1f834-b0b8-3a19-af64-6081c9629d11","id":"ddc87626-1f4f-32b5-b578-2ca61ea406cf","instanceIdentifier":"8a976afc-f0b0-351d-307b-8201df5c0b79","name":"Start copying file region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a3e1f834-b0b8-3a19-af64-6081c9629d11","id":"98e0de61-6792-3f00-afac-cb9991e01f9f","instanceIdentifier":"dda77b11-a867-3e80-f073-4829eb96bae7","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a3e1f834-b0b8-3a19-af64-6081c9629d11","identifier":"84647185-45e6-3188-ad9c-588f7d3694d5","instanceIdentifier":"7f99b8f8-9259-3cb7-bcd2-e0786e425f66","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"a3e1f834-b0b8-3a19-af64-6081c9629d11","id":"213a646b-1899-3583-ac71-39db2bc19fd2","instanceIdentifier":"1e3fd5d0-e409-300f-7cfe-5e84e56c2ea7","name":"Upload file to s3","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a3e1f834-b0b8-3a19-af64-6081c9629d11","id":"213a646b-1899-3583-ac71-39db2bc19fd2","instanceIdentifier":"1e3fd5d0-e409-300f-7cfe-5e84e56c2ea7","name":"Upload file to s3","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a3e1f834-b0b8-3a19-af64-6081c9629d11","identifier":"7c85057d-562e-36b2-bef5-a75934becc2d","instanceIdentifier":"58754cfd-9acf-3d92-02e5-f943e2558895","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a3e1f834-b0b8-3a19-af64-6081c9629d11","id":"a7f7c248-c885-3967-81a4-0be52cdcd24d","instanceIdentifier":"71a1dc27-03bc-34db-7a42-712d77746bd9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"9f000af4-80ff-3d71-9294-51fdeff2e214","identifier":"a3e1f834-b0b8-3a19-af64-6081c9629d11","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a3e1f834-b0b8-3a19-af64-6081c9629d11","identifier":"ddc87626-1f4f-32b5-b578-2ca61ea406cf","instanceIdentifier":"8a976afc-f0b0-351d-307b-8201df5c0b79","name":"Start copying file region","position":{"x":485.0000020256407,"y":159.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"58cadccb-5909-37cc-aeee-8e28e1d882c5","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-PROD","position":{"x":16.0,"y":312.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a3e1f834-b0b8-3a19-af64-6081c9629d11","identifier":"213a646b-1899-3583-ac71-39db2bc19fd2","instanceIdentifier":"1e3fd5d0-e409-300f-7cfe-5e84e56c2ea7","maxBackoffPeriod":"2 mins","name":"Upload file to s3","penaltyDuration":"30 sec","position":{"x":432.0,"y":616.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{s3_bucket}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}","s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"s3-temporary-directory-multipart":{"displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"name":"s3-temporary-directory-multipart","sensitive":false}},"retriedRelationships":[],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a3e1f834-b0b8-3a19-af64-6081c9629d11","identifier":"98e0de61-6792-3f00-afac-cb9991e01f9f","instanceIdentifier":"dda77b11-a867-3e80-f073-4829eb96bae7","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1024.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${destination_filename}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"s3\\..*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a3e1f834-b0b8-3a19-af64-6081c9629d11","identifier":"a7f7c248-c885-3967-81a4-0be52cdcd24d","instanceIdentifier":"71a1dc27-03bc-34db-7a42-712d77746bd9","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":432.0,"y":328.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","id":"fe764a31-0c25-328c-a004-8931ce2adbfa","instanceIdentifier":"8be6c5c2-7793-30c8-a888-b5096b2503c3","name":"Upload file to s3","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","identifier":"664d49ce-8cf4-3bed-af91-1cce56628af8","instanceIdentifier":"6fafcc75-c54d-3e9d-f9eb-26e33f6d2172","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","id":"68363aa5-2353-3242-8ddf-2b8c8ffd21a0","instanceIdentifier":"97e312ea-a583-33b0-9b40-7415df681d68","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","id":"f6cf0552-9cf2-3080-868a-46b9eb48b5fb","instanceIdentifier":"7eaa4203-dd1b-3563-9314-b8427f0d8bcb","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","identifier":"e82b9cf8-0dd8-3867-babf-8103db26618e","instanceIdentifier":"34a21daf-f53d-3256-384f-cc5eef0a96a9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","id":"fe764a31-0c25-328c-a004-8931ce2adbfa","instanceIdentifier":"8be6c5c2-7793-30c8-a888-b5096b2503c3","name":"Upload file to s3","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","id":"68363aa5-2353-3242-8ddf-2b8c8ffd21a0","instanceIdentifier":"97e312ea-a583-33b0-9b40-7415df681d68","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","identifier":"47d4577f-61f0-345e-9c30-7d2f41046da4","instanceIdentifier":"0aeb068d-6842-37c2-ce9c-72da432d748f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","id":"7fc7191c-d0f7-345a-b38a-c786af3709c7","instanceIdentifier":"aa09b9fe-d24c-39fa-a6d3-2f4606a24866","name":"Start copying file region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"9f000af4-80ff-3d71-9294-51fdeff2e214","identifier":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","identifier":"7fc7191c-d0f7-345a-b38a-c786af3709c7","instanceIdentifier":"aa09b9fe-d24c-39fa-a6d3-2f4606a24866","name":"Start copying file region","position":{"x":485.0000020256407,"y":159.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"406f333c-6406-3aca-659d-05feb661b100","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-PROD","position":{"x":664.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","identifier":"68363aa5-2353-3242-8ddf-2b8c8ffd21a0","instanceIdentifier":"97e312ea-a583-33b0-9b40-7415df681d68","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":432.0,"y":328.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","identifier":"f6cf0552-9cf2-3080-868a-46b9eb48b5fb","instanceIdentifier":"7eaa4203-dd1b-3563-9314-b8427f0d8bcb","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1024.0,"y":424.0},"properties":{"Log prefix":"[${log.prefix}.${destination_filename}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"s3\\..*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"76e6c7b9-7952-3e59-9be8-f863dcaa0170","identifier":"fe764a31-0c25-328c-a004-8931ce2adbfa","instanceIdentifier":"8be6c5c2-7793-30c8-a888-b5096b2503c3","maxBackoffPeriod":"2 mins","name":"Upload file to s3","penaltyDuration":"30 sec","position":{"x":432.0,"y":616.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{s3_bucket}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}","s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"s3-temporary-directory-multipart":{"displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"name":"s3-temporary-directory-multipart","sensitive":false}},"retriedRelationships":[],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"24696bb8-7688-3044-b2a6-8f5f8f2345c2","instanceIdentifier":"c54368a5-8026-3648-f963-ddf59086e552","name":"Move attributes to JSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"9d065af5-e25d-38c8-94f7-aae8a58d1b5f","instanceIdentifier":"52d2bbdd-649a-3518-1cb1-556f45ba2887","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"91a4d3b1-79f6-3a98-b867-9b57a844ff92","instanceIdentifier":"597ca51b-3421-32bb-8bac-9b2706e9fdf4","name":"Find images in apl","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"89a627e6-4712-3f79-81eb-2e4988df6524","instanceIdentifier":"1d6be0eb-c851-32f2-7cff-b129eae2d854","name":"Transform JSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"f8789219-f3fb-3313-bff0-5570c77adc44","instanceIdentifier":"eb4687a4-17ad-3813-18af-b4fa75994a38","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"24696bb8-7688-3044-b2a6-8f5f8f2345c2","instanceIdentifier":"c54368a5-8026-3648-f963-ddf59086e552","name":"Move attributes to JSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"0db57bc5-0360-3289-ade7-863c6a78956b","instanceIdentifier":"6a8baade-9450-350f-e9d4-ebf9c185b044","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"11d1848c-6994-3a36-8f5a-1d8561610632","instanceIdentifier":"b0c86263-ab41-3ce7-22cb-ad070ac5dff6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"7a728096-5910-3528-a697-4b65738a0069","instanceIdentifier":"d7f36dc5-2eeb-3fcb-c261-338a6557d112","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"07f986ac-3165-3ec9-bca2-c90f63fc4823","instanceIdentifier":"4f870280-1187-3f06-9fd5-5f497f91e53c","name":"End file extraction","type":"OUTPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"90683799-a93a-3688-afaa-f98966cbf527","instanceIdentifier":"6e1a608b-7971-3ed2-3261-412c7f507861","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"f1840b9b-0dce-321d-9850-0a92107709a7","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","instanceIdentifier":"b1b349c7-e6ec-3cea-165e-1918e987a3dd","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"7ec2c6fc-8686-3aca-8adb-2329e8e33b9b","instanceIdentifier":"6cf9f6fe-eace-3c18-c432-fa53ac9c7eda","name":"Prepare CMS Request - Download file binary","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"ec3727d4-7986-32b4-a069-73c8aa3e443b","instanceIdentifier":"8f07a106-172a-3d11-07c6-d3fd2d14380f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"14d9ae5f-6c30-3851-a868-52d30d0b1817","instanceIdentifier":"d8a814ca-d290-3b47-798d-52344cdd175a","name":"Extract file name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"e59705fc-34cd-3bcd-94d6-8cb8965c01d2","instanceIdentifier":"047a9e48-a397-3594-2aae-10d55de87ffe","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"876c4819-3d5a-32da-93de-f6e8b806ef24","instanceIdentifier":"16f684a9-e35b-344c-7c65-813891004595","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"ca3c0fcc-9604-306d-886b-8b537189f3ed","instanceIdentifier":"2baba739-0166-3d92-3cdd-f2a074991ee5","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"3e59e7c3-0e75-30fb-af19-407c6c237063","instanceIdentifier":"84e6362e-a346-3b74-7cad-6f1a9eb596d1","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"2f846860-9bfe-3f74-8713-e765b1798ca8","instanceIdentifier":"c674e8a5-d763-3539-04da-b185eeaa9247","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"89a627e6-4712-3f79-81eb-2e4988df6524","instanceIdentifier":"1d6be0eb-c851-32f2-7cff-b129eae2d854","name":"Transform JSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"53b903ce-ac38-34a0-9506-d1495a899881","instanceIdentifier":"9d40a8db-a32f-3c24-07ed-9516b15e52dc","name":"Prepare CMS Request - Get file details","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"7494fdce-1018-31c1-8ecd-4913938c3327","instanceIdentifier":"c84e75c6-1ed1-3add-048a-14e42d9d0555","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"2070b55f-9e75-3a46-ab97-ecd1bfbb75f9","instanceIdentifier":"387a41b5-0db0-3f08-be4f-202035922903","name":"Clear temporary data","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"ca3c0fcc-9604-306d-886b-8b537189f3ed","instanceIdentifier":"2baba739-0166-3d92-3cdd-f2a074991ee5","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"0e700d9f-ffa0-3c20-b89a-056118044c3a","instanceIdentifier":"adab1e73-b21e-333c-d4ad-af059fd6a887","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"91a4d3b1-79f6-3a98-b867-9b57a844ff92","instanceIdentifier":"597ca51b-3421-32bb-8bac-9b2706e9fdf4","name":"Find images in apl","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"0db57bc5-0360-3289-ade7-863c6a78956b","instanceIdentifier":"6a8baade-9450-350f-e9d4-ebf9c185b044","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"474d4152-3560-3545-a56b-04a83465ec11","instanceIdentifier":"11041e40-51bd-3895-c2c1-4458c2f93576","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"3e59e7c3-0e75-30fb-af19-407c6c237063","instanceIdentifier":"84e6362e-a346-3b74-7cad-6f1a9eb596d1","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"2070b55f-9e75-3a46-ab97-ecd1bfbb75f9","instanceIdentifier":"387a41b5-0db0-3f08-be4f-202035922903","name":"Clear temporary data","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"246a9a57-a145-38ec-ad52-8da94ad3a9fd","instanceIdentifier":"e153dff3-b0ab-3e3a-0c85-45ecdf4fb2b0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"7a728096-5910-3528-a697-4b65738a0069","instanceIdentifier":"d7f36dc5-2eeb-3fcb-c261-338a6557d112","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"91a4d3b1-79f6-3a98-b867-9b57a844ff92","instanceIdentifier":"597ca51b-3421-32bb-8bac-9b2706e9fdf4","name":"Find images in apl","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"84f01aa7-e910-359d-8ab0-de1a772584a1","instanceIdentifier":"7d557462-9746-3626-d499-45dfe463b502","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"0a39ea14-bea6-3cdb-81fc-26c7000df9ed","instanceIdentifier":"3e6bcacc-da34-321a-e5c6-2a152a2b94a3","name":"Start file extraction","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"06b0b23c-f530-31a8-94f3-2ec6e31b5bfa","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","instanceIdentifier":"185b2a11-41c2-370e-59f2-8a489ffa2bf8","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"c2aa48d0-640d-3e0b-b551-d12ab8534736","instanceIdentifier":"247c5709-aba3-30e0-2717-7cbdd43d9758","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"53b903ce-ac38-34a0-9506-d1495a899881","instanceIdentifier":"9d40a8db-a32f-3c24-07ed-9516b15e52dc","name":"Prepare CMS Request - Get file details","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f1840b9b-0dce-321d-9850-0a92107709a7","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","instanceIdentifier":"4a19f491-33b7-3d65-b393-56c992bfa2f1","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"5f06398a-e3e0-3368-96b5-3464e2bb1bf2","instanceIdentifier":"eac4ebdd-c513-3b3c-12d6-df462c127a05","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"7ec2c6fc-8686-3aca-8adb-2329e8e33b9b","instanceIdentifier":"6cf9f6fe-eace-3c18-c432-fa53ac9c7eda","name":"Prepare CMS Request - Download file binary","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"ca3c0fcc-9604-306d-886b-8b537189f3ed","instanceIdentifier":"2baba739-0166-3d92-3cdd-f2a074991ee5","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"afc54fd1-d6ab-3867-a228-8b13dd662d93","instanceIdentifier":"de3c230e-43f4-30f9-385d-024907f4d5ea","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"89a627e6-4712-3f79-81eb-2e4988df6524","instanceIdentifier":"1d6be0eb-c851-32f2-7cff-b129eae2d854","name":"Transform JSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"14d9ae5f-6c30-3851-a868-52d30d0b1817","instanceIdentifier":"d8a814ca-d290-3b47-798d-52344cdd175a","name":"Extract file name","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"0bc38517-6120-3cc6-99f4-900b328ef970","instanceIdentifier":"4baf3859-f411-3d91-2926-927689d66a95","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"06b0b23c-f530-31a8-94f3-2ec6e31b5bfa","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","instanceIdentifier":"5c7fc894-b569-3932-fd4e-c4601c83477d","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"e59705fc-34cd-3bcd-94d6-8cb8965c01d2","instanceIdentifier":"047a9e48-a397-3594-2aae-10d55de87ffe","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"91fb2806-57dd-3c3b-9724-21c5efcd0111","instanceIdentifier":"bcb18496-2ceb-3546-fc49-654b77d54795","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"0db57bc5-0360-3289-ade7-863c6a78956b","instanceIdentifier":"6a8baade-9450-350f-e9d4-ebf9c185b044","name":"Funnel","type":"FUNNEL"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"7a728096-5910-3528-a697-4b65738a0069","instanceIdentifier":"d7f36dc5-2eeb-3fcb-c261-338a6557d112","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"cafb8598-90da-3305-b143-b43aa331ae29","instanceIdentifier":"e7b39779-ca37-342d-8169-250b81cd4933","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"3e59e7c3-0e75-30fb-af19-407c6c237063","instanceIdentifier":"84e6362e-a346-3b74-7cad-6f1a9eb596d1","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"ca3c0fcc-9604-306d-886b-8b537189f3ed","instanceIdentifier":"2baba739-0166-3d92-3cdd-f2a074991ee5","name":"Funnel","type":"FUNNEL"},"flowFileExpiration":"0 sec","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"c6e7ddde-6b3d-3d8d-8630-c4ee34038927","instanceIdentifier":"8ce1ba72-db72-377b-8c9a-2c972aba938a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d8d4a03b-de73-39fe-bd48-06183a84dad6","id":"24696bb8-7688-3044-b2a6-8f5f8f2345c2","instanceIdentifier":"c54368a5-8026-3648-f963-ddf59086e552","name":"Move attributes to JSON","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[{"componentType":"FUNNEL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"0db57bc5-0360-3289-ade7-863c6a78956b","instanceIdentifier":"6a8baade-9450-350f-e9d4-ebf9c185b044","position":{"x":1232.0,"y":1120.0}},{"componentType":"FUNNEL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"ca3c0fcc-9604-306d-886b-8b537189f3ed","instanceIdentifier":"2baba739-0166-3d92-3cdd-f2a074991ee5","position":{"x":1208.0,"y":504.0}}],"groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"0a39ea14-bea6-3cdb-81fc-26c7000df9ed","instanceIdentifier":"3e6bcacc-da34-321a-e5c6-2a152a2b94a3","name":"Start file extraction","position":{"x":523.999997763505,"y":101.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"700f4d44-e82b-38b0-a3ca-c8c4dba4f86e","labels":[],"name":"Extract files to upload","outputPorts":[{"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"07f986ac-3165-3ec9-bca2-c90f63fc4823","instanceIdentifier":"4f870280-1187-3f06-9fd5-5f497f91e53c","name":"End file extraction","position":{"x":544.0,"y":2880.0},"scheduledState":"ENABLED","type":"OUTPUT_PORT"}],"position":{"x":448.0,"y":256.0},"processGroups":[{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"f1840b9b-0dce-321d-9850-0a92107709a7","inputPorts":[],"instanceIdentifier":"9c37ad82-b49c-33d3-4767-c76162838aea","labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":480.0,"y":2592.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","storageLocation":"https://nifi-registry.cms.svc.cluster.local:18443","version":5}},{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"06b0b23c-f530-31a8-94f3-2ec6e31b5bfa","inputPorts":[],"instanceIdentifier":"c3cb7e04-a8e5-38c5-6f73-8b6071350f54","labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":488.0,"y":1848.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","storageLocation":"https://nifi-registry.cms.svc.cluster.local:18443/nifi-registry-api/buckets/aa358e7e-32a7-4fe8-bc6e-7735089de3d3/flows/044701c6-490b-4d7e-8db8-4dea2f09f4a1/versions/5","version":5}}],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"7ec2c6fc-8686-3aca-8adb-2329e8e33b9b","instanceIdentifier":"6cf9f6fe-eace-3c18-c432-fa53ac9c7eda","maxBackoffPeriod":"10 mins","name":"Prepare CMS Request - Download file binary","penaltyDuration":"30 sec","position":{"x":488.0,"y":2360.0},"properties":{"destination_s3path":"${destination_filepath:isNull():or(\n    ${destination_filepath:isEmpty()}):ifElse(\n        ${destination_filename},\n        ${destination_filepath:append(${destination_filename})}\n    )}","Delete Attributes Expression":"custom\\.jolt\\.config","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/assets/${source_filename}?download=true"},"propertyDescriptors":{"destination_s3path":{"displayName":"destination_s3path","identifiesControllerService":false,"name":"destination_s3path","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"3e59e7c3-0e75-30fb-af19-407c6c237063","instanceIdentifier":"84e6362e-a346-3b74-7cad-6f1a9eb596d1","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":504.0,"y":920.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.data.[*]"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"53b903ce-ac38-34a0-9506-d1495a899881","instanceIdentifier":"9d40a8db-a32f-3c24-07ed-9516b15e52dc","maxBackoffPeriod":"10 mins","name":"Prepare CMS Request - Get file details","penaltyDuration":"30 sec","position":{"x":512.0,"y":1584.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/files?fields=id,filename_disk,filename_download&filter={\"filename_download\": {\"_eq\": \"${destination_filename}\"}}","custom.jolt.config":"[{\"operation\":\"shift\",\"spec\":{\"data\":{\"*\":\"\"}}}]"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"custom.jolt.config":{"displayName":"custom.jolt.config","identifiesControllerService":false,"name":"custom.jolt.config","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"e59705fc-34cd-3bcd-94d6-8cb8965c01d2","instanceIdentifier":"047a9e48-a397-3594-2aae-10d55de87ffe","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1440.0,"y":792.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"89a627e6-4712-3f79-81eb-2e4988df6524","instanceIdentifier":"1d6be0eb-c851-32f2-7cff-b129eae2d854","maxBackoffPeriod":"10 mins","name":"Transform JSON","penaltyDuration":"30 sec","position":{"x":496.0,"y":696.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"destination_filepath.*\": \"file.&(0,1).path\",\n      \"destination_filename.*\": \"file.&(0,1).name\"\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": \"&\"\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"data.[]\"\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure","unmatched"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"14d9ae5f-6c30-3851-a868-52d30d0b1817","instanceIdentifier":"d8a814ca-d290-3b47-798d-52344cdd175a","maxBackoffPeriod":"10 mins","name":"Extract file name","penaltyDuration":"30 sec","position":{"x":488.0,"y":2128.0},"properties":{"Destination":"flowfile-attribute","source_filename":"$.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"source_filename":{"displayName":"source_filename","identifiesControllerService":false,"name":"source_filename","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"2070b55f-9e75-3a46-ab97-ecd1bfbb75f9","instanceIdentifier":"387a41b5-0db0-3f08-be4f-202035922903","maxBackoffPeriod":"10 mins","name":"Clear temporary data","penaltyDuration":"30 sec","position":{"x":512.0,"y":1368.0},"properties":{"Delete Attributes Expression":"((?:source|destination)\\_file(?:name|path)(?:\\.\\d)+)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","destination_filepath":"${destination_filepath:unescapeJson():replaceAll('(?:([\\w|\\s|\\d|\\-|\\_]*\\.)+(jpg|png))', ''):replaceFirst('/', '')}"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"91a4d3b1-79f6-3a98-b867-9b57a844ff92","instanceIdentifier":"597ca51b-3421-32bb-8bac-9b2706e9fdf4","maxBackoffPeriod":"10 mins","name":"Find images in apl","penaltyDuration":"30 sec","position":{"x":480.0,"y":240.0},"properties":{"Enable Unicode Predefined Character Classes":"false","Permit Whitespace and Comments in Pattern":"false","Enable Unicode-aware Case Folding":"false","Enable DOTALL Mode":"false","Enable Unix Lines Mode":"false","extract-text-enable-named-groups":"false","Maximum Buffer Size":"1 MB","Enable Canonical Equivalence":"false","Enable Case-insensitive Matching":"true","Enable Multiline Mode":"false","destination_filepath":"([^\\{.*\\}](?:[\\w|\\d|\\s|\\-|\\_|\\/|\\\\]*\\.)(?:jpg|png))","Maximum Capture Group Length":"4096","Enable Literal Parsing of the Pattern":"false","destination_filename":"([\\w|\\-|_\\d|\\s]*\\.(?:jpg|png))","Character Set":"UTF-8","Include Capture Group 0":"false","extract-text-enable-repeating-capture-group":"true"},"propertyDescriptors":{"Enable Unicode Predefined Character Classes":{"displayName":"Enable Unicode Predefined Character Classes","identifiesControllerService":false,"name":"Enable Unicode Predefined Character Classes","sensitive":false},"Permit Whitespace and Comments in Pattern":{"displayName":"Permit Whitespace and Comments in Pattern","identifiesControllerService":false,"name":"Permit Whitespace and Comments in Pattern","sensitive":false},"Enable Unicode-aware Case Folding":{"displayName":"Enable Unicode-aware Case Folding","identifiesControllerService":false,"name":"Enable Unicode-aware Case Folding","sensitive":false},"Enable DOTALL Mode":{"displayName":"Enable DOTALL Mode","identifiesControllerService":false,"name":"Enable DOTALL Mode","sensitive":false},"Enable Unix Lines Mode":{"displayName":"Enable Unix Lines Mode","identifiesControllerService":false,"name":"Enable Unix Lines Mode","sensitive":false},"extract-text-enable-named-groups":{"displayName":"Enable named group support","identifiesControllerService":false,"name":"extract-text-enable-named-groups","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Enable Canonical Equivalence":{"displayName":"Enable Canonical Equivalence","identifiesControllerService":false,"name":"Enable Canonical Equivalence","sensitive":false},"Enable Case-insensitive Matching":{"displayName":"Enable Case-insensitive Matching","identifiesControllerService":false,"name":"Enable Case-insensitive Matching","sensitive":false},"Enable Multiline Mode":{"displayName":"Enable Multiline Mode","identifiesControllerService":false,"name":"Enable Multiline Mode","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Maximum Capture Group Length":{"displayName":"Maximum Capture Group Length","identifiesControllerService":false,"name":"Maximum Capture Group Length","sensitive":false},"Enable Literal Parsing of the Pattern":{"displayName":"Enable Literal Parsing of the Pattern","identifiesControllerService":false,"name":"Enable Literal Parsing of the Pattern","sensitive":false},"destination_filename":{"displayName":"destination_filename","identifiesControllerService":false,"name":"destination_filename","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Include Capture Group 0":{"displayName":"Include Capture Group 0","identifiesControllerService":false,"name":"Include Capture Group 0","sensitive":false},"extract-text-enable-repeating-capture-group":{"displayName":"Enable repeating capture group","identifiesControllerService":false,"name":"extract-text-enable-repeating-capture-group","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ExtractText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"7a728096-5910-3528-a697-4b65738a0069","instanceIdentifier":"d7f36dc5-2eeb-3fcb-c261-338a6557d112","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":512.0,"y":1144.0},"properties":{"Destination":"flowfile-attribute","destination_filepath":"$.path","Return Type":"auto-detect","Null Value Representation":"empty string","destination_filename":"$.name","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"destination_filepath":{"displayName":"destination_filepath","identifiesControllerService":false,"name":"destination_filepath","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"destination_filename":{"displayName":"destination_filename","identifiesControllerService":false,"name":"destination_filename","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d8d4a03b-de73-39fe-bd48-06183a84dad6","identifier":"24696bb8-7688-3044-b2a6-8f5f8f2345c2","instanceIdentifier":"c54368a5-8026-3648-f963-ddf59086e552","maxBackoffPeriod":"10 mins","name":"Move attributes to JSON","penaltyDuration":"30 sec","position":{"x":480.0,"y":472.0},"properties":{"attributes-to-json-regex":"((?:source|destination)\\_file(?:name|path)(?:\\.\\d)+)","Destination":"flowfile-content","Null Value":"false","Include Core Attributes":"true"},"propertyDescriptors":{"attributes-to-json-regex":{"displayName":"Attributes Regular Expression","identifiesControllerService":false,"name":"attributes-to-json-regex","sensitive":false},"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Null Value":{"displayName":"Null Value","identifiesControllerService":false,"name":"Null Value","sensitive":false},"Attributes List":{"displayName":"Attributes List","identifiesControllerService":false,"name":"Attributes List","sensitive":false},"Include Core Attributes":{"displayName":"Include Core Attributes","identifiesControllerService":false,"name":"Include Core Attributes","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.AttributesToJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"5422c607-302a-390a-8459-14b3ef1c4561","id":"8b89ec9b-7205-34ee-92ad-4b6c3dcf951d","instanceIdentifier":"e738cc49-59ab-36bc-caa0-4d12507a6fd1","name":"Start copying file region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"50405c24-76ee-39a9-95fe-bda6090e0143","identifier":"eeadb9d2-91cb-3838-a15e-d6f70d6809a6","instanceIdentifier":"7913e76c-5173-350d-bd60-bd669c1ba10c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"50405c24-76ee-39a9-95fe-bda6090e0143","id":"808047c5-fd9b-3cc4-9804-8e4c99b62b04","instanceIdentifier":"19999ec8-a08d-3daa-09e8-aea9140d629c","name":"Start copy file environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","id":"901952bb-d04d-392e-85e3-0d16b6580cc5","instanceIdentifier":"e6b9b16c-d721-39ab-379a-d9c0e7efdcb8","name":"Start copying file region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"50405c24-76ee-39a9-95fe-bda6090e0143","identifier":"7dcaf50a-3a0d-38d6-818f-0bbcf16563fe","instanceIdentifier":"1d39bbe7-441b-3bbe-f4aa-81aa4e45f1db","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"50405c24-76ee-39a9-95fe-bda6090e0143","id":"808047c5-fd9b-3cc4-9804-8e4c99b62b04","instanceIdentifier":"19999ec8-a08d-3daa-09e8-aea9140d629c","name":"Start copy file environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"50405c24-76ee-39a9-95fe-bda6090e0143","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"50405c24-76ee-39a9-95fe-bda6090e0143","identifier":"808047c5-fd9b-3cc4-9804-8e4c99b62b04","instanceIdentifier":"19999ec8-a08d-3daa-09e8-aea9140d629c","name":"Start copy file environment","position":{"x":414.00001728442976,"y":99.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"d0cbe40d-ae0b-395d-d10f-cc453e756b98","labels":[],"name":"E2E Environment","outputPorts":[],"position":{"x":744.0,"y":928.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5422c607-302a-390a-8459-14b3ef1c4561","id":"ce0016d4-ad06-3c50-b3aa-e5e1c913c0d6","instanceIdentifier":"e6e3de34-4a3c-3f73-f167-38aeb7e90f68","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5422c607-302a-390a-8459-14b3ef1c4561","identifier":"da3d509c-ae91-3a9f-bd5d-8c2d876045a6","instanceIdentifier":"97a987fd-81e4-388e-b796-8d576ca59c4a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"5422c607-302a-390a-8459-14b3ef1c4561","id":"fb286a9a-7e0e-33d2-9a00-18e4ebef6e02","instanceIdentifier":"509e9c76-e3db-3611-c9cf-05746aa0bd71","name":"Upload file to s3","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5422c607-302a-390a-8459-14b3ef1c4561","id":"52a496b7-2283-3818-9cce-19cae2f6f644","instanceIdentifier":"a9a4714c-927c-3f66-069a-b50832508d39","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5422c607-302a-390a-8459-14b3ef1c4561","identifier":"1cc20455-1983-3b2e-9a72-94cb30b6d6c4","instanceIdentifier":"b24c61db-e732-3451-d13e-db0ef51edc5e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"5422c607-302a-390a-8459-14b3ef1c4561","id":"8b89ec9b-7205-34ee-92ad-4b6c3dcf951d","instanceIdentifier":"e738cc49-59ab-36bc-caa0-4d12507a6fd1","name":"Start copying file region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5422c607-302a-390a-8459-14b3ef1c4561","id":"fb286a9a-7e0e-33d2-9a00-18e4ebef6e02","instanceIdentifier":"509e9c76-e3db-3611-c9cf-05746aa0bd71","name":"Upload file to s3","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"5422c607-302a-390a-8459-14b3ef1c4561","identifier":"a19b8089-c002-37f2-822d-068bb1a51d49","instanceIdentifier":"f384ded7-881e-3ecc-5c00-8e0945645d9b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"5422c607-302a-390a-8459-14b3ef1c4561","id":"52a496b7-2283-3818-9cce-19cae2f6f644","instanceIdentifier":"a9a4714c-927c-3f66-069a-b50832508d39","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"50405c24-76ee-39a9-95fe-bda6090e0143","identifier":"5422c607-302a-390a-8459-14b3ef1c4561","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"5422c607-302a-390a-8459-14b3ef1c4561","identifier":"8b89ec9b-7205-34ee-92ad-4b6c3dcf951d","instanceIdentifier":"e738cc49-59ab-36bc-caa0-4d12507a6fd1","name":"Start copying file region","position":{"x":485.0000020256407,"y":159.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"79e02003-d427-3fc1-8f3b-348caa5bf00b","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-E2E","position":{"x":664.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5422c607-302a-390a-8459-14b3ef1c4561","identifier":"fb286a9a-7e0e-33d2-9a00-18e4ebef6e02","instanceIdentifier":"509e9c76-e3db-3611-c9cf-05746aa0bd71","maxBackoffPeriod":"2 mins","name":"Upload file to s3","penaltyDuration":"30 sec","position":{"x":432.0,"y":616.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{s3_bucket}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}","s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"s3-temporary-directory-multipart":{"displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"name":"s3-temporary-directory-multipart","sensitive":false}},"retriedRelationships":[],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5422c607-302a-390a-8459-14b3ef1c4561","identifier":"ce0016d4-ad06-3c50-b3aa-e5e1c913c0d6","instanceIdentifier":"e6e3de34-4a3c-3f73-f167-38aeb7e90f68","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":984.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${destination_filename}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"s3\\..*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"5422c607-302a-390a-8459-14b3ef1c4561","identifier":"52a496b7-2283-3818-9cce-19cae2f6f644","instanceIdentifier":"a9a4714c-927c-3f66-069a-b50832508d39","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":432.0,"y":328.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","id":"18628d9f-4fdf-365c-81b7-4b9ca6731927","instanceIdentifier":"2d0afade-b5b1-3ca3-f55a-6dff025bef31","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","identifier":"992e6ee7-c4a8-3b6f-8580-7603b6421622","instanceIdentifier":"0536210f-5553-31fa-5e25-731a0b2e14e6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","id":"1469e557-e1a2-3a20-ba3d-916efcb6a9fc","instanceIdentifier":"e10797ba-97a3-367c-835c-a813e968c1c3","name":"Upload file to s3","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","id":"d4c005fa-1899-38a9-9568-7831c9c5dd66","instanceIdentifier":"6af64eb0-c806-3c41-576d-ea02df2c764c","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","identifier":"0a2f11c0-b362-3077-bd93-d99e5fa29420","instanceIdentifier":"00146e7c-2ca9-3363-96a1-59728a493509","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","id":"901952bb-d04d-392e-85e3-0d16b6580cc5","instanceIdentifier":"e6b9b16c-d721-39ab-379a-d9c0e7efdcb8","name":"Start copying file region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","id":"1469e557-e1a2-3a20-ba3d-916efcb6a9fc","instanceIdentifier":"e10797ba-97a3-367c-835c-a813e968c1c3","name":"Upload file to s3","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","identifier":"02bb28b9-0c3c-3349-8cf6-15cfba9aa6c6","instanceIdentifier":"e275aa54-eb24-3043-ede4-e7899246420d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","id":"d4c005fa-1899-38a9-9568-7831c9c5dd66","instanceIdentifier":"6af64eb0-c806-3c41-576d-ea02df2c764c","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"50405c24-76ee-39a9-95fe-bda6090e0143","identifier":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","identifier":"901952bb-d04d-392e-85e3-0d16b6580cc5","instanceIdentifier":"e6b9b16c-d721-39ab-379a-d9c0e7efdcb8","name":"Start copying file region","position":{"x":485.0000020256407,"y":159.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"de8e146e-c9f1-3f65-5ab3-c43c297be7f8","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-E2E","position":{"x":16.0,"y":312.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","identifier":"d4c005fa-1899-38a9-9568-7831c9c5dd66","instanceIdentifier":"6af64eb0-c806-3c41-576d-ea02df2c764c","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":432.0,"y":328.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","identifier":"1469e557-e1a2-3a20-ba3d-916efcb6a9fc","instanceIdentifier":"e10797ba-97a3-367c-835c-a813e968c1c3","maxBackoffPeriod":"2 mins","name":"Upload file to s3","penaltyDuration":"30 sec","position":{"x":432.0,"y":616.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{s3_bucket}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}","s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"s3-temporary-directory-multipart":{"displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"name":"s3-temporary-directory-multipart","sensitive":false}},"retriedRelationships":[],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6b32ebb1-ffbd-3bf9-841d-2cad13c308bc","identifier":"18628d9f-4fdf-365c-81b7-4b9ca6731927","instanceIdentifier":"2d0afade-b5b1-3ca3-f55a-6dff025bef31","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1000.0,"y":424.0},"properties":{"Log prefix":"[${log.prefix}.${destination_filename}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"s3\\..*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"d08044dd-67bf-35d7-ab2e-216960ec8e09","id":"5ded2992-a0a5-3ba7-84ef-245152be3f94","instanceIdentifier":"c5b83b42-a902-3db0-fb50-7a58fd82bb23","name":"Start copying file region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"3131005c-0a2d-39ab-a458-f4a24bd5d263","identifier":"88b222c1-05da-323e-9b40-af488af7962a","instanceIdentifier":"ddca9a7e-8747-3653-6588-a0b29914c71f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"3131005c-0a2d-39ab-a458-f4a24bd5d263","id":"8d1ff6d7-437f-3879-80c0-3a42b7b81ae9","instanceIdentifier":"5d2f8ca5-0839-3fff-d976-ff5bf29bce71","name":"Start copy file environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","id":"c08becc7-ceb0-38dc-9516-302f8913d99d","instanceIdentifier":"6409acab-f6ca-3f43-39e3-0f0da08e7795","name":"Start copying file region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"3131005c-0a2d-39ab-a458-f4a24bd5d263","identifier":"df412b0d-2058-3b2c-a970-12ee4c44af8c","instanceIdentifier":"860dfdf8-1b62-38fd-04f3-30fce3cf04ad","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"3131005c-0a2d-39ab-a458-f4a24bd5d263","id":"8d1ff6d7-437f-3879-80c0-3a42b7b81ae9","instanceIdentifier":"5d2f8ca5-0839-3fff-d976-ff5bf29bce71","name":"Start copy file environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"3131005c-0a2d-39ab-a458-f4a24bd5d263","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"3131005c-0a2d-39ab-a458-f4a24bd5d263","identifier":"8d1ff6d7-437f-3879-80c0-3a42b7b81ae9","instanceIdentifier":"5d2f8ca5-0839-3fff-d976-ff5bf29bce71","name":"Start copy file environment","position":{"x":414.00001728442976,"y":99.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"0ec477c7-fdd0-3cc9-30de-bedf711a3e65","labels":[],"name":"INT Environment","outputPorts":[],"position":{"x":-24.0,"y":904.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d08044dd-67bf-35d7-ab2e-216960ec8e09","id":"0371edc4-80cf-32fc-96da-9986745e727e","instanceIdentifier":"fd00627a-b418-3982-b343-808c91b39be9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d08044dd-67bf-35d7-ab2e-216960ec8e09","identifier":"5117ffe5-7cb1-3d81-9b0b-08cdbdbf293f","instanceIdentifier":"6f5ba272-e6b8-3906-8e6e-76f15927da4d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"d08044dd-67bf-35d7-ab2e-216960ec8e09","id":"5ded2992-a0a5-3ba7-84ef-245152be3f94","instanceIdentifier":"c5b83b42-a902-3db0-fb50-7a58fd82bb23","name":"Start copying file region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d08044dd-67bf-35d7-ab2e-216960ec8e09","id":"4f65fd4f-acb2-30ce-a554-92c64a65725e","instanceIdentifier":"442ef525-8915-3283-da39-755905ea565b","name":"Upload file to s3","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d08044dd-67bf-35d7-ab2e-216960ec8e09","identifier":"f67fcb78-16c6-3c73-a632-d0787dc220ae","instanceIdentifier":"c08c8632-7774-3422-b198-f386c78408cc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d08044dd-67bf-35d7-ab2e-216960ec8e09","id":"0371edc4-80cf-32fc-96da-9986745e727e","instanceIdentifier":"fd00627a-b418-3982-b343-808c91b39be9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d08044dd-67bf-35d7-ab2e-216960ec8e09","id":"bbec85c3-6bbb-3a33-a438-472d60dc70dd","instanceIdentifier":"81f9a0b9-4fa2-3485-c53b-3a01c9f94ee1","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d08044dd-67bf-35d7-ab2e-216960ec8e09","identifier":"f578b831-e83a-3a44-a285-c90a0833991a","instanceIdentifier":"027ffde0-045d-3ff6-8a58-32124d5679e3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d08044dd-67bf-35d7-ab2e-216960ec8e09","id":"4f65fd4f-acb2-30ce-a554-92c64a65725e","instanceIdentifier":"442ef525-8915-3283-da39-755905ea565b","name":"Upload file to s3","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"3131005c-0a2d-39ab-a458-f4a24bd5d263","identifier":"d08044dd-67bf-35d7-ab2e-216960ec8e09","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d08044dd-67bf-35d7-ab2e-216960ec8e09","identifier":"5ded2992-a0a5-3ba7-84ef-245152be3f94","instanceIdentifier":"c5b83b42-a902-3db0-fb50-7a58fd82bb23","name":"Start copying file region","position":{"x":485.0000020256407,"y":159.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"e10d19bf-fb90-302f-5c9b-61edd992ce8a","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-INT","position":{"x":664.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d08044dd-67bf-35d7-ab2e-216960ec8e09","identifier":"4f65fd4f-acb2-30ce-a554-92c64a65725e","instanceIdentifier":"442ef525-8915-3283-da39-755905ea565b","maxBackoffPeriod":"2 mins","name":"Upload file to s3","penaltyDuration":"30 sec","position":{"x":432.0,"y":616.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{s3_bucket}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}","s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"s3-temporary-directory-multipart":{"displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"name":"s3-temporary-directory-multipart","sensitive":false}},"retriedRelationships":[],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d08044dd-67bf-35d7-ab2e-216960ec8e09","identifier":"bbec85c3-6bbb-3a33-a438-472d60dc70dd","instanceIdentifier":"81f9a0b9-4fa2-3485-c53b-3a01c9f94ee1","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1032.0,"y":432.0},"properties":{"Log prefix":"[${log.prefix}.${destination_filename}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"s3\\..*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d08044dd-67bf-35d7-ab2e-216960ec8e09","identifier":"0371edc4-80cf-32fc-96da-9986745e727e","instanceIdentifier":"fd00627a-b418-3982-b343-808c91b39be9","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":432.0,"y":328.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","id":"0bf5f29a-5102-3ff9-ad94-16df7cbbee06","instanceIdentifier":"5020f4a4-426d-3566-a786-cc0260ffc6f5","name":"Upload file to s3","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","identifier":"ec09da38-b872-3e28-b85a-ea2bc018134b","instanceIdentifier":"c8980c6c-c4b9-3ba7-972c-98d028d14d23","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","id":"37feb489-5718-3e4b-9389-0bd1482a6c65","instanceIdentifier":"1e79c8c8-5914-366b-0962-463e5a2532a3","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","id":"5249866e-5dce-3bc2-9c6d-5a120f59f868","instanceIdentifier":"3c51e3cd-4265-3347-55b0-858fc898a711","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","identifier":"db1d962b-0fe9-3459-9be8-3bdfed8f38b1","instanceIdentifier":"62adea00-f5f8-3161-af62-6dab04039f72","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","id":"0bf5f29a-5102-3ff9-ad94-16df7cbbee06","instanceIdentifier":"5020f4a4-426d-3566-a786-cc0260ffc6f5","name":"Upload file to s3","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","id":"37feb489-5718-3e4b-9389-0bd1482a6c65","instanceIdentifier":"1e79c8c8-5914-366b-0962-463e5a2532a3","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","identifier":"beb924d5-f9ad-354b-9f79-70b7be17b6dc","instanceIdentifier":"8bc6a943-7508-360a-a08f-c323281560cd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","id":"c08becc7-ceb0-38dc-9516-302f8913d99d","instanceIdentifier":"6409acab-f6ca-3f43-39e3-0f0da08e7795","name":"Start copying file region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"3131005c-0a2d-39ab-a458-f4a24bd5d263","identifier":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","identifier":"c08becc7-ceb0-38dc-9516-302f8913d99d","instanceIdentifier":"6409acab-f6ca-3f43-39e3-0f0da08e7795","name":"Start copying file region","position":{"x":485.0000020256407,"y":159.9999968270626},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"c6d43199-9527-3599-6bf5-82dabb12679c","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-INT","position":{"x":-16.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","identifier":"37feb489-5718-3e4b-9389-0bd1482a6c65","instanceIdentifier":"1e79c8c8-5914-366b-0962-463e5a2532a3","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":432.0,"y":328.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","identifier":"5249866e-5dce-3bc2-9c6d-5a120f59f868","instanceIdentifier":"3c51e3cd-4265-3347-55b0-858fc898a711","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1088.0,"y":424.0},"properties":{"Log prefix":"[${log.prefix}.${destination_filename}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"s3\\..*","Output Format":"Line per Attribute","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"58259f47-62fe-3d71-ac6a-89f1d8a26d63","identifier":"0bf5f29a-5102-3ff9-ad94-16df7cbbee06","instanceIdentifier":"5020f4a4-426d-3566-a786-cc0260ffc6f5","maxBackoffPeriod":"2 mins","name":"Upload file to s3","penaltyDuration":"30 sec","position":{"x":432.0,"y":616.0},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","Access Key":"#{aws_access_key}","s3-object-remove-tags-prefix":"false","Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Secret Key":"#{aws_secret_key}","Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${destination_s3path}","Multipart Threshold":"5 GB","Bucket":"#{s3_bucket}","Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"#{aws_region}","Read Permission User List":"${s3.permissions.read.users}","s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"FullControl User List":{"displayName":"FullControl User List","identifiesControllerService":false,"name":"FullControl User List","sensitive":false},"Owner":{"displayName":"Owner","identifiesControllerService":false,"name":"Owner","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Cache Control":{"displayName":"Cache Control","identifiesControllerService":false,"name":"Cache Control","sensitive":false},"s3-object-remove-tags-prefix":{"displayName":"Remove Tag Prefix","identifiesControllerService":false,"name":"s3-object-remove-tags-prefix","sensitive":false},"Endpoint Override URL":{"displayName":"Endpoint Override URL","identifiesControllerService":false,"name":"Endpoint Override URL","sensitive":false},"Multipart Upload Max Age Threshold":{"displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"name":"Multipart Upload Max Age Threshold","sensitive":false},"canned-acl":{"displayName":"Canned ACL","identifiesControllerService":false,"name":"canned-acl","sensitive":false},"Signer Override":{"displayName":"Signer Override","identifiesControllerService":false,"name":"Signer Override","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Content Type":{"displayName":"Content Type","identifiesControllerService":false,"name":"Content Type","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Write ACL User List":{"displayName":"Write ACL User List","identifiesControllerService":false,"name":"Write ACL User List","sensitive":false},"server-side-encryption":{"displayName":"Server Side Encryption","identifiesControllerService":false,"name":"server-side-encryption","sensitive":false},"Read ACL User List":{"displayName":"Read ACL User List","identifiesControllerService":false,"name":"Read ACL User List","sensitive":false},"encryption-service":{"displayName":"Encryption Service","identifiesControllerService":true,"name":"encryption-service","sensitive":false},"Content Disposition":{"displayName":"Content Disposition","identifiesControllerService":false,"name":"Content Disposition","sensitive":false},"Storage Class":{"displayName":"Storage Class","identifiesControllerService":false,"name":"Storage Class","sensitive":false},"Multipart Part Size":{"displayName":"Multipart Part Size","identifiesControllerService":false,"name":"Multipart Part Size","sensitive":false},"use-chunked-encoding":{"displayName":"Use Chunked Encoding","identifiesControllerService":false,"name":"use-chunked-encoding","sensitive":false},"Object Key":{"displayName":"Object Key","identifiesControllerService":false,"name":"Object Key","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"Multipart Threshold":{"displayName":"Multipart Threshold","identifiesControllerService":false,"name":"Multipart Threshold","sensitive":false},"s3-object-tags-prefix":{"displayName":"Object Tags Prefix","identifiesControllerService":false,"name":"s3-object-tags-prefix","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Bucket":{"displayName":"Bucket","identifiesControllerService":false,"name":"Bucket","sensitive":false},"Multipart Upload AgeOff Interval":{"displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"name":"Multipart Upload AgeOff Interval","sensitive":false},"use-path-style-access":{"displayName":"Use Path Style Access","identifiesControllerService":false,"name":"use-path-style-access","sensitive":false},"Write Permission User List":{"displayName":"Write Permission User List","identifiesControllerService":false,"name":"Write Permission User List","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Read Permission User List":{"displayName":"Read Permission User List","identifiesControllerService":false,"name":"Read Permission User List","sensitive":false},"Expiration Time Rule":{"displayName":"Expiration Time Rule","identifiesControllerService":false,"name":"Expiration Time Rule","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false},"s3-temporary-directory-multipart":{"displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"name":"s3-temporary-directory-multipart","sensitive":false}},"retriedRelationships":[],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"2a87e050-61a2-3d0f-a206-b29babf479f8","instanceIdentifier":"af7bc7fa-ea90-3600-48d3-a7e033d1d627","maxBackoffPeriod":"10 mins","name":"Set log prefix","penaltyDuration":"30 sec","position":{"x":464.0,"y":8.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.CONTENT.UPSERT.S3"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["unmatched"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"32235adc-2e4b-370e-a980-6a5e75c7b999","identifier":"52245074-7202-37a1-9664-e4bcc901769c","instanceIdentifier":"322c37d5-312e-3385-acbf-de0be5cb1d77","maxBackoffPeriod":"10 mins","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":464.0,"y":616.0},"properties":{"isTestEnvironment":"${status:equals('draft')}","isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isTestEnvironment":{"displayName":"isTestEnvironment","identifiesControllerService":false,"name":"isTestEnvironment","sensitive":false},"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"47a5e87c-07f5-3ba4-aaf6-7ca74b0ca556","id":"19daeeab-defd-3b41-bedf-3220494d95af","instanceIdentifier":"efd0ee8b-6795-3c83-1255-8837a8834724","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"386f62a9-315f-3610-8ef4-2a5cda13ef98","instanceIdentifier":"d1f27f26-946d-3637-9172-a22838f3e2e9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isTestEnvironment"],"source":{"comments":"","groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"63f4265c-76c0-31c7-a487-330ab381551a","instanceIdentifier":"eebc704d-4670-3b33-e331-d8ab32941994","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"871a6b8e-9c7e-324f-b0c3-c56df132b597","id":"38bf5b5d-685f-3a3a-99a3-d64e7e6ccbeb","instanceIdentifier":"ae87940e-9e28-3e20-5187-c919886d2f7e","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"800e729f-7d42-32d7-90d0-6dc3adb8bcdf","instanceIdentifier":"c4f9b7d5-9c6a-3934-bbb7-0f68f0769e25","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isIntEnvironment"],"source":{"comments":"","groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"63f4265c-76c0-31c7-a487-330ab381551a","instanceIdentifier":"eebc704d-4670-3b33-e331-d8ab32941994","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","id":"3785b03a-c892-3753-9399-43192bfd007b","instanceIdentifier":"8b6445ae-377c-3140-bd31-505853df916d","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"7e225c02-e34b-32a0-bcfd-963b59d6795f","instanceIdentifier":"1e0e20c5-4914-38a7-ca57-840c7c769f37","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isProdEnvironment"],"source":{"comments":"","groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"63f4265c-76c0-31c7-a487-330ab381551a","instanceIdentifier":"eebc704d-4670-3b33-e331-d8ab32941994","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"b1f08f4d-9f58-3760-a042-922922b57413","id":"342663ff-2395-3ab1-9d78-60cdad6fcb13","instanceIdentifier":"2b0fd56a-11dd-366a-1597-8927a94b0f02","name":"Start upsert environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"2fa14e7d-b041-30d8-b884-885a3d911042","instanceIdentifier":"f638dae8-8849-32e6-a1bd-4f28446316ec","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isE2eEnvironment"],"source":{"comments":"","groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"63f4265c-76c0-31c7-a487-330ab381551a","instanceIdentifier":"eebc704d-4670-3b33-e331-d8ab32941994","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"63f4265c-76c0-31c7-a487-330ab381551a","instanceIdentifier":"eebc704d-4670-3b33-e331-d8ab32941994","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"0b5ea4a0-4cab-34c5-a086-ae8b24445f61","instanceIdentifier":"8c1d216e-c87e-3a28-c535-90b2d387f0f7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"92dc63a0-0aa1-3ec9-b708-db5ab1476555","instanceIdentifier":"30b170b1-2713-33ad-efa2-f0b54129e02f","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"92dc63a0-0aa1-3ec9-b708-db5ab1476555","instanceIdentifier":"30b170b1-2713-33ad-efa2-f0b54129e02f","name":"Set log prefix","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"e590825c-f311-33a0-860c-16fad29f9b58","instanceIdentifier":"68b0ede3-f0f2-3d06-3a27-2cdfddced07b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","id":"e87fb48c-5926-3b01-a276-350797d99435","instanceIdentifier":"aefc0267-f32d-3b9f-4ab6-9ae2d8bbec52","name":"Start upsert APL Content DynamoDB","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"e87fb48c-5926-3b01-a276-350797d99435","instanceIdentifier":"aefc0267-f32d-3b9f-4ab6-9ae2d8bbec52","name":"Start upsert APL Content DynamoDB","position":{"x":520.0,"y":-48.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"e924b650-3cc8-37ea-d823-10f18e183538","labels":[],"name":"Upsert DynamoDB","outputPorts":[],"position":{"x":904.0,"y":1528.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","id":"3f0d2932-4d1e-3aa7-82e6-d49275b8a35a","instanceIdentifier":"248c164b-78c9-304c-5c9f-09d2d1c04852","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","identifier":"4237783e-0d52-3354-a217-4fc8ba4a341d","instanceIdentifier":"f5e1a9bb-210b-37b0-8aeb-397fad7a807a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","id":"3785b03a-c892-3753-9399-43192bfd007b","instanceIdentifier":"8b6445ae-377c-3140-bd31-505853df916d","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","id":"46859076-9c55-3d7b-973e-72a61c50db2c","instanceIdentifier":"2aaedcde-c2cd-3285-9281-d91d387fd57a","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","identifier":"13200318-7509-3536-bf3e-995d82ea3e64","instanceIdentifier":"eeaac57f-4a9a-3672-ca0f-a63136331e5e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","id":"3785b03a-c892-3753-9399-43192bfd007b","instanceIdentifier":"8b6445ae-377c-3140-bd31-505853df916d","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","identifier":"3785b03a-c892-3753-9399-43192bfd007b","instanceIdentifier":"8b6445ae-377c-3140-bd31-505853df916d","name":"Start upsert environment","position":{"x":492.00000539289954,"y":114.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"dd6be751-cabd-35e5-abc3-35301e860871","labels":[],"name":"PROD Environment","outputPorts":[],"position":{"x":1144.0,"y":296.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","id":"755cd03e-a0eb-363e-a32d-16238d28b782","instanceIdentifier":"15ecdd7b-bac0-3bed-ef4c-beb8287ff5dc","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","identifier":"f815b28f-1897-32ed-b6d6-245582bb9500","instanceIdentifier":"d3458626-ca3c-3575-054c-6e489bdb8825","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","id":"46859076-9c55-3d7b-973e-72a61c50db2c","instanceIdentifier":"2aaedcde-c2cd-3285-9281-d91d387fd57a","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","id":"0b5ea6d2-5b7f-3b69-bb1d-c42b1f7f5654","instanceIdentifier":"c175ce5e-840a-37fc-51bb-82a54de5fd9d","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","identifier":"d769d05a-775b-329a-bd8d-7eac1b796aa0","instanceIdentifier":"be4adbac-367e-31ad-ab80-bdad8f10875b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","id":"78baeabf-09ed-3877-8681-30925737f4ab","instanceIdentifier":"1ab7e4a9-0f0b-3745-25a7-e7a879e45fa4","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","id":"78baeabf-09ed-3877-8681-30925737f4ab","instanceIdentifier":"1ab7e4a9-0f0b-3745-25a7-e7a879e45fa4","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","identifier":"86ec8f98-9e9a-313a-af6e-59847772c47e","instanceIdentifier":"1da46371-efeb-3486-3762-ad25241f12df","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","id":"755cd03e-a0eb-363e-a32d-16238d28b782","instanceIdentifier":"15ecdd7b-bac0-3bed-ef4c-beb8287ff5dc","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","identifier":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","identifier":"46859076-9c55-3d7b-973e-72a61c50db2c","instanceIdentifier":"2aaedcde-c2cd-3285-9281-d91d387fd57a","name":"Start upsert region","position":{"x":420.999997763505,"y":77.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"d282f7a3-d609-305d-9e36-43095a27e47c","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-PROD","position":{"x":72.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","identifier":"78baeabf-09ed-3877-8681-30925737f4ab","instanceIdentifier":"1ab7e4a9-0f0b-3745-25a7-e7a879e45fa4","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":464.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","identifier":"0b5ea6d2-5b7f-3b69-bb1d-c42b1f7f5654","instanceIdentifier":"c175ce5e-840a-37fc-51bb-82a54de5fd9d","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":376.0,"y":696.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"532ebe26-5dd0-3c8d-9334-c6c8cfff5482","identifier":"755cd03e-a0eb-363e-a32d-16238d28b782","instanceIdentifier":"15ecdd7b-bac0-3bed-ef4c-beb8287ff5dc","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":368.0,"y":248.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","id":"8006c802-eed5-33f6-8dc5-4dcbb413c852","instanceIdentifier":"53ac6a74-557e-346a-17ad-385103215deb","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","identifier":"07d677f2-6c3a-3269-ad02-d1bff45c20a2","instanceIdentifier":"240e07d0-65ad-3ed7-aa7c-2e889b7c3805","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","id":"3f0d2932-4d1e-3aa7-82e6-d49275b8a35a","instanceIdentifier":"248c164b-78c9-304c-5c9f-09d2d1c04852","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","id":"1b773995-1675-3adf-aa74-cebced77a787","instanceIdentifier":"82139c01-fd59-389b-5df3-ed4727bcf5de","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","identifier":"3530d512-17bc-392f-83e9-e7cd28cf7842","instanceIdentifier":"c4289c24-eb4f-3bc1-8350-c554ee950c1c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","id":"b911a1e6-8dd2-3c66-82c9-ac77f96c92b4","instanceIdentifier":"941192ab-76c8-373d-5aa6-cdce4acfe849","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","id":"b911a1e6-8dd2-3c66-82c9-ac77f96c92b4","instanceIdentifier":"941192ab-76c8-373d-5aa6-cdce4acfe849","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","identifier":"4fa76e7f-e57e-32a5-bc2f-97c4a1a5cb96","instanceIdentifier":"cc54cee0-de4f-339f-feb7-f6aec5fa3eca","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","id":"8006c802-eed5-33f6-8dc5-4dcbb413c852","instanceIdentifier":"53ac6a74-557e-346a-17ad-385103215deb","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"2ab301a4-9c36-38d5-a57e-ad5a204489ee","identifier":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","identifier":"3f0d2932-4d1e-3aa7-82e6-d49275b8a35a","instanceIdentifier":"248c164b-78c9-304c-5c9f-09d2d1c04852","name":"Start upsert region","position":{"x":420.999997763505,"y":77.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"fd7fc6d6-acdb-355e-356c-51ae6ea418b0","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-PROD","position":{"x":744.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","identifier":"1b773995-1675-3adf-aa74-cebced77a787","instanceIdentifier":"82139c01-fd59-389b-5df3-ed4727bcf5de","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":376.0,"y":696.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","identifier":"8006c802-eed5-33f6-8dc5-4dcbb413c852","instanceIdentifier":"53ac6a74-557e-346a-17ad-385103215deb","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":368.0,"y":248.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5c8fec2-e3b0-370a-a8f0-6b58b9c84dd7","identifier":"b911a1e6-8dd2-3c66-82c9-ac77f96c92b4","instanceIdentifier":"941192ab-76c8-373d-5aa6-cdce4acfe849","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":464.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"37319be7-cd9f-3558-bf2a-562205c2dbb4","id":"da3da4f3-f161-3616-9552-2be979431bce","instanceIdentifier":"84dc762b-7224-39ab-2ca0-a9d902f259cf","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"47a5e87c-07f5-3ba4-aaf6-7ca74b0ca556","identifier":"b2f44325-cc5e-32af-b590-4eabba5589bc","instanceIdentifier":"0ea2dbf1-d4e5-3afb-b604-1393cc9de458","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"47a5e87c-07f5-3ba4-aaf6-7ca74b0ca556","id":"19daeeab-defd-3b41-bedf-3220494d95af","instanceIdentifier":"efd0ee8b-6795-3c83-1255-8837a8834724","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"47a5e87c-07f5-3ba4-aaf6-7ca74b0ca556","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"47a5e87c-07f5-3ba4-aaf6-7ca74b0ca556","identifier":"19daeeab-defd-3b41-bedf-3220494d95af","instanceIdentifier":"efd0ee8b-6795-3c83-1255-8837a8834724","name":"Start upsert environment","position":{"x":492.00000539289954,"y":114.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"3ae40dfc-25db-3456-b4da-a1af816a4328","labels":[],"name":"TEST Environment","outputPorts":[],"position":{"x":-192.0,"y":312.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"37319be7-cd9f-3558-bf2a-562205c2dbb4","id":"4843c85a-042e-39cb-a14f-11f668bd9c07","instanceIdentifier":"7b651fc3-956f-3103-82a1-e05745eae9ce","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"37319be7-cd9f-3558-bf2a-562205c2dbb4","identifier":"54ac6ca1-f9aa-31c1-bf2a-d05c460b5f2d","instanceIdentifier":"afa0659d-20ad-3d9e-d065-d6372c634880","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"37319be7-cd9f-3558-bf2a-562205c2dbb4","id":"df049881-5200-36d4-8dbd-fa3614c55270","instanceIdentifier":"b9faea56-8d4f-3095-6de3-f7433692902b","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"37319be7-cd9f-3558-bf2a-562205c2dbb4","id":"eaf275fc-6999-394d-9145-cd024a597af1","instanceIdentifier":"3656eb65-17d1-387a-04a1-fd0bb6988995","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"37319be7-cd9f-3558-bf2a-562205c2dbb4","identifier":"ededd458-8fb1-39d3-ab3b-ddc9174b1e06","instanceIdentifier":"f964429c-099d-396c-0664-89a85f9f3c54","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"37319be7-cd9f-3558-bf2a-562205c2dbb4","id":"4843c85a-042e-39cb-a14f-11f668bd9c07","instanceIdentifier":"7b651fc3-956f-3103-82a1-e05745eae9ce","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"37319be7-cd9f-3558-bf2a-562205c2dbb4","id":"df049881-5200-36d4-8dbd-fa3614c55270","instanceIdentifier":"b9faea56-8d4f-3095-6de3-f7433692902b","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"37319be7-cd9f-3558-bf2a-562205c2dbb4","identifier":"741d3ce2-dac6-38b6-9fdb-c6b6ef0ef465","instanceIdentifier":"ca2f16bc-ded5-3367-be4b-0269400ba4dd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"37319be7-cd9f-3558-bf2a-562205c2dbb4","id":"da3da4f3-f161-3616-9552-2be979431bce","instanceIdentifier":"84dc762b-7224-39ab-2ca0-a9d902f259cf","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"47a5e87c-07f5-3ba4-aaf6-7ca74b0ca556","identifier":"37319be7-cd9f-3558-bf2a-562205c2dbb4","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"37319be7-cd9f-3558-bf2a-562205c2dbb4","identifier":"da3da4f3-f161-3616-9552-2be979431bce","instanceIdentifier":"84dc762b-7224-39ab-2ca0-a9d902f259cf","name":"Start upsert region","position":{"x":420.999997763505,"y":77.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"359220fd-df37-3b05-f96f-431a6422afcd","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-TEST","position":{"x":424.0,"y":280.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"37319be7-cd9f-3558-bf2a-562205c2dbb4","identifier":"eaf275fc-6999-394d-9145-cd024a597af1","instanceIdentifier":"3656eb65-17d1-387a-04a1-fd0bb6988995","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":376.0,"y":696.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"37319be7-cd9f-3558-bf2a-562205c2dbb4","identifier":"df049881-5200-36d4-8dbd-fa3614c55270","instanceIdentifier":"b9faea56-8d4f-3095-6de3-f7433692902b","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":368.0,"y":248.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"37319be7-cd9f-3558-bf2a-562205c2dbb4","identifier":"4843c85a-042e-39cb-a14f-11f668bd9c07","instanceIdentifier":"7b651fc3-956f-3103-82a1-e05745eae9ce","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":464.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"6d46fb94-b317-3732-a48b-f00b383b6ce9","id":"0e7cf2fc-d2e1-3a6b-a1a6-4f14ec505084","instanceIdentifier":"66a7777d-1be6-33b1-be8d-70d8be47ddc1","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b1f08f4d-9f58-3760-a042-922922b57413","identifier":"0b367a93-0618-32f7-ab71-c601bf516de8","instanceIdentifier":"48791c7e-fe30-37a8-c01c-fae50820ce2a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"b1f08f4d-9f58-3760-a042-922922b57413","id":"342663ff-2395-3ab1-9d78-60cdad6fcb13","instanceIdentifier":"2b0fd56a-11dd-366a-1597-8927a94b0f02","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"f1bf9dbc-0788-37a7-b724-654ac054b859","id":"b07be921-84f6-3d28-9f08-167ec74b4bb2","instanceIdentifier":"571d8e7c-3ec0-32ed-d45e-285b1fd481dd","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b1f08f4d-9f58-3760-a042-922922b57413","identifier":"0e41b5b5-e505-301f-ad12-1e7d2a42f5c5","instanceIdentifier":"ddb834c4-862e-3f96-f8f5-83800be6c477","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"b1f08f4d-9f58-3760-a042-922922b57413","id":"342663ff-2395-3ab1-9d78-60cdad6fcb13","instanceIdentifier":"2b0fd56a-11dd-366a-1597-8927a94b0f02","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"b1f08f4d-9f58-3760-a042-922922b57413","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b1f08f4d-9f58-3760-a042-922922b57413","identifier":"342663ff-2395-3ab1-9d78-60cdad6fcb13","instanceIdentifier":"2b0fd56a-11dd-366a-1597-8927a94b0f02","name":"Start upsert environment","position":{"x":492.00000539289954,"y":114.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"40b54ceb-f2ce-3351-dcc4-73a448f039a7","labels":[],"name":"E2E Environment","outputPorts":[],"position":{"x":680.0,"y":640.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f1bf9dbc-0788-37a7-b724-654ac054b859","id":"19fd1a74-2177-3f04-89ff-43a18d584736","instanceIdentifier":"13611a94-df44-363a-e625-a83c7a486ac8","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f1bf9dbc-0788-37a7-b724-654ac054b859","identifier":"785eccb3-dc04-3764-87bf-858a8dfe3b39","instanceIdentifier":"10b69bfa-089c-3c54-9c2a-fdf9f0e85f51","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"f1bf9dbc-0788-37a7-b724-654ac054b859","id":"b07be921-84f6-3d28-9f08-167ec74b4bb2","instanceIdentifier":"571d8e7c-3ec0-32ed-d45e-285b1fd481dd","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f1bf9dbc-0788-37a7-b724-654ac054b859","id":"0f57267c-eb14-33a8-b8fe-bab9fb4cb8bd","instanceIdentifier":"140e18fb-c932-33f1-47e5-f0ee45a5e73e","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f1bf9dbc-0788-37a7-b724-654ac054b859","identifier":"80339f4b-4618-38b1-afb2-41d709d5e5ca","instanceIdentifier":"fa6ac47d-94f9-386d-2caa-cdc944801125","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"f1bf9dbc-0788-37a7-b724-654ac054b859","id":"6b526d56-a6f0-31c9-8ca8-a4a9408b4473","instanceIdentifier":"b2a3f782-a15d-364f-07f4-aebd6821327e","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f1bf9dbc-0788-37a7-b724-654ac054b859","id":"6b526d56-a6f0-31c9-8ca8-a4a9408b4473","instanceIdentifier":"b2a3f782-a15d-364f-07f4-aebd6821327e","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f1bf9dbc-0788-37a7-b724-654ac054b859","identifier":"3626cb45-1d4d-31d6-bf0e-4c130afc42b8","instanceIdentifier":"59ed5995-260d-3b3b-94d5-f8b861798c05","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"f1bf9dbc-0788-37a7-b724-654ac054b859","id":"19fd1a74-2177-3f04-89ff-43a18d584736","instanceIdentifier":"13611a94-df44-363a-e625-a83c7a486ac8","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b1f08f4d-9f58-3760-a042-922922b57413","identifier":"f1bf9dbc-0788-37a7-b724-654ac054b859","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"f1bf9dbc-0788-37a7-b724-654ac054b859","identifier":"b07be921-84f6-3d28-9f08-167ec74b4bb2","instanceIdentifier":"571d8e7c-3ec0-32ed-d45e-285b1fd481dd","name":"Start upsert region","position":{"x":420.999997763505,"y":77.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"6e621988-4587-3835-0e6c-45048a00f00c","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-E2E","position":{"x":744.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f1bf9dbc-0788-37a7-b724-654ac054b859","identifier":"19fd1a74-2177-3f04-89ff-43a18d584736","instanceIdentifier":"13611a94-df44-363a-e625-a83c7a486ac8","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":368.0,"y":248.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f1bf9dbc-0788-37a7-b724-654ac054b859","identifier":"0f57267c-eb14-33a8-b8fe-bab9fb4cb8bd","instanceIdentifier":"140e18fb-c932-33f1-47e5-f0ee45a5e73e","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":376.0,"y":696.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f1bf9dbc-0788-37a7-b724-654ac054b859","identifier":"6b526d56-a6f0-31c9-8ca8-a4a9408b4473","instanceIdentifier":"b2a3f782-a15d-364f-07f4-aebd6821327e","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":464.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6d46fb94-b317-3732-a48b-f00b383b6ce9","id":"3f70524c-0ade-309a-87ea-c048e8622d82","instanceIdentifier":"a82baeca-9380-32e7-84e0-aaef62f1638f","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6d46fb94-b317-3732-a48b-f00b383b6ce9","identifier":"2568cb33-1732-37d1-ba15-218f2ffa9814","instanceIdentifier":"3ad51faa-8fa4-374e-cc18-bcee835370fd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"6d46fb94-b317-3732-a48b-f00b383b6ce9","id":"707e50b3-5637-3e72-a73a-16d30485f30f","instanceIdentifier":"e9e08199-0f69-3308-16a8-c0e770fb40bc","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6d46fb94-b317-3732-a48b-f00b383b6ce9","id":"a8a264dd-e7d8-3cd1-a5e2-7af161ae0fc6","instanceIdentifier":"00b85a71-6f5a-31ab-0235-0af1e813d1a9","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6d46fb94-b317-3732-a48b-f00b383b6ce9","identifier":"e598ee7e-6ef9-3ad9-8ce9-bc02f3e14f0c","instanceIdentifier":"00fd86d2-daf6-3a40-4b06-e444d8750981","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"6d46fb94-b317-3732-a48b-f00b383b6ce9","id":"0e7cf2fc-d2e1-3a6b-a1a6-4f14ec505084","instanceIdentifier":"66a7777d-1be6-33b1-be8d-70d8be47ddc1","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"6d46fb94-b317-3732-a48b-f00b383b6ce9","id":"707e50b3-5637-3e72-a73a-16d30485f30f","instanceIdentifier":"e9e08199-0f69-3308-16a8-c0e770fb40bc","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"6d46fb94-b317-3732-a48b-f00b383b6ce9","identifier":"ecf32922-6e4b-3f87-8fe9-6b4e7a014f63","instanceIdentifier":"932b40a9-3bc5-33c0-f01d-f4fede3b5d71","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"6d46fb94-b317-3732-a48b-f00b383b6ce9","id":"a8a264dd-e7d8-3cd1-a5e2-7af161ae0fc6","instanceIdentifier":"00b85a71-6f5a-31ab-0235-0af1e813d1a9","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b1f08f4d-9f58-3760-a042-922922b57413","identifier":"6d46fb94-b317-3732-a48b-f00b383b6ce9","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"6d46fb94-b317-3732-a48b-f00b383b6ce9","identifier":"0e7cf2fc-d2e1-3a6b-a1a6-4f14ec505084","instanceIdentifier":"66a7777d-1be6-33b1-be8d-70d8be47ddc1","name":"Start upsert region","position":{"x":420.999997763505,"y":77.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"af68b81a-b577-3ac0-22c9-55d318046925","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-E2E","position":{"x":72.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6d46fb94-b317-3732-a48b-f00b383b6ce9","identifier":"a8a264dd-e7d8-3cd1-a5e2-7af161ae0fc6","instanceIdentifier":"00b85a71-6f5a-31ab-0235-0af1e813d1a9","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":368.0,"y":248.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6d46fb94-b317-3732-a48b-f00b383b6ce9","identifier":"3f70524c-0ade-309a-87ea-c048e8622d82","instanceIdentifier":"a82baeca-9380-32e7-84e0-aaef62f1638f","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":376.0,"y":696.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"6d46fb94-b317-3732-a48b-f00b383b6ce9","identifier":"707e50b3-5637-3e72-a73a-16d30485f30f","instanceIdentifier":"e9e08199-0f69-3308-16a8-c0e770fb40bc","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":464.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","id":"42ccfdb7-dd71-394f-afb7-fd381200d0f1","instanceIdentifier":"2772aa62-fdbd-3364-0020-04577784553e","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"871a6b8e-9c7e-324f-b0c3-c56df132b597","identifier":"8a55f215-0819-3909-9773-83c80bc6413c","instanceIdentifier":"70867d67-2b81-3ca0-4133-2eb5a33d8b71","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"871a6b8e-9c7e-324f-b0c3-c56df132b597","id":"38bf5b5d-685f-3a3a-99a3-d64e7e6ccbeb","instanceIdentifier":"ae87940e-9e28-3e20-5187-c919886d2f7e","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","id":"4fdbdaa2-f984-3dbf-80de-4874285d0e4d","instanceIdentifier":"6608b856-b7eb-3c1a-b4f1-5d1229796607","name":"Start upsert region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"871a6b8e-9c7e-324f-b0c3-c56df132b597","identifier":"bfe3a964-b8c6-39e5-8798-00f25f8fb0d1","instanceIdentifier":"59e92c39-36d0-359b-7d45-20844f3d5561","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"871a6b8e-9c7e-324f-b0c3-c56df132b597","id":"38bf5b5d-685f-3a3a-99a3-d64e7e6ccbeb","instanceIdentifier":"ae87940e-9e28-3e20-5187-c919886d2f7e","name":"Start upsert environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"871a6b8e-9c7e-324f-b0c3-c56df132b597","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"871a6b8e-9c7e-324f-b0c3-c56df132b597","identifier":"38bf5b5d-685f-3a3a-99a3-d64e7e6ccbeb","instanceIdentifier":"ae87940e-9e28-3e20-5187-c919886d2f7e","name":"Start upsert environment","position":{"x":492.00000539289954,"y":114.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"3601957a-b8e6-3aa0-cb1c-223b160a3b77","labels":[],"name":"INT Environment","outputPorts":[],"position":{"x":32.0,"y":640.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","id":"cf174f4a-9e59-34f0-a61f-480a28e373ac","instanceIdentifier":"63459694-e78c-3231-7631-73cf8c5f69d7","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","identifier":"da2af022-58ea-39ac-b8ce-98336c468689","instanceIdentifier":"077e9c6f-89ed-3210-a829-21cd820ad841","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","id":"4fdbdaa2-f984-3dbf-80de-4874285d0e4d","instanceIdentifier":"6608b856-b7eb-3c1a-b4f1-5d1229796607","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","id":"37410bb7-c622-3651-bd30-f53bf0502992","instanceIdentifier":"be4be0a9-7087-30c5-b172-9a8c01a1d57b","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","identifier":"51f5d1a2-fba7-3460-8088-32966d6f2282","instanceIdentifier":"81a3d14d-98c8-3148-2039-9e7ce35740ab","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","id":"036cae8e-ffdc-367a-af66-4ad0a976a52f","instanceIdentifier":"5984f1c5-31e5-32f9-871a-6e4504b1afd1","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","id":"036cae8e-ffdc-367a-af66-4ad0a976a52f","instanceIdentifier":"5984f1c5-31e5-32f9-871a-6e4504b1afd1","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","identifier":"7f2adca4-7642-3706-9066-82b94ac657c1","instanceIdentifier":"e9293015-9d64-3874-fafe-c220fc8077f5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","id":"cf174f4a-9e59-34f0-a61f-480a28e373ac","instanceIdentifier":"63459694-e78c-3231-7631-73cf8c5f69d7","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"871a6b8e-9c7e-324f-b0c3-c56df132b597","identifier":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","identifier":"4fdbdaa2-f984-3dbf-80de-4874285d0e4d","instanceIdentifier":"6608b856-b7eb-3c1a-b4f1-5d1229796607","name":"Start upsert region","position":{"x":420.999997763505,"y":77.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"d4587f78-ced5-32c7-3245-db0367329a0a","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-INT","position":{"x":72.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","identifier":"036cae8e-ffdc-367a-af66-4ad0a976a52f","instanceIdentifier":"5984f1c5-31e5-32f9-871a-6e4504b1afd1","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":464.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","identifier":"37410bb7-c622-3651-bd30-f53bf0502992","instanceIdentifier":"be4be0a9-7087-30c5-b172-9a8c01a1d57b","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":376.0,"y":696.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1810c26c-7e1e-3a2a-89c4-bdcb360b05cc","identifier":"cf174f4a-9e59-34f0-a61f-480a28e373ac","instanceIdentifier":"63459694-e78c-3231-7631-73cf8c5f69d7","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":368.0,"y":248.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","id":"5533ca9f-a246-3d0d-a711-4bf97c2ea964","instanceIdentifier":"d070c24c-b3ad-3614-d372-827b326548b8","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","identifier":"28add463-5d57-3ec6-b2bf-429579740d24","instanceIdentifier":"ae396b78-7e1f-3c87-e60a-80a912eeeb0b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","id":"e46a8a2c-a3ab-361c-a60b-eb9cd33c6dc7","instanceIdentifier":"0cc426f7-3c32-302d-dcc6-9b303343b1a5","name":"PutDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","id":"32eb8a08-c710-36ab-84db-617156bca937","instanceIdentifier":"2f7145a2-62ec-350c-07fa-9c6dfe126ca7","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","identifier":"61467a1a-5c41-3f5b-9c11-b8f73871b4f8","instanceIdentifier":"6d58066a-1252-3550-ff83-6c832fe06ab2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","id":"42ccfdb7-dd71-394f-afb7-fd381200d0f1","instanceIdentifier":"2772aa62-fdbd-3364-0020-04577784553e","name":"Start upsert region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","id":"e46a8a2c-a3ab-361c-a60b-eb9cd33c6dc7","instanceIdentifier":"0cc426f7-3c32-302d-dcc6-9b303343b1a5","name":"PutDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","identifier":"92994c27-d39c-38cd-91c7-b5de73afbde9","instanceIdentifier":"dfa87458-96b7-38b3-58f8-9eea0529c736","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","id":"32eb8a08-c710-36ab-84db-617156bca937","instanceIdentifier":"2f7145a2-62ec-350c-07fa-9c6dfe126ca7","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"871a6b8e-9c7e-324f-b0c3-c56df132b597","identifier":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","identifier":"42ccfdb7-dd71-394f-afb7-fd381200d0f1","instanceIdentifier":"2772aa62-fdbd-3364-0020-04577784553e","name":"Start upsert region","position":{"x":420.999997763505,"y":77.99999856376769},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"24377ac7-0359-3892-2552-e6b60463cffe","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-INT","position":{"x":744.0,"y":304.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","identifier":"e46a8a2c-a3ab-361c-a60b-eb9cd33c6dc7","instanceIdentifier":"0cc426f7-3c32-302d-dcc6-9b303343b1a5","maxBackoffPeriod":"2 mins","name":"PutDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":464.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Character set of document":"UTF-8","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${id}","Json Document attribute":"content","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"Character set of document":{"displayName":"Character set of document","identifiesControllerService":false,"name":"Character set of document","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#b97ed9"},"type":"org.apache.nifi.processors.aws.dynamodb.PutDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","identifier":"32eb8a08-c710-36ab-84db-617156bca937","instanceIdentifier":"2f7145a2-62ec-350c-07fa-9c6dfe126ca7","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":368.0,"y":248.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4f5a5bf0-557e-36b7-8831-d2f7c42e2b34","identifier":"5533ca9f-a246-3d0d-a711-4bf97c2ea964","instanceIdentifier":"d070c24c-b3ad-3614-d372-827b326548b8","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":376.0,"y":696.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"63f4265c-76c0-31c7-a487-330ab381551a","instanceIdentifier":"eebc704d-4670-3b33-e331-d8ab32941994","maxBackoffPeriod":"10 mins","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":472.0,"y":304.0},"properties":{"isTestEnvironment":"${status:equals('draft')}","isE2eEnvironment":"${status:equals('waiting_approval')}","Routing Strategy":"Route to Property name","isProdEnvironment":"${status:equals('published')}","isIntEnvironment":"${status:equals('waiting_localization')}"},"propertyDescriptors":{"isTestEnvironment":{"displayName":"isTestEnvironment","identifiesControllerService":false,"name":"isTestEnvironment","sensitive":false},"isE2eEnvironment":{"displayName":"isE2eEnvironment","identifiesControllerService":false,"name":"isE2eEnvironment","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isProdEnvironment":{"displayName":"isProdEnvironment","identifiesControllerService":false,"name":"isProdEnvironment","sensitive":false},"isIntEnvironment":{"displayName":"isIntEnvironment","identifiesControllerService":false,"name":"isIntEnvironment","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"72d78a08-4a64-38e7-aadd-7a09d1a4dc24","identifier":"92dc63a0-0aa1-3ec9-b708-db5ab1476555","instanceIdentifier":"30b170b1-2713-33ad-efa2-f0b54129e02f","maxBackoffPeriod":"10 mins","name":"Set log prefix","penaltyDuration":"30 sec","position":{"x":464.0,"y":96.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.CONTENT.UPSERT.DYNAMODB"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"f963afd4-07ea-393a-b848-333276ace29c","instanceIdentifier":"31f93538-b3dd-3e91-67a0-7d8ddac2ecee","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":480.0,"y":280.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.*.localization.[*]"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"f9d0481d-e409-3b0f-8032-a85c67b056e4","instanceIdentifier":"990024f0-60f5-367b-c3f3-b92332d8e3ce","maxBackoffPeriod":"10 mins","name":"ReplaceText","penaltyDuration":"30 sec","position":{"x":480.0,"y":1048.0},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${content:prepend(\"\\\"\"):append(\"\\\"\")}","Evaluation Mode":"Entire text","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace"},"propertyDescriptors":{"Regular Expression":{"displayName":"Search Value","identifiesControllerService":false,"name":"Regular Expression","sensitive":false},"Replacement Value":{"displayName":"Replacement Value","identifiesControllerService":false,"name":"Replacement Value","sensitive":false},"Evaluation Mode":{"displayName":"Evaluation Mode","identifiesControllerService":false,"name":"Evaluation Mode","sensitive":false},"Line-by-Line Evaluation Mode":{"displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"name":"Line-by-Line Evaluation Mode","sensitive":false},"Character Set":{"displayName":"Character Set","identifiesControllerService":false,"name":"Character Set","sensitive":false},"Maximum Buffer Size":{"displayName":"Maximum Buffer Size","identifiesControllerService":false,"name":"Maximum Buffer Size","sensitive":false},"Replacement Strategy":{"displayName":"Replacement Strategy","identifiesControllerService":false,"name":"Replacement Strategy","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"c156e29d-96e0-3169-9c36-03649ff24036","instanceIdentifier":"46fef178-d822-3466-6897-4b5acdad4803","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":480.0,"y":552.0},"properties":{"Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","id":"$.id_localization","content":"$.value","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"id":{"displayName":"id","identifiesControllerService":false,"name":"id","sensitive":false},"content":{"displayName":"content","identifiesControllerService":false,"name":"content","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"4eb9ad94-f8f5-3987-be3d-b72eeeb4b2ef","instanceIdentifier":"99027b2b-46fc-39fc-2355-9d64ae44bdfb","maxBackoffPeriod":"10 mins","name":"Update content attribute","penaltyDuration":"30 sec","position":{"x":472.0,"y":776.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","content":"${content:toString():escapeJson()}"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"content":{"displayName":"content","identifiesControllerService":false,"name":"content","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"044a78d1-5790-3883-8ae4-d6b380bc08ea","instanceIdentifier":"08fbd49e-83b2-39f4-b87a-0e76b9edcd18","maxBackoffPeriod":"10 mins","name":"Delete temporary attributes","penaltyDuration":"30 sec","position":{"x":472.0,"y":1304.0},"properties":{"Delete Attributes Expression":"(?i:(?:content|invokehttp|keep|\\-|alive)(?:[\\.|\\-].*)*)","Store State":"Do not store state","canonical-value-lookup-cache-size":"100"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"5a6cb5b7-f769-3e3d-b9d6-914cacdcb83a","instanceIdentifier":"416d5431-1cfa-37fc-1b99-4adfcd0ef259","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":2104.0,"y":184.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Single Line","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"9a7fb2c8-e094-300f-8bb8-91acda31ce8d","instanceIdentifier":"8542ab88-1592-3e7a-5e96-9fdf226b4677","maxBackoffPeriod":"10 mins","name":"Set log prefix","penaltyDuration":"30 sec","position":{"x":472.0,"y":-208.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.CONTENT.UPSERT"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"96072203-76d0-331a-9816-0dcc3f3b7d1c","identifier":"4dc40aa7-2c36-366b-979d-d91625272617","instanceIdentifier":"888c8ae1-336e-34cf-d50e-479d80f34d44","maxBackoffPeriod":"10 mins","name":"Transform APL","penaltyDuration":"30 sec","position":{"x":480.0,"y":40.0},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"localization\": \"&1.localization\"\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"28e9aea5-569f-3938-8c22-0e3ef6978ab6","identifier":"fd026044-8b34-3668-8a79-4e74c0b02f45","instanceIdentifier":"9fd0cb82-a58a-398a-4f2e-967028c41213","maxBackoffPeriod":"10 mins","name":"Transform json","penaltyDuration":"30 sec","position":{"x":472.0,"y":288.0},"properties":{"jolt-spec":"[{\n  \"operation\": \"modify-default-beta\",\n  \"spec\": {\n      \"*\": {\n        \"localization\": {\n          \"*\": {\n            \"id_localization\": \"=concat(@(3,name),'.',@(3,version), '.',@(1,culture))\"\n          }\n        }\n      }\n    }\n}]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","identifier":"bf5575fd-fe61-3c57-9b3c-858acab0bfb5","instanceIdentifier":"cc138acd-fe00-3424-85f8-2d52db5d972c","maxBackoffPeriod":"10 mins","name":"Check table name","penaltyDuration":"30 sec","position":{"x":480.0,"y":248.0},"properties":{"Routing Strategy":"Route to Property name","isAplTable":"${tableName:equals(\"apl\")}","isResponseTable":"${tableName:equals(\"responses\")}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isAplTable":{"displayName":"isAplTable","identifiesControllerService":false,"name":"isAplTable","sensitive":false},"isResponseTable":{"displayName":"isResponseTable","identifiesControllerService":false,"name":"isResponseTable","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},"flowEncodingVersion":"1.0","parameterContexts":{"NA-PROD":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"NA-PROD","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-INT":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"EU-INT","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-TEST":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"EU-TEST","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"NA-INT":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"NA-INT","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-E2E":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"EU-E2E","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-PROD":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"EU-PROD","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"NA-E2E":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"NA-E2E","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]}},"parameterProviders":{},"snapshotMetadata":{"author":"admin@ipa.com","comments":"Upsert Test","timestamp":1741193372053,"version":1}}