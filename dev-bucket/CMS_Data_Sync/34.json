{"externalControllerServices":{},"flowContents":{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"3a1a3061-d935-3762-8cd2-224a99dbe577","instanceIdentifier":"1031e515-9adc-3bbb-ab46-7280642b638e","name":"UpdateAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"8d98db69-5b1a-3d56-b947-7c17ce2219d3","instanceIdentifier":"bcfd25f0-489b-3269-a2fd-4ff8378ec87a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"5dd6f771-4224-3b2b-aa80-1fb8a7794809","id":"24cfa9b2-9074-3e11-b0cd-e43cb2fb9e41","instanceIdentifier":"bcda3110-344c-3a93-6e6d-b1bedd6784c1","name":"end_get_resources","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[{"x":904.0,"y":1096.0}],"componentType":"CONNECTION","destination":{"comments":"","groupId":"3019751a-1e4e-37a6-a7f4-d42332047fe6","id":"a76db5e3-7e16-3541-88d8-c131453cffcb","instanceIdentifier":"4f2d7354-e43e-36c3-3ae4-4f68f5c5e512","name":"Start upsert","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"c0ed1153-02fe-3a28-b9be-baec0633a8c4","instanceIdentifier":"43f9245f-3231-33b4-d5fa-cb97110485ee","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["RouteToUpsertResource"],"source":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"fcbf3566-eb4d-33f0-87b0-0410fe87cea4","instanceIdentifier":"47f6436b-53c4-33a3-31a2-6ac9cafcb143","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"ccf70e1d-591c-3d18-befa-3280c0bb76b4","instanceIdentifier":"e1271bc6-9743-3e9f-59c6-e9d28fdf577b","name":"LogMessage","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"3a501494-790f-3fb4-8b10-73fd5907684a","instanceIdentifier":"bca07ac0-1ab1-3add-75ca-1f446303bde9","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unmatched"],"source":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"fcbf3566-eb4d-33f0-87b0-0410fe87cea4","instanceIdentifier":"47f6436b-53c4-33a3-31a2-6ac9cafcb143","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"fcbf3566-eb4d-33f0-87b0-0410fe87cea4","instanceIdentifier":"47f6436b-53c4-33a3-31a2-6ac9cafcb143","name":"RouteOnAttribute","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"89fd0fdd-5a09-3fc7-aef0-75384cf20d42","instanceIdentifier":"f6942955-cf13-3a46-d44f-4a501514f022","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"3a1a3061-d935-3762-8cd2-224a99dbe577","instanceIdentifier":"1031e515-9adc-3bbb-ab46-7280642b638e","name":"UpdateAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"b48e119b-f6b9-33f7-833b-a361c479862e","id":"b088d0cb-124e-36dd-8119-29fb03654384","instanceIdentifier":"a7473d07-206e-3226-16e8-d52140b60a86","name":"Start deletion","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"db20619d-2d96-3e8a-8133-f6d35158ccb8","instanceIdentifier":"0f08fd4e-27c5-3edb-7e7c-a3a78ea07faa","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a616bb8d-ab90-3396-9d2e-826308e65b8e","id":"259dca64-aff6-3b0a-95c6-f6a6d08b4c23","instanceIdentifier":"05a0f206-54f4-3ae5-4a2b-6dfdd8332cdc","name":"delete_resource","type":"OUTPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"5dd6f771-4224-3b2b-aa80-1fb8a7794809","id":"816d8dbd-c8e7-3199-bdf0-9ff3277e919b","instanceIdentifier":"08086212-aece-3a1a-9b7e-9a80f9c9e399","name":"start_get_resource","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"4726e2b0-f5a1-3538-97f7-0f5b74a2d249","instanceIdentifier":"2ee64371-9490-31d7-9040-d53d8ae43ae2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"91c7a5fc-29d5-309d-829b-5c1692236586","instanceIdentifier":"e3345b3c-ace2-34a7-07f7-1832fc149bb3","name":"Prepare CMS Request - Get revisions","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"5d471cbf-8b59-34e1-b7fc-99bc7037ba20","id":"58d1416d-fb41-33e3-b932-1b110b85cbf4","instanceIdentifier":"539f2cb1-3841-325f-1760-3e93d893883a","name":"upload_port","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"c32a08d3-de67-3108-b8fb-9fdb4e19bb21","instanceIdentifier":"eaa810f7-9f29-3ce4-7714-1b64e6ce2e2a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["RouteToAPIResources"],"source":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"fcbf3566-eb4d-33f0-87b0-0410fe87cea4","instanceIdentifier":"47f6436b-53c4-33a3-31a2-6ac9cafcb143","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"0c390072-d218-32a1-a36b-351bbd466c39","id":"c02e27a0-123c-302b-bdb3-af912791bcd5","instanceIdentifier":"7c8fe429-897d-3bb4-c6bf-22ef9d6c3f10","name":"start_git_flow","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"28596481-4b3d-346a-b027-7da275407cd8","instanceIdentifier":"89f26e7e-4d56-39ac-afd5-7bb17acd53d8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["RouteToGit"],"source":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"fcbf3566-eb4d-33f0-87b0-0410fe87cea4","instanceIdentifier":"47f6436b-53c4-33a3-31a2-6ac9cafcb143","name":"RouteOnAttribute","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8a99c018-7c11-355b-8ae5-017e4a08dad9","id":"91c7a5fc-29d5-309d-829b-5c1692236586","instanceIdentifier":"e3345b3c-ace2-34a7-07f7-1832fc149bb3","name":"Prepare CMS Request - Get revisions","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"716a3135-3476-3243-9d5f-007e7a84b4c9","instanceIdentifier":"11566473-26d5-3c06-6359-58557e4dca2a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"a616bb8d-ab90-3396-9d2e-826308e65b8e","id":"62419301-bc17-31bb-8de9-087278b289c6","instanceIdentifier":"360bfb55-2901-3191-5f20-7d776acd6f8a","name":"upsert_resource","type":"OUTPUT_PORT"},"zIndex":0}],"controllerServices":[{"bulletinLevel":"WARN","bundle":{"artifact":"nifi-distributed-cache-services-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"CONTROLLER_SERVICE","controllerServiceApis":[{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.19.1"},"type":"org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"},{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.19.1"},"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"}],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"49b277ba-0927-3840-ab6c-9ff6e61f149e","instanceIdentifier":"b3145161-d28d-3ec3-de55-1870645f334c","name":"DistributedMapCacheClientService","properties":{"Server Port":"#{distributed_map_cache_port}","Server Hostname":"#{distributed_map_cache_hostname}","Communications Timeout":"30 secs"},"propertyDescriptors":{"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Server Port":{"displayName":"Server Port","identifiesControllerService":false,"name":"Server Port","sensitive":false},"Server Hostname":{"displayName":"Server Hostname","identifiesControllerService":false,"name":"Server Hostname","sensitive":false},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false}},"scheduledState":"DISABLED","type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"},{"bulletinLevel":"WARN","bundle":{"artifact":"nifi-ssl-context-service-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"CONTROLLER_SERVICE","controllerServiceApis":[{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.19.1"},"type":"org.apache.nifi.ssl.RestrictedSSLContextService"},{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.19.1"},"type":"org.apache.nifi.ssl.SSLContextService"}],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"5051f02d-d145-361f-a351-5a7383510269","instanceIdentifier":"1aa0dcfe-446b-3190-9ea4-8061c5832798","name":"StandardRestrictedSSLContextService","properties":{"SSL Protocol":"TLS","Keystore Type":"#{keystore_type}","Keystore Password":"#{keystore_password}","key-password":"#{key_password}","Keystore Filename":"#{keystore_filename}"},"propertyDescriptors":{"Truststore Type":{"displayName":"Truststore Type","identifiesControllerService":false,"name":"Truststore Type","sensitive":false},"SSL Protocol":{"displayName":"TLS Protocol","identifiesControllerService":false,"name":"SSL Protocol","sensitive":false},"Keystore Type":{"displayName":"Keystore Type","identifiesControllerService":false,"name":"Keystore Type","sensitive":false},"Truststore Filename":{"displayName":"Truststore Filename","identifiesControllerService":false,"name":"Truststore Filename","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Keystore Password":{"displayName":"Keystore Password","identifiesControllerService":false,"name":"Keystore Password","sensitive":true},"key-password":{"displayName":"Key Password","identifiesControllerService":false,"name":"key-password","sensitive":true},"Truststore Password":{"displayName":"Truststore Password","identifiesControllerService":false,"name":"Truststore Password","sensitive":true},"Keystore Filename":{"displayName":"Keystore Filename","identifiesControllerService":false,"name":"Keystore Filename","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false}},"scheduledState":"DISABLED","type":"org.apache.nifi.ssl.StandardRestrictedSSLContextService"},{"bulletinLevel":"WARN","bundle":{"artifact":"nifi-http-context-map-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"CONTROLLER_SERVICE","controllerServiceApis":[{"bundle":{"artifact":"nifi-standard-services-api-nar","group":"org.apache.nifi","version":"1.19.1"},"type":"org.apache.nifi.http.HttpContextMap"}],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"97b47282-fb75-3364-bcc9-4f756c66154c","instanceIdentifier":"a1c4ba72-b035-348c-8a73-6a0f4dfc4242","name":"StandardHttpContextMap","properties":{"Request Expiration":"1 min","Maximum Outstanding Requests":"5000"},"propertyDescriptors":{"Request Expiration":{"displayName":"Request Expiration","identifiesControllerService":false,"name":"Request Expiration","sensitive":false},"Maximum Outstanding Requests":{"displayName":"Maximum Outstanding Requests","identifiesControllerService":false,"name":"Maximum Outstanding Requests","sensitive":false}},"scheduledState":"DISABLED","type":"org.apache.nifi.http.StandardHttpContextMap"},{"bulletinLevel":"WARN","bundle":{"artifact":"nifi-distributed-cache-services-nar","group":"org.apache.nifi","version":"1.19.1"},"componentType":"CONTROLLER_SERVICE","controllerServiceApis":[],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"39276f58-376d-3745-baea-a4f1126a5fc3","instanceIdentifier":"7749a347-e5e3-3296-5a7a-4cc267fa3f31","name":"DistributedMapCacheServer","properties":{"Eviction Strategy":"Least Frequently Used","maximum-read-size":"1 MB","Port":"4557","Maximum Cache Entries":"10000"},"propertyDescriptors":{"Eviction Strategy":{"displayName":"Eviction Strategy","identifiesControllerService":false,"name":"Eviction Strategy","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Persistence Directory":{"displayName":"Persistence Directory","identifiesControllerService":false,"name":"Persistence Directory","sensitive":false},"maximum-read-size":{"displayName":"Maximum Read Size","identifiesControllerService":false,"name":"maximum-read-size","sensitive":false},"Port":{"displayName":"Port","identifiesControllerService":false,"name":"Port","sensitive":false},"Maximum Cache Entries":{"displayName":"Maximum Cache Entries","identifiesControllerService":false,"name":"Maximum Cache Entries","sensitive":false}},"scheduledState":"DISABLED","type":"org.apache.nifi.distributed.cache.server.map.DistributedMapCacheServer"}],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"identifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","inputPorts":[],"instanceIdentifier":"83e40a9f-0198-1000-d02e-92fe5eaf7686","labels":[],"name":"CMS Data Sync","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":648.0,"y":88.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"baac6cd5-5d41-3695-8c5d-473dc6877570","id":"a7b8e969-ce15-357e-a696-157dfaa408bb","instanceIdentifier":"8b056d2d-170a-38b9-e24e-7885b373eea7","name":"Start delete apl","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b48e119b-f6b9-33f7-833b-a361c479862e","identifier":"5ce4f3a2-90f3-374d-8b2d-9c803783143b","instanceIdentifier":"3d4150e2-4703-3ddc-228b-2e1f2a9ca4c2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isAplTable"],"source":{"comments":"","groupId":"b48e119b-f6b9-33f7-833b-a361c479862e","id":"d9677978-7bcb-3406-b0dc-dfa4e8a81cae","instanceIdentifier":"5bf628cb-3899-327b-9fff-7ff06982ef3d","name":"Check table name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","id":"d10adc4f-abe9-35d6-b0af-3c6411726924","instanceIdentifier":"19c6f1ef-8471-3f83-679c-577fc5456692","name":"Start delete response","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b48e119b-f6b9-33f7-833b-a361c479862e","identifier":"202b66d4-6dd2-3fd8-9403-5334fac1996b","instanceIdentifier":"fa255b23-cacd-394a-9cda-80ead783a1f0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["isResponseTable"],"source":{"comments":"","groupId":"b48e119b-f6b9-33f7-833b-a361c479862e","id":"d9677978-7bcb-3406-b0dc-dfa4e8a81cae","instanceIdentifier":"5bf628cb-3899-327b-9fff-7ff06982ef3d","name":"Check table name","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b48e119b-f6b9-33f7-833b-a361c479862e","id":"d9677978-7bcb-3406-b0dc-dfa4e8a81cae","instanceIdentifier":"5bf628cb-3899-327b-9fff-7ff06982ef3d","name":"Check table name","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b48e119b-f6b9-33f7-833b-a361c479862e","identifier":"ce2454ff-42f3-30bf-9ad9-231e593617c5","instanceIdentifier":"3c8ce5ff-a6eb-3370-7eff-72ae3c20ac62","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"b48e119b-f6b9-33f7-833b-a361c479862e","id":"b088d0cb-124e-36dd-8119-29fb03654384","instanceIdentifier":"a7473d07-206e-3226-16e8-d52140b60a86","name":"Start deletion","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"b48e119b-f6b9-33f7-833b-a361c479862e","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b48e119b-f6b9-33f7-833b-a361c479862e","identifier":"b088d0cb-124e-36dd-8119-29fb03654384","instanceIdentifier":"a7473d07-206e-3226-16e8-d52140b60a86","name":"Start deletion","position":{"x":500.0,"y":96.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"f7850baa-feed-3242-d7fc-a34f3a816b9a","labels":[],"name":"Delete resource","outputPorts":[],"position":{"x":176.0,"y":312.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","id":"52a06cfb-9ca5-33d6-b1e5-44a6dbfb0914","instanceIdentifier":"69f91ffa-02a9-391f-9054-612676d5c120","name":"Start delete environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"0332eb47-a2b4-3f71-908d-64005aa574d7","instanceIdentifier":"6a895fae-92b9-39b1-c3f8-b8a36f5d7b8b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","id":"f8731de1-7334-387d-a499-37fe076cdc2c","instanceIdentifier":"1c3bf310-95aa-3481-e2bd-f5b79345354b","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","id":"f8731de1-7334-387d-a499-37fe076cdc2c","instanceIdentifier":"1c3bf310-95aa-3481-e2bd-f5b79345354b","name":"Set log prefix","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"95078344-cdc4-348e-a6e2-5e2503e7ff81","instanceIdentifier":"7184ae37-dbb2-377e-51ce-5fb91530dd1a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","id":"d10adc4f-abe9-35d6-b0af-3c6411726924","instanceIdentifier":"19c6f1ef-8471-3f83-679c-577fc5456692","name":"Start delete response","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"17684ad2-fd7c-37b6-88c0-ebed9db62716","id":"0b1de231-5657-38ab-b76e-efeeca35e49e","instanceIdentifier":"270152e0-a89e-3ddb-dd82-a1e98e1c8272","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"30b9f78e-aec0-3af8-9bb4-83d71442056e","instanceIdentifier":"07a0bcf4-9ab6-3948-41c0-fefbba4edc94","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","id":"f8731de1-7334-387d-a499-37fe076cdc2c","instanceIdentifier":"1c3bf310-95aa-3481-e2bd-f5b79345354b","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"4c7a0290-b97a-35fd-9fbf-86cc86d782db","id":"e10c4715-a6b8-32d2-8fe3-d2f5fd44c32e","instanceIdentifier":"141142cb-f4ce-3066-3c1c-2bed939b4b81","name":"Start delete environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"887ce81a-78e6-33f1-a7d7-7224cc2124b2","instanceIdentifier":"9a2f9ba1-368f-30b5-26a2-2e82b9e92d23","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","id":"f8731de1-7334-387d-a499-37fe076cdc2c","instanceIdentifier":"1c3bf310-95aa-3481-e2bd-f5b79345354b","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"4e3d20a2-d860-3814-841a-c67ca1c45af3","id":"1ea76891-820f-3351-85e5-97c89fa2cb3b","instanceIdentifier":"fdc2a0f0-c630-3501-f27a-24d803e869df","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"4df3219c-8342-3986-abe5-9d0967ca9e93","instanceIdentifier":"90402758-068f-3681-749c-b4fa916e59f0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","id":"f8731de1-7334-387d-a499-37fe076cdc2c","instanceIdentifier":"1c3bf310-95aa-3481-e2bd-f5b79345354b","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b48e119b-f6b9-33f7-833b-a361c479862e","identifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"d10adc4f-abe9-35d6-b0af-3c6411726924","instanceIdentifier":"19c6f1ef-8471-3f83-679c-577fc5456692","name":"Start delete response","position":{"x":464.0,"y":-216.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"19dbbe43-6569-35b0-b453-7c54db56818f","labels":[],"name":"Delete response","outputPorts":[],"position":{"x":736.0,"y":528.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","id":"2b66bc95-bf6b-35f1-96d0-9aa92fec3e1f","instanceIdentifier":"3db8ae1d-6c51-36fd-ff07-236e33ac41a2","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"17684ad2-fd7c-37b6-88c0-ebed9db62716","identifier":"42f8fbc7-05f7-3b62-9faa-2e068ab16202","instanceIdentifier":"068155cf-2640-39c9-c66a-06c0052e3ed2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"17684ad2-fd7c-37b6-88c0-ebed9db62716","id":"0b1de231-5657-38ab-b76e-efeeca35e49e","instanceIdentifier":"270152e0-a89e-3ddb-dd82-a1e98e1c8272","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"862671d5-c702-3607-9393-27e6200b67e3","id":"4ac373e9-6b4b-3382-afb1-7c1bc378848d","instanceIdentifier":"b941cef7-4806-3c8b-3ed3-43a783829cd8","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"17684ad2-fd7c-37b6-88c0-ebed9db62716","identifier":"361b9a82-2701-34a3-9505-a3681d66b47c","instanceIdentifier":"db26ad59-54d7-3f84-e29c-9af6b9836813","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"17684ad2-fd7c-37b6-88c0-ebed9db62716","id":"0b1de231-5657-38ab-b76e-efeeca35e49e","instanceIdentifier":"270152e0-a89e-3ddb-dd82-a1e98e1c8272","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"17684ad2-fd7c-37b6-88c0-ebed9db62716","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"17684ad2-fd7c-37b6-88c0-ebed9db62716","identifier":"0b1de231-5657-38ab-b76e-efeeca35e49e","instanceIdentifier":"270152e0-a89e-3ddb-dd82-a1e98e1c8272","name":"Start delete region","position":{"x":504.0,"y":117.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"60d7c722-68c4-3713-eafc-4789f2eefc70","labels":[],"name":"E2E Environment","outputPorts":[],"position":{"x":824.0,"y":408.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"862671d5-c702-3607-9393-27e6200b67e3","id":"027c4ba5-6f32-39c1-b96c-56fb418d6022","instanceIdentifier":"b61fd0aa-3717-340b-731c-d187f13bb0da","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"862671d5-c702-3607-9393-27e6200b67e3","identifier":"f4d06995-977f-3bf4-94dc-2f236fe0a407","instanceIdentifier":"79b3ea99-f76c-30f3-a181-7ed3ae20b8a1","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"862671d5-c702-3607-9393-27e6200b67e3","id":"45c0eae2-c75e-37cf-87fd-d90bee917554","instanceIdentifier":"13466563-1fd7-3cf5-8555-c6b6189fa4e8","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"862671d5-c702-3607-9393-27e6200b67e3","id":"45c0eae2-c75e-37cf-87fd-d90bee917554","instanceIdentifier":"13466563-1fd7-3cf5-8555-c6b6189fa4e8","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"862671d5-c702-3607-9393-27e6200b67e3","identifier":"98122bea-c39a-3ee4-843c-ddb6059201c3","instanceIdentifier":"8c432ce9-6272-3f8f-8f2b-cb87a3062088","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"862671d5-c702-3607-9393-27e6200b67e3","id":"4ac373e9-6b4b-3382-afb1-7c1bc378848d","instanceIdentifier":"b941cef7-4806-3c8b-3ed3-43a783829cd8","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"17684ad2-fd7c-37b6-88c0-ebed9db62716","identifier":"862671d5-c702-3607-9393-27e6200b67e3","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"862671d5-c702-3607-9393-27e6200b67e3","identifier":"4ac373e9-6b4b-3382-afb1-7c1bc378848d","instanceIdentifier":"b941cef7-4806-3c8b-3ed3-43a783829cd8","name":"Start delete region","position":{"x":535.0,"y":244.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"cb789258-0edc-303d-b47d-00fc8c08f7e6","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-E2E","position":{"x":736.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"862671d5-c702-3607-9393-27e6200b67e3","identifier":"027c4ba5-6f32-39c1-b96c-56fb418d6022","instanceIdentifier":"b61fd0aa-3717-340b-731c-d187f13bb0da","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":479.0,"y":652.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"862671d5-c702-3607-9393-27e6200b67e3","identifier":"45c0eae2-c75e-37cf-87fd-d90bee917554","instanceIdentifier":"13466563-1fd7-3cf5-8555-c6b6189fa4e8","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":479.0,"y":412.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","id":"54225647-b950-38bb-83cf-3bca2028a6bf","instanceIdentifier":"8182c68e-37a6-3459-4336-c53afa76d36c","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","identifier":"34ea72f7-0a1f-3c5f-bbfd-1daa687712b7","instanceIdentifier":"b31c75c1-5492-3af2-9ddc-7d80729fa47e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","id":"2b66bc95-bf6b-35f1-96d0-9aa92fec3e1f","instanceIdentifier":"3db8ae1d-6c51-36fd-ff07-236e33ac41a2","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","id":"a0d83340-5a67-3c61-b5b9-72848fc60ae8","instanceIdentifier":"46b6fa76-8bc0-363b-45cc-ff862f7c5151","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","identifier":"f441aee4-ebb0-30ec-96d2-a893dd5da77a","instanceIdentifier":"8c30fe40-d1a3-33af-434c-2e8c2b77461d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","id":"54225647-b950-38bb-83cf-3bca2028a6bf","instanceIdentifier":"8182c68e-37a6-3459-4336-c53afa76d36c","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"17684ad2-fd7c-37b6-88c0-ebed9db62716","identifier":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","identifier":"2b66bc95-bf6b-35f1-96d0-9aa92fec3e1f","instanceIdentifier":"3db8ae1d-6c51-36fd-ff07-236e33ac41a2","name":"Start delete region","position":{"x":510.0,"y":136.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"333e11c5-ff0b-36db-47fa-e46ebeacbc5c","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-E2E","position":{"x":168.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","identifier":"54225647-b950-38bb-83cf-3bca2028a6bf","instanceIdentifier":"8182c68e-37a6-3459-4336-c53afa76d36c","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":454.0,"y":304.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"e96c7a17-adb6-3afc-8eec-8a6aa0b5c2dd","identifier":"a0d83340-5a67-3c61-b5b9-72848fc60ae8","instanceIdentifier":"46b6fa76-8bc0-363b-45cc-ff862f7c5151","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":454.0,"y":544.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","id":"de03e60c-0755-36bd-9631-8871e9bdff44","instanceIdentifier":"8a33a591-c870-3b06-bca3-444844b6a679","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","identifier":"783981ab-d379-3e06-ba46-75d49f62493b","instanceIdentifier":"dbcb6992-1628-35ae-48a4-289193cfc607","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","id":"52a06cfb-9ca5-33d6-b1e5-44a6dbfb0914","instanceIdentifier":"69f91ffa-02a9-391f-9054-612676d5c120","name":"Start delete environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"fca55271-0561-32e8-a5ce-1c97cb919446","id":"e64620db-05ee-3ae8-b3f5-36dea8a88122","instanceIdentifier":"ba3e565e-9451-3a07-335f-cde6e06f1fd4","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","identifier":"2d52a21e-365d-3719-b69b-e41e241fd0fb","instanceIdentifier":"61ea74c0-7d5e-3a44-7c1b-09c012661611","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","id":"52a06cfb-9ca5-33d6-b1e5-44a6dbfb0914","instanceIdentifier":"69f91ffa-02a9-391f-9054-612676d5c120","name":"Start delete environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","identifier":"52a06cfb-9ca5-33d6-b1e5-44a6dbfb0914","instanceIdentifier":"69f91ffa-02a9-391f-9054-612676d5c120","name":"Start delete environment","position":{"x":465.0,"y":119.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"ec0dad27-5785-3086-d801-0c3fceddb033","labels":[],"name":"INT Environment","outputPorts":[],"position":{"x":232.0,"y":400.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fca55271-0561-32e8-a5ce-1c97cb919446","id":"5edd074c-1d14-3920-bcf3-4ffbdd0bc39d","instanceIdentifier":"0fd076a6-0a80-3d13-4249-3aff801289fa","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fca55271-0561-32e8-a5ce-1c97cb919446","identifier":"053af372-cb33-3bb2-acbe-8ea573a39a7a","instanceIdentifier":"3bc38fe9-fb12-30f2-60d7-8cf0f0a2b0b5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"fca55271-0561-32e8-a5ce-1c97cb919446","id":"e64620db-05ee-3ae8-b3f5-36dea8a88122","instanceIdentifier":"ba3e565e-9451-3a07-335f-cde6e06f1fd4","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fca55271-0561-32e8-a5ce-1c97cb919446","id":"397d61a6-9b14-316f-a963-edef127254e9","instanceIdentifier":"cea9c70a-5ca6-3622-bff9-f5a08f163c57","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"fca55271-0561-32e8-a5ce-1c97cb919446","identifier":"39695052-1026-30a1-b130-414588c29255","instanceIdentifier":"3ed85545-06bb-3ed3-f524-483f369812e0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"fca55271-0561-32e8-a5ce-1c97cb919446","id":"5edd074c-1d14-3920-bcf3-4ffbdd0bc39d","instanceIdentifier":"0fd076a6-0a80-3d13-4249-3aff801289fa","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","identifier":"fca55271-0561-32e8-a5ce-1c97cb919446","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"fca55271-0561-32e8-a5ce-1c97cb919446","identifier":"e64620db-05ee-3ae8-b3f5-36dea8a88122","instanceIdentifier":"ba3e565e-9451-3a07-335f-cde6e06f1fd4","name":"Start delete region","position":{"x":485.0,"y":150.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"d7560cd8-b842-3fb5-cfb1-0bed15a0dbaf","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-INT","position":{"x":56.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"fca55271-0561-32e8-a5ce-1c97cb919446","identifier":"5edd074c-1d14-3920-bcf3-4ffbdd0bc39d","instanceIdentifier":"0fd076a6-0a80-3d13-4249-3aff801289fa","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":429.0,"y":318.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"fca55271-0561-32e8-a5ce-1c97cb919446","identifier":"397d61a6-9b14-316f-a963-edef127254e9","instanceIdentifier":"cea9c70a-5ca6-3622-bff9-f5a08f163c57","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":429.0,"y":558.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","id":"a3f0fbde-883e-3b69-bb7b-890039a26e80","instanceIdentifier":"1503ac12-d7bb-32e8-e044-9f26ab84e9f2","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","identifier":"d0e2cd78-bd92-3667-bbbe-0bdc286ec925","instanceIdentifier":"0a72ef37-ea74-3f24-b460-7df5bdef297d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","id":"de03e60c-0755-36bd-9631-8871e9bdff44","instanceIdentifier":"8a33a591-c870-3b06-bca3-444844b6a679","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","id":"e501963e-2e0e-31bc-a722-d06afe060b01","instanceIdentifier":"d5477990-d2d3-39cf-457a-f4bbdb4099e4","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","identifier":"4cb18ae9-adc4-3764-976f-8377bac30b21","instanceIdentifier":"10964739-c207-32a0-2144-5c228ac9e520","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","id":"a3f0fbde-883e-3b69-bb7b-890039a26e80","instanceIdentifier":"1503ac12-d7bb-32e8-e044-9f26ab84e9f2","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"9e6045b5-856b-3153-b30a-d7ee1eee7f9c","identifier":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","identifier":"de03e60c-0755-36bd-9631-8871e9bdff44","instanceIdentifier":"8a33a591-c870-3b06-bca3-444844b6a679","name":"Start delete region","position":{"x":538.0,"y":154.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"70293529-6a47-3f23-e3c2-645728ef8fcf","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-INT","position":{"x":744.0,"y":320.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","identifier":"a3f0fbde-883e-3b69-bb7b-890039a26e80","instanceIdentifier":"1503ac12-d7bb-32e8-e044-9f26ab84e9f2","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":482.0,"y":322.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"1b2a4f33-5dc4-384b-92cf-6eafcaaeea29","identifier":"e501963e-2e0e-31bc-a722-d06afe060b01","instanceIdentifier":"d5477990-d2d3-39cf-457a-f4bbdb4099e4","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":482.0,"y":562.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"8849d516-bd5f-3722-ba9d-fdad4053e616","id":"05b63fae-55c2-3681-9a62-b5207962eb46","instanceIdentifier":"cecf5c77-3ec5-386d-ad76-8035c8734f93","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4e3d20a2-d860-3814-841a-c67ca1c45af3","identifier":"6abf95b4-d7fd-3fba-9d7d-03824d167883","instanceIdentifier":"21f16798-9da1-3a18-0d50-7ddb36b7e5bd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"4e3d20a2-d860-3814-841a-c67ca1c45af3","id":"1ea76891-820f-3351-85e5-97c89fa2cb3b","instanceIdentifier":"fdc2a0f0-c630-3501-f27a-24d803e869df","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"dafac22e-55a6-3581-aa2d-7a2a4282101e","id":"27982a93-ece9-3df5-904f-98f8d8d9289f","instanceIdentifier":"ce20d8ee-02b7-37e3-9483-909a4ebd6f13","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4e3d20a2-d860-3814-841a-c67ca1c45af3","identifier":"48d174e9-9cfc-36e3-9943-634fce4cef02","instanceIdentifier":"c0e70a20-9a12-31f1-1523-c595c9dbb685","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"4e3d20a2-d860-3814-841a-c67ca1c45af3","id":"1ea76891-820f-3351-85e5-97c89fa2cb3b","instanceIdentifier":"fdc2a0f0-c630-3501-f27a-24d803e869df","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"4e3d20a2-d860-3814-841a-c67ca1c45af3","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"4e3d20a2-d860-3814-841a-c67ca1c45af3","identifier":"1ea76891-820f-3351-85e5-97c89fa2cb3b","instanceIdentifier":"fdc2a0f0-c630-3501-f27a-24d803e869df","name":"Start delete region","position":{"x":504.0,"y":117.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"48724111-b673-3306-3410-a01f5e620802","labels":[],"name":"PROD Environment","outputPorts":[],"position":{"x":1040.0,"y":128.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"dafac22e-55a6-3581-aa2d-7a2a4282101e","id":"f41bb720-ba0a-327c-bb4c-1d67fd7c1296","instanceIdentifier":"5caa2e54-bf49-30a3-daa5-fb1b41667e7b","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"dafac22e-55a6-3581-aa2d-7a2a4282101e","identifier":"0ae45185-4899-38b9-8d86-d4b69c8bbf17","instanceIdentifier":"d8a15299-4e2b-3a8f-618d-ea4ff0863e3b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"dafac22e-55a6-3581-aa2d-7a2a4282101e","id":"27982a93-ece9-3df5-904f-98f8d8d9289f","instanceIdentifier":"ce20d8ee-02b7-37e3-9483-909a4ebd6f13","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"dafac22e-55a6-3581-aa2d-7a2a4282101e","id":"ae68cdfd-ce13-3f0d-9c40-bc548a65a95b","instanceIdentifier":"29c739e3-2e48-3e03-41b8-d2a3df7fe953","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"dafac22e-55a6-3581-aa2d-7a2a4282101e","identifier":"ee5bf808-6b7b-34af-95ad-2c4bdb34b18f","instanceIdentifier":"d903a3bb-453b-3eeb-e255-6d46818a9de5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"dafac22e-55a6-3581-aa2d-7a2a4282101e","id":"f41bb720-ba0a-327c-bb4c-1d67fd7c1296","instanceIdentifier":"5caa2e54-bf49-30a3-daa5-fb1b41667e7b","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4e3d20a2-d860-3814-841a-c67ca1c45af3","identifier":"dafac22e-55a6-3581-aa2d-7a2a4282101e","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"dafac22e-55a6-3581-aa2d-7a2a4282101e","identifier":"27982a93-ece9-3df5-904f-98f8d8d9289f","instanceIdentifier":"ce20d8ee-02b7-37e3-9483-909a4ebd6f13","name":"Start delete region","position":{"x":535.0,"y":244.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"488a4193-2a60-388d-ed64-8a0e3fb0f43c","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-PROD","position":{"x":776.0,"y":328.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"dafac22e-55a6-3581-aa2d-7a2a4282101e","identifier":"f41bb720-ba0a-327c-bb4c-1d67fd7c1296","instanceIdentifier":"5caa2e54-bf49-30a3-daa5-fb1b41667e7b","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":479.0,"y":412.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"dafac22e-55a6-3581-aa2d-7a2a4282101e","identifier":"ae68cdfd-ce13-3f0d-9c40-bc548a65a95b","instanceIdentifier":"29c739e3-2e48-3e03-41b8-d2a3df7fe953","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":479.0,"y":652.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8849d516-bd5f-3722-ba9d-fdad4053e616","id":"4751a4ea-7981-3b1c-86bc-081bc7101050","instanceIdentifier":"e769abe6-df8d-3aeb-fd2c-d5ba08a6e71e","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8849d516-bd5f-3722-ba9d-fdad4053e616","identifier":"5b2caadd-d214-30ec-a1fa-cbe304dc2229","instanceIdentifier":"b9e232e6-d8e4-3b95-5fab-b27a112bc225","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"8849d516-bd5f-3722-ba9d-fdad4053e616","id":"9ae060de-7354-3eea-bb41-0376e10b0be8","instanceIdentifier":"6b9cea68-c3c5-3114-f562-1fa05c78ca93","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"8849d516-bd5f-3722-ba9d-fdad4053e616","id":"9ae060de-7354-3eea-bb41-0376e10b0be8","instanceIdentifier":"6b9cea68-c3c5-3114-f562-1fa05c78ca93","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"8849d516-bd5f-3722-ba9d-fdad4053e616","identifier":"d6a6ca68-1d01-370c-b38d-b3dff13db8c4","instanceIdentifier":"adce403d-a64b-3bee-7376-d1b64a955c25","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"8849d516-bd5f-3722-ba9d-fdad4053e616","id":"05b63fae-55c2-3681-9a62-b5207962eb46","instanceIdentifier":"cecf5c77-3ec5-386d-ad76-8035c8734f93","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4e3d20a2-d860-3814-841a-c67ca1c45af3","identifier":"8849d516-bd5f-3722-ba9d-fdad4053e616","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"8849d516-bd5f-3722-ba9d-fdad4053e616","identifier":"05b63fae-55c2-3681-9a62-b5207962eb46","instanceIdentifier":"cecf5c77-3ec5-386d-ad76-8035c8734f93","name":"Start delete region","position":{"x":510.0,"y":136.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"2e9b35e1-cbb7-33a8-9edf-601bcd81b09b","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-PROD","position":{"x":120.0,"y":336.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8849d516-bd5f-3722-ba9d-fdad4053e616","identifier":"4751a4ea-7981-3b1c-86bc-081bc7101050","instanceIdentifier":"e769abe6-df8d-3aeb-fd2c-d5ba08a6e71e","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":454.0,"y":544.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8849d516-bd5f-3722-ba9d-fdad4053e616","identifier":"9ae060de-7354-3eea-bb41-0376e10b0be8","instanceIdentifier":"6b9cea68-c3c5-3114-f562-1fa05c78ca93","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":454.0,"y":304.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","id":"d91e95c4-2fb5-365b-94ba-420db12c406c","instanceIdentifier":"5f428feb-d0c3-3c69-ef97-bfeaa190bee2","name":"Start delete region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"4c7a0290-b97a-35fd-9fbf-86cc86d782db","identifier":"62fd52b2-8367-36c1-97de-b93e9f1abdf3","instanceIdentifier":"d88509e2-c8c5-3984-1ffe-f998949cdfc3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"4c7a0290-b97a-35fd-9fbf-86cc86d782db","id":"e10c4715-a6b8-32d2-8fe3-d2f5fd44c32e","instanceIdentifier":"141142cb-f4ce-3066-3c1c-2bed939b4b81","name":"Start delete environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"4c7a0290-b97a-35fd-9fbf-86cc86d782db","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"4c7a0290-b97a-35fd-9fbf-86cc86d782db","identifier":"e10c4715-a6b8-32d2-8fe3-d2f5fd44c32e","instanceIdentifier":"141142cb-f4ce-3066-3c1c-2bed939b4b81","name":"Start delete environment","position":{"x":370.0,"y":96.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"dd239615-5c96-3235-a418-21ee6f1b89b3","labels":[],"name":"TEST Environment","outputPorts":[],"position":{"x":-192.0,"y":208.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","id":"6d509a1d-0dc7-3eb6-9405-faa167795d0f","instanceIdentifier":"7df445da-9fff-3a31-0717-71997096ea43","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","identifier":"4cb99234-a9bd-3926-80e2-089edcac3c3c","instanceIdentifier":"6aa58702-cbdc-382c-6cea-41ceae126bfd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","id":"7fe5eecf-feba-3447-a9bc-755ca826db9c","instanceIdentifier":"d9437502-d4cd-3bbd-73b3-0d5b74021e47","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","id":"7fe5eecf-feba-3447-a9bc-755ca826db9c","instanceIdentifier":"d9437502-d4cd-3bbd-73b3-0d5b74021e47","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","identifier":"5bf96e5d-4955-33a4-b583-63ed53959604","instanceIdentifier":"0681ea9d-3210-33db-a8ce-abdb83d997e7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","id":"d91e95c4-2fb5-365b-94ba-420db12c406c","instanceIdentifier":"5f428feb-d0c3-3c69-ef97-bfeaa190bee2","name":"Start delete region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"4c7a0290-b97a-35fd-9fbf-86cc86d782db","identifier":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","identifier":"d91e95c4-2fb5-365b-94ba-420db12c406c","instanceIdentifier":"5f428feb-d0c3-3c69-ef97-bfeaa190bee2","name":"Start delete region","position":{"x":392.0,"y":96.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"530e904e-2480-3ace-0a52-fa68c82d1aa5","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-TEST","position":{"x":296.0,"y":264.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","identifier":"7fe5eecf-feba-3447-a9bc-755ca826db9c","instanceIdentifier":"d9437502-d4cd-3bbd-73b3-0d5b74021e47","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":336.0,"y":264.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-responses","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9747bb1e-6dd2-3b0c-bbce-d2bf0361db89","identifier":"6d509a1d-0dc7-3eb6-9405-faa167795d0f","instanceIdentifier":"7df445da-9fff-3a31-0717-71997096ea43","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":336.0,"y":504.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"4adb64c6-e9cf-3e2b-89fc-f9c3ce995676","identifier":"f8731de1-7334-387d-a499-37fe076cdc2c","instanceIdentifier":"1c3bf310-95aa-3481-e2bd-f5b79345354b","maxBackoffPeriod":"10 mins","name":"Set log prefix","penaltyDuration":"30 sec","position":{"x":408.0,"y":-56.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"RESPONSE.DELETE"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"baac6cd5-5d41-3695-8c5d-473dc6877570","id":"2cae1680-6e6a-3501-b55d-018773a7168e","instanceIdentifier":"8e640772-629b-33b3-9927-fb250fc8ee68","name":"Set log prefix","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"79ec2e0a-889c-35e8-9f1a-7e798b4afac3","instanceIdentifier":"861bd331-2843-38df-765c-c33457baceb4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"baac6cd5-5d41-3695-8c5d-473dc6877570","id":"a7b8e969-ce15-357e-a696-157dfaa408bb","instanceIdentifier":"8b056d2d-170a-38b9-e24e-7885b373eea7","name":"Start delete apl","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9897ced4-0c7a-3f12-8907-31fae41d43a7","id":"3b8fc406-e3c0-38b5-838c-baf368f452f0","instanceIdentifier":"686f6010-cb0f-38d4-81e9-fb46524f290f","name":"Delete APL environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"c3b8b951-1d04-38d0-8c8c-43982d60e990","instanceIdentifier":"3646ae2c-a76c-3689-a03b-e30538ff635a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"baac6cd5-5d41-3695-8c5d-473dc6877570","id":"2cae1680-6e6a-3501-b55d-018773a7168e","instanceIdentifier":"8e640772-629b-33b3-9927-fb250fc8ee68","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f810593b-446c-30d0-ac10-333090ccd3c4","id":"3b59dd4b-de9e-338c-b791-9fd10c45ee04","instanceIdentifier":"fbf27377-af96-3a70-a1a0-2a5bafa4da8f","name":"Delete APL environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"54ec3206-3001-3dc4-a5cb-68043654b9ff","instanceIdentifier":"bd167e9d-fcd2-3e1d-2751-46b258a851a3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"baac6cd5-5d41-3695-8c5d-473dc6877570","id":"2cae1680-6e6a-3501-b55d-018773a7168e","instanceIdentifier":"8e640772-629b-33b3-9927-fb250fc8ee68","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"fbf49b6d-e779-3bba-88dd-4f6bd284ec6c","id":"62413e25-8d97-3cb8-a1b9-e4cda23bf490","instanceIdentifier":"90a0f350-fdc4-31a1-cbe9-2444ef4e60e4","name":"Delete APL environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"599c3e64-6e5c-3e80-95af-1dafb8ebc4f3","instanceIdentifier":"e315c1cb-a731-3305-aaaa-4d3c2ca6632e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"baac6cd5-5d41-3695-8c5d-473dc6877570","id":"2cae1680-6e6a-3501-b55d-018773a7168e","instanceIdentifier":"8e640772-629b-33b3-9927-fb250fc8ee68","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d03799fe-19fe-3607-b023-934ca73157e2","id":"445a4d96-d7d3-3234-becd-6d28e067d564","instanceIdentifier":"1a4fc46b-a0bd-31d5-b7a5-d124d68e7371","name":"Delete APL environment","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"3082e527-6b76-374a-8656-6b5d77b2eb87","instanceIdentifier":"7bab28fc-be3a-371d-0b49-7b07e2685fc8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"baac6cd5-5d41-3695-8c5d-473dc6877570","id":"2cae1680-6e6a-3501-b55d-018773a7168e","instanceIdentifier":"8e640772-629b-33b3-9927-fb250fc8ee68","name":"Set log prefix","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b48e119b-f6b9-33f7-833b-a361c479862e","identifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"a7b8e969-ce15-357e-a696-157dfaa408bb","instanceIdentifier":"8b056d2d-170a-38b9-e24e-7885b373eea7","name":"Start delete apl","position":{"x":466.0,"y":95.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"505eba5c-269e-3e37-65d4-051996861a2d","labels":[],"name":"Delete APL","outputPorts":[],"position":{"x":144.0,"y":536.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"0411a4af-9086-31e5-81f9-2adfe02cbdc8","instanceIdentifier":"8ae80bcd-6936-3f2b-e605-c94e4af1adcc","name":"Delete APL region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d03799fe-19fe-3607-b023-934ca73157e2","identifier":"e881dc60-6786-3575-82b9-26d1a9068cca","instanceIdentifier":"247eeab9-fb2d-3de3-9227-58c286b01b78","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d03799fe-19fe-3607-b023-934ca73157e2","id":"445a4d96-d7d3-3234-becd-6d28e067d564","instanceIdentifier":"1a4fc46b-a0bd-31d5-b7a5-d124d68e7371","name":"Delete APL environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"04ce98fc-de04-372e-b02f-4548ea7e4262","instanceIdentifier":"c937381c-d389-3a75-18c3-9a1747d05269","name":"Delete APL region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"d03799fe-19fe-3607-b023-934ca73157e2","identifier":"a111fe43-09c9-3c5c-a5e9-c1c134b1be08","instanceIdentifier":"caf13c92-3a6b-3618-ac3e-50ba6c0ceea2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d03799fe-19fe-3607-b023-934ca73157e2","id":"445a4d96-d7d3-3234-becd-6d28e067d564","instanceIdentifier":"1a4fc46b-a0bd-31d5-b7a5-d124d68e7371","name":"Delete APL environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"d03799fe-19fe-3607-b023-934ca73157e2","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d03799fe-19fe-3607-b023-934ca73157e2","identifier":"445a4d96-d7d3-3234-becd-6d28e067d564","instanceIdentifier":"1a4fc46b-a0bd-31d5-b7a5-d124d68e7371","name":"Delete APL environment","position":{"x":408.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"10a3ed17-6869-3b36-c087-0a94155b247c","labels":[],"name":"PROD Environment","outputPorts":[],"position":{"x":1088.0,"y":248.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"53c65be6-bdd7-308f-a2f9-ca203c16ba99","instanceIdentifier":"6d8523ab-40b9-30ea-443f-86f08721ed18","name":"Start delete content","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"ecf6d2e0-28e3-31cb-9699-6b34e6492792","instanceIdentifier":"5d612224-7109-3c99-af1e-13603b41c212","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"3b870b1e-6cdb-30dd-8610-0b8306addfc2","instanceIdentifier":"22cc2099-c282-3bd5-b4aa-c804df3b599f","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"ac59a477-e78b-31aa-9194-62ebbb38175a","id":"d8eabedb-feed-390e-acf4-bad3fa0fbb96","instanceIdentifier":"b13eec76-c3bb-3da5-277f-5e521566bcd4","name":"Start delete metadata","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"fbc4e17b-d415-3102-9bcb-5ecaa7bf7ceb","instanceIdentifier":"603fc3af-2da6-33ab-39be-6602a4a1c71c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"3b870b1e-6cdb-30dd-8610-0b8306addfc2","instanceIdentifier":"22cc2099-c282-3bd5-b4aa-c804df3b599f","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"3b870b1e-6cdb-30dd-8610-0b8306addfc2","instanceIdentifier":"22cc2099-c282-3bd5-b4aa-c804df3b599f","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"ec6d983c-fcf3-37e5-bdf7-cb8848567261","instanceIdentifier":"a2025d92-9a63-3891-f0d5-9e93b1a6af92","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"04ce98fc-de04-372e-b02f-4548ea7e4262","instanceIdentifier":"c937381c-d389-3a75-18c3-9a1747d05269","name":"Delete APL region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"fd8f1ca0-f943-3519-aaa2-5cbfc4d9952c","instanceIdentifier":"7818b911-bfcf-3e30-c036-7c74fde472ec","name":"Log content not found","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"0dc2c2f0-75dc-34e4-b8bc-93ac157ceda9","instanceIdentifier":"3923ae8d-5718-30e3-fcb2-135c3bae3517","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["not found"],"source":{"comments":"","groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"3b870b1e-6cdb-30dd-8610-0b8306addfc2","instanceIdentifier":"22cc2099-c282-3bd5-b4aa-c804df3b599f","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"8d22872f-f9b9-394a-b3d9-2dcfde28ad31","instanceIdentifier":"7fab84cc-25d3-3a99-1380-2a5c9c9c1ed2","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"cd8799b4-c241-32a7-88da-d6c9782d0d08","instanceIdentifier":"1d1ffec4-60e6-3964-e205-2829ce862dda","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"c48541f8-33f6-36e0-9644-c4e3c826da74","id":"3b870b1e-6cdb-30dd-8610-0b8306addfc2","instanceIdentifier":"22cc2099-c282-3bd5-b4aa-c804df3b599f","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d03799fe-19fe-3607-b023-934ca73157e2","identifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"04ce98fc-de04-372e-b02f-4548ea7e4262","instanceIdentifier":"c937381c-d389-3a75-18c3-9a1747d05269","name":"Delete APL region","position":{"x":544.0,"y":272.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"bc2abbca-7ef3-3f5e-dedf-724114489235","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-PROD","position":{"x":664.0,"y":256.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"3665ade0-59bf-3f87-a6ad-739e423e2352","instanceIdentifier":"05711df7-6385-39aa-cec8-4b64c4ed3294","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"a00fff65-f53b-3bc8-a901-5674eb465c26","instanceIdentifier":"5271aab0-a15c-3153-64ad-bef9de598309","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"7d4611b4-c7aa-346a-95b8-ac436b8bc858","instanceIdentifier":"df67d7f4-d439-3963-bf41-653847a87a0f","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"b978effd-34e3-342a-8482-1353b836fd27","instanceIdentifier":"38d2ae0a-df0d-3ae1-90fe-73c55376d61a","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"b7260fd9-8d7f-3855-8dd9-79741eac4a06","instanceIdentifier":"b0432a33-9bcc-373f-8e68-2da6261d135c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"cf45d5a8-f196-3f86-ba31-de697ab76a90","instanceIdentifier":"eb1c2921-b9ec-33ff-ad1a-db381079378a","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"cf45d5a8-f196-3f86-ba31-de697ab76a90","instanceIdentifier":"eb1c2921-b9ec-33ff-ad1a-db381079378a","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"c356f334-e59c-3251-b0c0-5b50eb213743","instanceIdentifier":"80bf8718-0164-3553-ef3f-e5d03d010b07","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"7d4611b4-c7aa-346a-95b8-ac436b8bc858","instanceIdentifier":"df67d7f4-d439-3963-bf41-653847a87a0f","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"bc618329-54ea-3df7-9fe9-cd1ecd8f91a4","instanceIdentifier":"79115e74-b3a2-39a3-5cd8-390e9e567a9f","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"cbdc38ec-d986-3873-8b4a-3784b5e03300","instanceIdentifier":"fd2f27d0-4b91-3d09-1e63-66eacc0e7f26","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"38aa674e-2bc3-358b-97ae-6e26683d94ed","instanceIdentifier":"47eba6a2-2315-3482-de61-e142b2af4f0e","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"7d4611b4-c7aa-346a-95b8-ac436b8bc858","instanceIdentifier":"df67d7f4-d439-3963-bf41-653847a87a0f","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"b8dd62fe-aacb-327a-95b4-5382bde6b4a4","instanceIdentifier":"0c4fdd0a-9a7d-3017-0d9a-50f3ef1a6df3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"53c65be6-bdd7-308f-a2f9-ca203c16ba99","instanceIdentifier":"6d8523ab-40b9-30ea-443f-86f08721ed18","name":"Start delete content","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"3665ade0-59bf-3f87-a6ad-739e423e2352","instanceIdentifier":"05711df7-6385-39aa-cec8-4b64c4ed3294","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"e16c4669-6726-3e82-9a4a-1c164378d64f","instanceIdentifier":"44af4562-fb35-307b-2318-0470f434a8ca","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"cf45d5a8-f196-3f86-ba31-de697ab76a90","instanceIdentifier":"eb1c2921-b9ec-33ff-ad1a-db381079378a","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"3665ade0-59bf-3f87-a6ad-739e423e2352","instanceIdentifier":"05711df7-6385-39aa-cec8-4b64c4ed3294","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"4febc79a-1c6a-339c-afcd-ce40c1f8efc1","instanceIdentifier":"e6506914-e901-3d85-5417-66d082c44791","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"b978effd-34e3-342a-8482-1353b836fd27","instanceIdentifier":"38d2ae0a-df0d-3ae1-90fe-73c55376d61a","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"f40b6d20-64d0-3293-a445-0824179c44fa","instanceIdentifier":"8f291eae-df7d-31e5-164d-063345beb52f","name":"Log failure deleting content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"c4277783-d46a-3c2b-9a60-91e7d19486f4","instanceIdentifier":"d9bc7c3e-b075-31a2-54ec-82fb02ae199c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"bc618329-54ea-3df7-9fe9-cd1ecd8f91a4","instanceIdentifier":"79115e74-b3a2-39a3-5cd8-390e9e567a9f","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"38aa674e-2bc3-358b-97ae-6e26683d94ed","instanceIdentifier":"47eba6a2-2315-3482-de61-e142b2af4f0e","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"780953f9-eeba-38d6-9483-2bb58f7f008c","instanceIdentifier":"8adce375-d14a-30e9-a453-896670c98569","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","id":"b978effd-34e3-342a-8482-1353b836fd27","instanceIdentifier":"38d2ae0a-df0d-3ae1-90fe-73c55376d61a","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"53c65be6-bdd7-308f-a2f9-ca203c16ba99","instanceIdentifier":"6d8523ab-40b9-30ea-443f-86f08721ed18","name":"Start delete content","position":{"x":376.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"0073d9f2-1093-3ff6-ec65-fd8c05682164","labels":[],"name":"Delete content","outputPorts":[],"parameterContextName":"NA-PROD","position":{"x":968.0,"y":696.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"38aa674e-2bc3-358b-97ae-6e26683d94ed","instanceIdentifier":"47eba6a2-2315-3482-de61-e142b2af4f0e","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":344.0,"y":936.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"f40b6d20-64d0-3293-a445-0824179c44fa","instanceIdentifier":"8f291eae-df7d-31e5-164d-063345beb52f","maxBackoffPeriod":"10 mins","name":"Log failure deleting content","penaltyDuration":"30 sec","position":{"x":1024.0,"y":1152.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"3665ade0-59bf-3f87-a6ad-739e423e2352","instanceIdentifier":"05711df7-6385-39aa-cec8-4b64c4ed3294","maxBackoffPeriod":"10 mins","name":"Log failure processing content","penaltyDuration":"30 sec","position":{"x":1040.0,"y":445.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"bc618329-54ea-3df7-9fe9-cd1ecd8f91a4","instanceIdentifier":"79115e74-b3a2-39a3-5cd8-390e9e567a9f","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":344.0,"y":1160.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"7d4611b4-c7aa-346a-95b8-ac436b8bc858","instanceIdentifier":"df67d7f4-d439-3963-bf41-653847a87a0f","maxBackoffPeriod":"10 mins","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":344.0,"y":224.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"b978effd-34e3-342a-8482-1353b836fd27","instanceIdentifier":"38d2ae0a-df0d-3ae1-90fe-73c55376d61a","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":344.0,"y":712.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"9ac80eac-9ecd-3426-b365-e614f8dee2ce","identifier":"cf45d5a8-f196-3f86-ba31-de697ab76a90","instanceIdentifier":"eb1c2921-b9ec-33ff-ad1a-db381079378a","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":352.0,"y":464.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ac59a477-e78b-31aa-9194-62ebbb38175a","id":"9ddba80c-fc92-399a-ae30-63c9a0799521","instanceIdentifier":"869e9671-a0a7-320c-a426-0e401b66e63b","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ac59a477-e78b-31aa-9194-62ebbb38175a","identifier":"156f9d0a-6b61-3eb5-838d-6c3aca372176","instanceIdentifier":"9c428f64-7681-3eaf-fa40-2c9d47e00937","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ac59a477-e78b-31aa-9194-62ebbb38175a","id":"65432b15-5b7e-3027-9912-20cc686bbc6c","instanceIdentifier":"62a1fe68-1491-35a6-e914-75399b0ca080","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ac59a477-e78b-31aa-9194-62ebbb38175a","id":"65432b15-5b7e-3027-9912-20cc686bbc6c","instanceIdentifier":"62a1fe68-1491-35a6-e914-75399b0ca080","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ac59a477-e78b-31aa-9194-62ebbb38175a","identifier":"740ac4a3-12f4-3c8e-be07-1dad6b2c4134","instanceIdentifier":"eeeb5223-df16-3f28-b46f-9549c91de9f2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"ac59a477-e78b-31aa-9194-62ebbb38175a","id":"d8eabedb-feed-390e-acf4-bad3fa0fbb96","instanceIdentifier":"b13eec76-c3bb-3da5-277f-5e521566bcd4","name":"Start delete metadata","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ac59a477-e78b-31aa-9194-62ebbb38175a","id":"c184e2be-8ae2-32e3-928a-6ffca847b7a8","instanceIdentifier":"6ccd0c5a-86aa-382a-9977-055e63f0a2b7","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ac59a477-e78b-31aa-9194-62ebbb38175a","identifier":"8679c81d-f5fc-3bc3-8015-9d0c4ff7cff6","instanceIdentifier":"83c2ecb8-8027-32d7-7797-984fadf02256","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"ac59a477-e78b-31aa-9194-62ebbb38175a","id":"9ddba80c-fc92-399a-ae30-63c9a0799521","instanceIdentifier":"869e9671-a0a7-320c-a426-0e401b66e63b","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"ac59a477-e78b-31aa-9194-62ebbb38175a","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"ac59a477-e78b-31aa-9194-62ebbb38175a","identifier":"d8eabedb-feed-390e-acf4-bad3fa0fbb96","instanceIdentifier":"b13eec76-c3bb-3da5-277f-5e521566bcd4","name":"Start delete metadata","position":{"x":421.0,"y":99.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"c335a8af-4916-3580-19e0-080c0d696911","labels":[],"name":"Delete metadata","outputPorts":[],"parameterContextName":"NA-PROD","position":{"x":-8.0,"y":704.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ac59a477-e78b-31aa-9194-62ebbb38175a","identifier":"c184e2be-8ae2-32e3-928a-6ffca847b7a8","instanceIdentifier":"6ccd0c5a-86aa-382a-9977-055e63f0a2b7","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1008.0,"y":336.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ac59a477-e78b-31aa-9194-62ebbb38175a","identifier":"9ddba80c-fc92-399a-ae30-63c9a0799521","instanceIdentifier":"869e9671-a0a7-320c-a426-0e401b66e63b","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ac59a477-e78b-31aa-9194-62ebbb38175a","identifier":"65432b15-5b7e-3027-9912-20cc686bbc6c","instanceIdentifier":"62a1fe68-1491-35a6-e914-75399b0ca080","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":376.0,"y":264.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"3b870b1e-6cdb-30dd-8610-0b8306addfc2","instanceIdentifier":"22cc2099-c282-3bd5-b4aa-c804df3b599f","maxBackoffPeriod":"2 mins","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":488.0,"y":440.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"fd8f1ca0-f943-3519-aaa2-5cbfc4d9952c","instanceIdentifier":"7818b911-bfcf-3e30-c036-7c74fde472ec","maxBackoffPeriod":"10 mins","name":"Log content not found","penaltyDuration":"30 sec","position":{"x":1216.0,"y":152.0},"properties":{"log-message":"\"${responseKey}\" was not found in metadata for table \"#{dynamodb_table_prefix}-apl-metadata\"","log-level":"warn","log-prefix":"[${log.prefix}.${responseKey}.FailureAttribute]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ffe74c"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c48541f8-33f6-36e0-9644-c4e3c826da74","identifier":"8d22872f-f9b9-394a-b3d9-2dcfde28ad31","instanceIdentifier":"7fab84cc-25d3-3a99-1380-2a5c9c9c1ed2","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1224.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"dd92eb07-97de-38fa-b202-aebdab07e4fd","instanceIdentifier":"dbb97cee-c802-3585-c216-9b05b9b7011d","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"eac32e41-56db-3059-acfc-f74a3bb1987e","instanceIdentifier":"0aa3d1d2-4289-3b88-9a6b-a76b6e98ce17","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"664ebf7f-b1dd-3b51-931e-61c781f2dfad","instanceIdentifier":"92ea7847-fdef-31ff-0163-41eb784a4e38","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"664ebf7f-b1dd-3b51-931e-61c781f2dfad","instanceIdentifier":"92ea7847-fdef-31ff-0163-41eb784a4e38","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"f6b5f78c-991a-33c4-8154-92ad7f623b68","instanceIdentifier":"004db7cf-55be-3a19-1c3a-e6cbb589a994","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"0411a4af-9086-31e5-81f9-2adfe02cbdc8","instanceIdentifier":"8ae80bcd-6936-3f2b-e605-c94e4af1adcc","name":"Delete APL region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"07171f63-db72-35ae-af09-3aca78ca57fe","id":"cabbe100-095b-3408-a8a5-e395b72b6041","instanceIdentifier":"28678e69-1e6f-31d2-b400-c6e5970880d8","name":"Start delete metadata","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"fe550187-13cb-36af-80a7-9a913ebfd331","instanceIdentifier":"94d25216-e16e-30c5-84a1-81f39d3b8a03","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"664ebf7f-b1dd-3b51-931e-61c781f2dfad","instanceIdentifier":"92ea7847-fdef-31ff-0163-41eb784a4e38","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"89e746e9-10e2-35db-8c03-84f7abde40ba","instanceIdentifier":"b333f010-c02c-3ce1-3269-6edf6e0c78a6","name":"Log content not found","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"d813b466-9c7d-3ee4-a2a2-d8ab5b9baffd","instanceIdentifier":"f602e71c-fdbf-35c6-2bb6-3bf9a48f7fec","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["not found"],"source":{"comments":"","groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"664ebf7f-b1dd-3b51-931e-61c781f2dfad","instanceIdentifier":"92ea7847-fdef-31ff-0163-41eb784a4e38","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"7a9dca15-338b-391f-8aa2-9f9ca9c75be0","instanceIdentifier":"bb9cd599-0795-3135-2857-834d9d165213","name":"Start delete content","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"7527d177-2656-3af8-8929-b84734f3a170","instanceIdentifier":"737a667c-3239-36fb-0f2c-010ebf2e3c23","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","id":"664ebf7f-b1dd-3b51-931e-61c781f2dfad","instanceIdentifier":"92ea7847-fdef-31ff-0163-41eb784a4e38","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"d03799fe-19fe-3607-b023-934ca73157e2","identifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"0411a4af-9086-31e5-81f9-2adfe02cbdc8","instanceIdentifier":"8ae80bcd-6936-3f2b-e605-c94e4af1adcc","name":"Delete APL region","position":{"x":544.0,"y":272.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"f47f2210-1e21-3b51-2dd5-de56b9ade883","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-PROD","position":{"x":-96.0,"y":256.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"322e9ad2-4b59-3166-9c64-f644b7c06e23","instanceIdentifier":"b7079977-46df-3468-48e2-13cd51df5814","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"1435ed9b-8961-32b8-818b-ab391980bd4f","instanceIdentifier":"bd8067cd-d5cc-3509-9725-3c36fc20999f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"69fb7e52-cc47-39e2-b80a-aef2e70cf867","instanceIdentifier":"1ab9d682-2646-3692-3204-56c87741d27d","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"430e3ab0-d900-3d84-b005-8b74c8aa3ec5","instanceIdentifier":"785ed1aa-3551-3b16-ea38-aaf1e1a41177","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"7bc16d59-11c7-3175-b5d6-355f57a20033","instanceIdentifier":"ea83175e-86d7-3550-a8ae-05e147cbf269","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"322e9ad2-4b59-3166-9c64-f644b7c06e23","instanceIdentifier":"b7079977-46df-3468-48e2-13cd51df5814","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"d5555260-08f2-3132-8cdf-a87c57f7253d","instanceIdentifier":"2da21b1c-ce9d-368a-967f-d5c4b99e9e72","name":"Log failure deleting content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"cd71ed7e-8b89-383b-bed5-32b6ecfa7921","instanceIdentifier":"80024563-3598-3bd4-841e-bc1576f66941","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"430e3ab0-d900-3d84-b005-8b74c8aa3ec5","instanceIdentifier":"785ed1aa-3551-3b16-ea38-aaf1e1a41177","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"d13858eb-da70-38cc-afcc-412551f33fb4","instanceIdentifier":"c59eb379-dc7d-3a40-a74f-808578501554","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"bb90a2bb-d6ed-33a3-9eda-ad15656004f0","instanceIdentifier":"34c348d4-cd7d-38e2-726c-556fda2ba8f4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"aee5d409-3fe7-3c75-8a0a-f08d4a27c8ce","instanceIdentifier":"75860c88-daee-3ef5-80d9-3bb36310935d","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"26670935-cda0-3692-9665-de05faf9b03f","instanceIdentifier":"7ba265db-bce7-367a-994e-0d0c9a4259c4","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"8b396876-c50f-3920-a26e-d575213f1854","instanceIdentifier":"2cf017d4-7081-3a7c-27df-d7f58c506f8b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"7a9dca15-338b-391f-8aa2-9f9ca9c75be0","instanceIdentifier":"bb9cd599-0795-3135-2857-834d9d165213","name":"Start delete content","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"d13858eb-da70-38cc-afcc-412551f33fb4","instanceIdentifier":"c59eb379-dc7d-3a40-a74f-808578501554","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"17de0003-47ed-326e-b5a5-bb8933903fe6","instanceIdentifier":"4665936e-5ef1-344c-703e-b75ae533f2ba","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"69fb7e52-cc47-39e2-b80a-aef2e70cf867","instanceIdentifier":"1ab9d682-2646-3692-3204-56c87741d27d","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"aee5d409-3fe7-3c75-8a0a-f08d4a27c8ce","instanceIdentifier":"75860c88-daee-3ef5-80d9-3bb36310935d","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"1731ad62-b488-3640-bdca-219be3940c91","instanceIdentifier":"aa14ab17-b3f9-3699-0ff5-4ef06a2c5b92","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"26670935-cda0-3692-9665-de05faf9b03f","instanceIdentifier":"7ba265db-bce7-367a-994e-0d0c9a4259c4","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"d13858eb-da70-38cc-afcc-412551f33fb4","instanceIdentifier":"c59eb379-dc7d-3a40-a74f-808578501554","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"61018a61-234a-37e1-be43-2f8e5bee3683","instanceIdentifier":"74adbe0e-8a58-3440-4924-cf5fca07970d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"26670935-cda0-3692-9665-de05faf9b03f","instanceIdentifier":"7ba265db-bce7-367a-994e-0d0c9a4259c4","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"69fb7e52-cc47-39e2-b80a-aef2e70cf867","instanceIdentifier":"1ab9d682-2646-3692-3204-56c87741d27d","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"66269354-f183-3933-92f4-7b135a6984f2","instanceIdentifier":"3d967793-70ce-3c38-c7e9-83139e8d2a81","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","id":"aee5d409-3fe7-3c75-8a0a-f08d4a27c8ce","instanceIdentifier":"75860c88-daee-3ef5-80d9-3bb36310935d","name":"SplitJson","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"7a9dca15-338b-391f-8aa2-9f9ca9c75be0","instanceIdentifier":"bb9cd599-0795-3135-2857-834d9d165213","name":"Start delete content","position":{"x":376.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"1b6105b0-00b2-38a3-5dbd-6cf6dc8da94d","labels":[],"name":"Delete content","outputPorts":[],"parameterContextName":"EU-PROD","position":{"x":968.0,"y":696.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"aee5d409-3fe7-3c75-8a0a-f08d4a27c8ce","instanceIdentifier":"75860c88-daee-3ef5-80d9-3bb36310935d","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":352.0,"y":464.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"26670935-cda0-3692-9665-de05faf9b03f","instanceIdentifier":"7ba265db-bce7-367a-994e-0d0c9a4259c4","maxBackoffPeriod":"10 mins","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":344.0,"y":224.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"69fb7e52-cc47-39e2-b80a-aef2e70cf867","instanceIdentifier":"1ab9d682-2646-3692-3204-56c87741d27d","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":344.0,"y":712.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"430e3ab0-d900-3d84-b005-8b74c8aa3ec5","instanceIdentifier":"785ed1aa-3551-3b16-ea38-aaf1e1a41177","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":344.0,"y":1160.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"d5555260-08f2-3132-8cdf-a87c57f7253d","instanceIdentifier":"2da21b1c-ce9d-368a-967f-d5c4b99e9e72","maxBackoffPeriod":"10 mins","name":"Log failure deleting content","penaltyDuration":"30 sec","position":{"x":1024.0,"y":1152.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"322e9ad2-4b59-3166-9c64-f644b7c06e23","instanceIdentifier":"b7079977-46df-3468-48e2-13cd51df5814","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":344.0,"y":936.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d606baea-672c-3605-b6cd-fd0e3f46cdb4","identifier":"d13858eb-da70-38cc-afcc-412551f33fb4","instanceIdentifier":"c59eb379-dc7d-3a40-a74f-808578501554","maxBackoffPeriod":"10 mins","name":"Log failure processing content","penaltyDuration":"30 sec","position":{"x":1040.0,"y":445.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"07171f63-db72-35ae-af09-3aca78ca57fe","id":"59194f16-6a2c-3971-89f4-a2a36aecd1d9","instanceIdentifier":"6944415b-6377-3c20-a836-d33dd8f6b93d","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"07171f63-db72-35ae-af09-3aca78ca57fe","identifier":"5294eafe-32e8-3a58-9518-a82199d9660b","instanceIdentifier":"a67a8812-0a56-3974-2ee1-c012f84aed22","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"07171f63-db72-35ae-af09-3aca78ca57fe","id":"88555548-b317-32e0-945e-164b9da8ab7f","instanceIdentifier":"6911b054-27bb-3750-91df-1d7ab22f3002","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"07171f63-db72-35ae-af09-3aca78ca57fe","id":"5cf76947-911d-3639-812d-bfcd8dfbe409","instanceIdentifier":"1177e36e-6468-3ef4-7963-9227c39794ac","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"07171f63-db72-35ae-af09-3aca78ca57fe","identifier":"bcfc5ae7-4521-33b0-a556-a37324aedba7","instanceIdentifier":"060831e5-e0f5-3a5e-12d6-fd4d8dbbbc39","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"07171f63-db72-35ae-af09-3aca78ca57fe","id":"59194f16-6a2c-3971-89f4-a2a36aecd1d9","instanceIdentifier":"6944415b-6377-3c20-a836-d33dd8f6b93d","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"07171f63-db72-35ae-af09-3aca78ca57fe","id":"88555548-b317-32e0-945e-164b9da8ab7f","instanceIdentifier":"6911b054-27bb-3750-91df-1d7ab22f3002","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"07171f63-db72-35ae-af09-3aca78ca57fe","identifier":"1378978d-d7d4-3bfe-8a60-24464de96383","instanceIdentifier":"61d05745-4027-358b-633f-e1b24e1df4e7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"07171f63-db72-35ae-af09-3aca78ca57fe","id":"cabbe100-095b-3408-a8a5-e395b72b6041","instanceIdentifier":"28678e69-1e6f-31d2-b400-c6e5970880d8","name":"Start delete metadata","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"07171f63-db72-35ae-af09-3aca78ca57fe","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"07171f63-db72-35ae-af09-3aca78ca57fe","identifier":"cabbe100-095b-3408-a8a5-e395b72b6041","instanceIdentifier":"28678e69-1e6f-31d2-b400-c6e5970880d8","name":"Start delete metadata","position":{"x":421.0,"y":99.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"c523284b-e6d6-330a-6925-878afef0d089","labels":[],"name":"Delete metadata","outputPorts":[],"parameterContextName":"EU-PROD","position":{"x":-8.0,"y":704.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"07171f63-db72-35ae-af09-3aca78ca57fe","identifier":"59194f16-6a2c-3971-89f4-a2a36aecd1d9","instanceIdentifier":"6944415b-6377-3c20-a836-d33dd8f6b93d","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"07171f63-db72-35ae-af09-3aca78ca57fe","identifier":"5cf76947-911d-3639-812d-bfcd8dfbe409","instanceIdentifier":"1177e36e-6468-3ef4-7963-9227c39794ac","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1008.0,"y":336.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"07171f63-db72-35ae-af09-3aca78ca57fe","identifier":"88555548-b317-32e0-945e-164b9da8ab7f","instanceIdentifier":"6911b054-27bb-3750-91df-1d7ab22f3002","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":376.0,"y":264.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"89e746e9-10e2-35db-8c03-84f7abde40ba","instanceIdentifier":"b333f010-c02c-3ce1-3269-6edf6e0c78a6","maxBackoffPeriod":"10 mins","name":"Log content not found","penaltyDuration":"30 sec","position":{"x":1216.0,"y":152.0},"properties":{"log-message":"\"${responseKey}\" was not found in metadata for table \"#{dynamodb_table_prefix}-apl-metadata\"","log-level":"warn","log-prefix":"[${log.prefix}.${responseKey}.FailureAttribute]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ffe74c"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"dd92eb07-97de-38fa-b202-aebdab07e4fd","instanceIdentifier":"dbb97cee-c802-3585-c216-9b05b9b7011d","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1224.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b2b0f515-33ad-3703-b7e7-d25f2b826af0","identifier":"664ebf7f-b1dd-3b51-931e-61c781f2dfad","instanceIdentifier":"92ea7847-fdef-31ff-0163-41eb784a4e38","maxBackoffPeriod":"2 mins","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":488.0,"y":440.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"7ae44301-9d3e-347e-94e0-5e0b7d8cb3d2","instanceIdentifier":"87d0c7f2-4a4f-3fe8-3740-cedd5f234f13","name":"Delete APL region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"fbf49b6d-e779-3bba-88dd-4f6bd284ec6c","identifier":"ae7e447b-10e6-3dfa-b755-8a0ff67654d7","instanceIdentifier":"9d475875-6969-31d8-7150-46eaed7be552","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"fbf49b6d-e779-3bba-88dd-4f6bd284ec6c","id":"62413e25-8d97-3cb8-a1b9-e4cda23bf490","instanceIdentifier":"90a0f350-fdc4-31a1-cbe9-2444ef4e60e4","name":"Delete APL environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"fbf49b6d-e779-3bba-88dd-4f6bd284ec6c","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"fbf49b6d-e779-3bba-88dd-4f6bd284ec6c","identifier":"62413e25-8d97-3cb8-a1b9-e4cda23bf490","instanceIdentifier":"90a0f350-fdc4-31a1-cbe9-2444ef4e60e4","name":"Delete APL environment","position":{"x":424.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"ef1c22ad-5484-36b2-0ae6-5d184afebebb","labels":[],"name":"TEST Environment","outputPorts":[],"position":{"x":-280.0,"y":392.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"ca6192ce-ec3f-3f39-9dfb-b3b1b731323a","instanceIdentifier":"080b8ee8-5527-3f1a-ed1c-de7c7d098b73","name":"Start delete content","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"e64f6228-b7ba-375c-b324-28362764ae3c","instanceIdentifier":"deca5700-bb83-383f-86cd-21910d2b4289","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"48df474f-c08c-3b52-b166-23d001ad4aa9","instanceIdentifier":"de534a69-1949-37bd-e9e4-c29b0c09bd20","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"7ad69a6e-3d2e-325c-b16d-01fb6a3da8ad","instanceIdentifier":"1840dd00-5bb9-37ce-ea1c-92b8f6ccd74c","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"f8c5aecc-3968-3be7-afbc-f9519968344b","instanceIdentifier":"8771a4a7-b0f7-38b4-4e17-d14df73f2a0b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"48df474f-c08c-3b52-b166-23d001ad4aa9","instanceIdentifier":"de534a69-1949-37bd-e9e4-c29b0c09bd20","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"1aca0d90-d648-3a6f-9dcb-9b94f7f17a33","instanceIdentifier":"94e29937-1da5-331f-cf74-9598d03b25e6","name":"Log content not found","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"fff8e4fa-490f-3a75-81dd-8bbbedf666be","instanceIdentifier":"b7544d71-d0f4-360b-b51f-8257169f9edb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["not found"],"source":{"comments":"","groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"48df474f-c08c-3b52-b166-23d001ad4aa9","instanceIdentifier":"de534a69-1949-37bd-e9e4-c29b0c09bd20","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"25d43772-5adb-381a-bcaa-ad9425901e1f","id":"4e4ff697-1160-37f8-9817-b577ccbd87d8","instanceIdentifier":"908f83bb-86bb-3c50-f236-949e65bad4a1","name":"Start delete metadata","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"a80dd9b3-3541-329c-85d3-d9d8267ebfad","instanceIdentifier":"33fabfd7-9012-3f2b-c233-fddca8e5199e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"48df474f-c08c-3b52-b166-23d001ad4aa9","instanceIdentifier":"de534a69-1949-37bd-e9e4-c29b0c09bd20","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"48df474f-c08c-3b52-b166-23d001ad4aa9","instanceIdentifier":"de534a69-1949-37bd-e9e4-c29b0c09bd20","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"4309622d-b65d-3698-bb5c-5388b4429733","instanceIdentifier":"2c9acec8-cda1-3105-2880-8aa42fcf3089","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","id":"7ae44301-9d3e-347e-94e0-5e0b7d8cb3d2","instanceIdentifier":"87d0c7f2-4a4f-3fe8-3740-cedd5f234f13","name":"Delete APL region","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"fbf49b6d-e779-3bba-88dd-4f6bd284ec6c","identifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"7ae44301-9d3e-347e-94e0-5e0b7d8cb3d2","instanceIdentifier":"87d0c7f2-4a4f-3fe8-3740-cedd5f234f13","name":"Delete APL region","position":{"x":544.0,"y":272.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"39e1a87c-c7d8-33ee-18f6-d14ba9788295","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-TEST","position":{"x":344.0,"y":288.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"25d43772-5adb-381a-bcaa-ad9425901e1f","id":"c133ccad-0060-3d73-bb09-0c4c96f7b9b4","instanceIdentifier":"52c25d96-1c63-3283-f079-69c79c315cbf","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"25d43772-5adb-381a-bcaa-ad9425901e1f","identifier":"8ae6baa4-b711-3c72-a880-00cb25b8ae7b","instanceIdentifier":"2ffd6cb5-d5e2-32c4-ae68-116a63b036a7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"25d43772-5adb-381a-bcaa-ad9425901e1f","id":"04a0cb08-7e20-3c74-986b-3145b93a173b","instanceIdentifier":"f7a49951-9d7f-3ba7-8beb-3f0a0e189350","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"25d43772-5adb-381a-bcaa-ad9425901e1f","id":"04a0cb08-7e20-3c74-986b-3145b93a173b","instanceIdentifier":"f7a49951-9d7f-3ba7-8beb-3f0a0e189350","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"25d43772-5adb-381a-bcaa-ad9425901e1f","identifier":"909aba31-6a55-3c98-aa5d-9ff1640d08a2","instanceIdentifier":"c242e46d-1af8-3fa1-15e0-72fe875d4e69","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"25d43772-5adb-381a-bcaa-ad9425901e1f","id":"4e4ff697-1160-37f8-9817-b577ccbd87d8","instanceIdentifier":"908f83bb-86bb-3c50-f236-949e65bad4a1","name":"Start delete metadata","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"25d43772-5adb-381a-bcaa-ad9425901e1f","id":"ed0d809b-9b07-3504-8571-84f80ad0694d","instanceIdentifier":"397a092f-c762-391d-7c9d-4f0ea6c0b7d7","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"25d43772-5adb-381a-bcaa-ad9425901e1f","identifier":"320fbf1c-33bf-3bf5-8776-3b8ebab3efd6","instanceIdentifier":"f4737653-f798-3de2-0da4-07ca95a93a49","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"25d43772-5adb-381a-bcaa-ad9425901e1f","id":"c133ccad-0060-3d73-bb09-0c4c96f7b9b4","instanceIdentifier":"52c25d96-1c63-3283-f079-69c79c315cbf","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"25d43772-5adb-381a-bcaa-ad9425901e1f","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"25d43772-5adb-381a-bcaa-ad9425901e1f","identifier":"4e4ff697-1160-37f8-9817-b577ccbd87d8","instanceIdentifier":"908f83bb-86bb-3c50-f236-949e65bad4a1","name":"Start delete metadata","position":{"x":421.0,"y":99.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"a6067f77-9f4f-3087-79d4-636872c47ce4","labels":[],"name":"Delete metadata","outputPorts":[],"parameterContextName":"EU-TEST","position":{"x":-8.0,"y":704.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"25d43772-5adb-381a-bcaa-ad9425901e1f","identifier":"ed0d809b-9b07-3504-8571-84f80ad0694d","instanceIdentifier":"397a092f-c762-391d-7c9d-4f0ea6c0b7d7","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1008.0,"y":336.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"25d43772-5adb-381a-bcaa-ad9425901e1f","identifier":"c133ccad-0060-3d73-bb09-0c4c96f7b9b4","instanceIdentifier":"52c25d96-1c63-3283-f079-69c79c315cbf","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"25d43772-5adb-381a-bcaa-ad9425901e1f","identifier":"04a0cb08-7e20-3c74-986b-3145b93a173b","instanceIdentifier":"f7a49951-9d7f-3ba7-8beb-3f0a0e189350","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":376.0,"y":264.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"79d5dfe3-6984-389a-98e9-a71c1d382ca6","instanceIdentifier":"928f55b5-7828-3498-9dff-2425f634b502","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"0c6bdf09-15c1-394e-9150-0d72508ec4d3","instanceIdentifier":"81e0961a-be8b-38d0-4f19-7ce5d56078f0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"356735e4-7526-306e-9d83-2292c5ae67ba","instanceIdentifier":"a9679df2-f45c-35a5-a99f-d35a5cde15bf","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"ba95040d-be41-3c33-ad00-7c3d89f8bbb8","instanceIdentifier":"ec04b4ab-7036-3894-dd54-54a9d38580aa","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"25146644-abc3-33de-8e4d-d57e3dc4d4bf","instanceIdentifier":"0db26517-763a-39be-00cb-574b16ebf09d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"821ad32f-d287-3f98-86c6-a02b9e86790e","instanceIdentifier":"7db55223-ae38-342e-d292-5a3f6b5435ca","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"356735e4-7526-306e-9d83-2292c5ae67ba","instanceIdentifier":"a9679df2-f45c-35a5-a99f-d35a5cde15bf","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"2af7f456-0778-30bd-8549-cc590135f579","instanceIdentifier":"1c95e905-b44f-35f3-3297-46a107bebc62","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"7ec4e69b-2e81-3169-b410-5f37cc53d1e8","instanceIdentifier":"edc7d38c-0b68-398f-7e39-435fb8f332e0","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"0d10f717-3432-3daa-89a4-d3782410c4ef","instanceIdentifier":"4a0f3d65-1bc6-39f2-3fde-81ee7d879477","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"be7ebd35-790f-3dd7-8fde-59fbe6009cef","instanceIdentifier":"ec77f262-37a3-3283-c453-28ebf12f322d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"ba95040d-be41-3c33-ad00-7c3d89f8bbb8","instanceIdentifier":"ec04b4ab-7036-3894-dd54-54a9d38580aa","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"7ec4e69b-2e81-3169-b410-5f37cc53d1e8","instanceIdentifier":"edc7d38c-0b68-398f-7e39-435fb8f332e0","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"e017f970-c570-3c5f-a64a-2ef85669413d","instanceIdentifier":"5995417b-e587-3f4d-dc84-66bd8e8aa8ff","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"ca6192ce-ec3f-3f39-9dfb-b3b1b731323a","instanceIdentifier":"080b8ee8-5527-3f1a-ed1c-de7c7d098b73","name":"Start delete content","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"0ff0bc70-5ab7-3f22-99c5-b89e1daaec9f","instanceIdentifier":"4ee3b3d4-6f03-38b7-ccca-c87273d34a5e","name":"Log failure deleting content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"6e2ce5a4-c167-3b8c-9f65-7abd1e999545","instanceIdentifier":"503827b2-1fa0-3ad0-b5b0-a7d7b3ce5556","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"0d10f717-3432-3daa-89a4-d3782410c4ef","instanceIdentifier":"4a0f3d65-1bc6-39f2-3fde-81ee7d879477","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"79d5dfe3-6984-389a-98e9-a71c1d382ca6","instanceIdentifier":"928f55b5-7828-3498-9dff-2425f634b502","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"c2ffcc92-812d-3bd3-82f3-f1dc961a77d9","instanceIdentifier":"5fc243c9-46ac-35b6-8aac-147ac121ef4a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"7ec4e69b-2e81-3169-b410-5f37cc53d1e8","instanceIdentifier":"edc7d38c-0b68-398f-7e39-435fb8f332e0","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"79d5dfe3-6984-389a-98e9-a71c1d382ca6","instanceIdentifier":"928f55b5-7828-3498-9dff-2425f634b502","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"83fc5347-bd60-3e5c-b1ee-24dd4a6774db","instanceIdentifier":"7399728e-8482-3df1-c35e-636d82f2579f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"821ad32f-d287-3f98-86c6-a02b9e86790e","instanceIdentifier":"7db55223-ae38-342e-d292-5a3f6b5435ca","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"821ad32f-d287-3f98-86c6-a02b9e86790e","instanceIdentifier":"7db55223-ae38-342e-d292-5a3f6b5435ca","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"3f83ba94-d2f4-3164-b6b1-2ceccc437ae0","instanceIdentifier":"bde037ff-9e67-3e39-ca2a-19783c8b33df","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","id":"356735e4-7526-306e-9d83-2292c5ae67ba","instanceIdentifier":"a9679df2-f45c-35a5-a99f-d35a5cde15bf","name":"SplitJson","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"ca6192ce-ec3f-3f39-9dfb-b3b1b731323a","instanceIdentifier":"080b8ee8-5527-3f1a-ed1c-de7c7d098b73","name":"Start delete content","position":{"x":376.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"0ebd4497-ff5c-3dd8-8ec8-b8d238435a7a","labels":[],"name":"Delete content","outputPorts":[],"parameterContextName":"EU-TEST","position":{"x":968.0,"y":696.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"79d5dfe3-6984-389a-98e9-a71c1d382ca6","instanceIdentifier":"928f55b5-7828-3498-9dff-2425f634b502","maxBackoffPeriod":"10 mins","name":"Log failure processing content","penaltyDuration":"30 sec","position":{"x":1040.0,"y":445.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"0ff0bc70-5ab7-3f22-99c5-b89e1daaec9f","instanceIdentifier":"4ee3b3d4-6f03-38b7-ccca-c87273d34a5e","maxBackoffPeriod":"10 mins","name":"Log failure deleting content","penaltyDuration":"30 sec","position":{"x":1024.0,"y":1152.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"821ad32f-d287-3f98-86c6-a02b9e86790e","instanceIdentifier":"7db55223-ae38-342e-d292-5a3f6b5435ca","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":344.0,"y":712.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"7ec4e69b-2e81-3169-b410-5f37cc53d1e8","instanceIdentifier":"edc7d38c-0b68-398f-7e39-435fb8f332e0","maxBackoffPeriod":"10 mins","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":344.0,"y":224.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"356735e4-7526-306e-9d83-2292c5ae67ba","instanceIdentifier":"a9679df2-f45c-35a5-a99f-d35a5cde15bf","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":352.0,"y":464.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"0d10f717-3432-3daa-89a4-d3782410c4ef","instanceIdentifier":"4a0f3d65-1bc6-39f2-3fde-81ee7d879477","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":344.0,"y":1160.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"47c49e87-6f3b-3438-8cf8-53dde69bb1fe","identifier":"ba95040d-be41-3c33-ad00-7c3d89f8bbb8","instanceIdentifier":"ec04b4ab-7036-3894-dd54-54a9d38580aa","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":344.0,"y":936.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"7ad69a6e-3d2e-325c-b16d-01fb6a3da8ad","instanceIdentifier":"1840dd00-5bb9-37ce-ea1c-92b8f6ccd74c","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1224.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"1aca0d90-d648-3a6f-9dcb-9b94f7f17a33","instanceIdentifier":"94e29937-1da5-331f-cf74-9598d03b25e6","maxBackoffPeriod":"10 mins","name":"Log content not found","penaltyDuration":"30 sec","position":{"x":1216.0,"y":152.0},"properties":{"log-message":"\"${responseKey}\" was not found in metadata for table \"#{dynamodb_table_prefix}-apl-metadata\"","log-level":"warn","log-prefix":"[${log.prefix}.${responseKey}.FailureAttribute]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ffe74c"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"ab3f58ba-cbea-3f79-86e2-af25fb4d3302","identifier":"48df474f-c08c-3b52-b166-23d001ad4aa9","instanceIdentifier":"de534a69-1949-37bd-e9e4-c29b0c09bd20","maxBackoffPeriod":"2 mins","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":488.0,"y":440.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"f40f4a0d-3d9a-364b-a41b-edc3fd66da1f","instanceIdentifier":"b4a874c6-3517-36f8-028f-763c30934648","name":"Delete APL region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"f810593b-446c-30d0-ac10-333090ccd3c4","identifier":"4c95a118-71c2-36d0-80b9-9f8b7eacd8b7","instanceIdentifier":"eefa5c66-c038-3e92-0c1c-eca15a58c88c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"f810593b-446c-30d0-ac10-333090ccd3c4","id":"3b59dd4b-de9e-338c-b791-9fd10c45ee04","instanceIdentifier":"fbf27377-af96-3a70-a1a0-2a5bafa4da8f","name":"Delete APL environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"cd66e579-9183-3ccb-919a-a87211da0539","instanceIdentifier":"104d3f0e-e4c1-358b-5657-22a909dd733d","name":"Delete APL region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"f810593b-446c-30d0-ac10-333090ccd3c4","identifier":"6f23eb95-7528-3246-a14e-8852210aebd3","instanceIdentifier":"6ab46eb0-8eb0-3187-07e2-8227d4142f9b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"f810593b-446c-30d0-ac10-333090ccd3c4","id":"3b59dd4b-de9e-338c-b791-9fd10c45ee04","instanceIdentifier":"fbf27377-af96-3a70-a1a0-2a5bafa4da8f","name":"Delete APL environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"f810593b-446c-30d0-ac10-333090ccd3c4","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"f810593b-446c-30d0-ac10-333090ccd3c4","identifier":"3b59dd4b-de9e-338c-b791-9fd10c45ee04","instanceIdentifier":"fbf27377-af96-3a70-a1a0-2a5bafa4da8f","name":"Delete APL environment","position":{"x":424.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"82f2e4ec-8929-3697-943c-76807885d3b0","labels":[],"name":"INT Environment","outputPorts":[],"position":{"x":88.0,"y":656.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"b5fa712c-5492-3261-9d30-f4fc3a51e442","id":"56837383-7a0b-3137-aff7-ce8d844b7293","instanceIdentifier":"2f1d53b0-4e32-3375-27d8-a7d69000b17a","name":"Start delete metadata","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"1165341b-593d-3172-a07f-d79ad1aee31c","instanceIdentifier":"f2500448-d137-317a-cdfc-1727b0e4d5cf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"f9c9c805-1af7-3d7b-982a-fb4393081ea0","instanceIdentifier":"0ff37a25-b340-326f-e7f5-497c6a8e1c08","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"f9c9c805-1af7-3d7b-982a-fb4393081ea0","instanceIdentifier":"0ff37a25-b340-326f-e7f5-497c6a8e1c08","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"f9396718-ac7c-3917-93d8-34da9ed88bbb","instanceIdentifier":"f7f9f015-550c-3876-3981-4039ab5dbe51","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"cd66e579-9183-3ccb-919a-a87211da0539","instanceIdentifier":"104d3f0e-e4c1-358b-5657-22a909dd733d","name":"Delete APL region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"8d0feaad-6673-325c-b113-b7cce6f88bd1","instanceIdentifier":"65900da8-6384-3630-27df-3c0eec48c407","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"052365ce-cba3-3424-96f7-aec9253c4e02","instanceIdentifier":"3f7b1f26-128a-34f8-9b53-b64a6b91feed","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"f9c9c805-1af7-3d7b-982a-fb4393081ea0","instanceIdentifier":"0ff37a25-b340-326f-e7f5-497c6a8e1c08","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"c9c1da18-d5db-34df-aeb4-9e76b1f420dd","instanceIdentifier":"ac67e2b2-276f-365f-7425-0e539dc5baed","name":"Log content not found","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"0afbd3af-12b4-37d7-aab5-3c440a71ac44","instanceIdentifier":"2d72ce05-321c-3f0d-9499-2a0dd8b3fc44","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["not found"],"source":{"comments":"","groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"f9c9c805-1af7-3d7b-982a-fb4393081ea0","instanceIdentifier":"0ff37a25-b340-326f-e7f5-497c6a8e1c08","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"0a446152-99f7-34d7-a430-38176530b8c5","instanceIdentifier":"26371296-b391-38e8-f809-7cdeded29721","name":"Start delete content","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"68f6e33f-bce5-3835-b401-0e8deaa33622","instanceIdentifier":"df39ee17-b95c-3bed-b2d9-2a13da52dbe6","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"0d5f4913-4b71-32cb-81f5-29557bdb9972","id":"f9c9c805-1af7-3d7b-982a-fb4393081ea0","instanceIdentifier":"0ff37a25-b340-326f-e7f5-497c6a8e1c08","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"f810593b-446c-30d0-ac10-333090ccd3c4","identifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"cd66e579-9183-3ccb-919a-a87211da0539","instanceIdentifier":"104d3f0e-e4c1-358b-5657-22a909dd733d","name":"Delete APL region","position":{"x":544.0,"y":272.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"6e4bf762-e2e5-35af-21a3-9c4923eebec3","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-INT","position":{"x":-88.0,"y":248.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5fa712c-5492-3261-9d30-f4fc3a51e442","id":"03c0dcbc-9ad7-3340-8774-dbd94230791d","instanceIdentifier":"b722164a-9139-388f-2eef-4c81e858dd56","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5fa712c-5492-3261-9d30-f4fc3a51e442","identifier":"4ace310f-dab8-345b-81e3-b187c8238da2","instanceIdentifier":"37346deb-f376-3dff-5727-1f8f62aea79d","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"b5fa712c-5492-3261-9d30-f4fc3a51e442","id":"56837383-7a0b-3137-aff7-ce8d844b7293","instanceIdentifier":"2f1d53b0-4e32-3375-27d8-a7d69000b17a","name":"Start delete metadata","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5fa712c-5492-3261-9d30-f4fc3a51e442","id":"cb430f73-95fb-3c2a-a40f-c2d3008f2948","instanceIdentifier":"ab918cc4-1617-340e-675f-b172c273648a","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5fa712c-5492-3261-9d30-f4fc3a51e442","identifier":"43a32eff-436b-31cd-ab71-097b014e6a12","instanceIdentifier":"6852e394-34dc-34ad-58c7-c5b96222d251","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"b5fa712c-5492-3261-9d30-f4fc3a51e442","id":"58ea2020-65e9-3577-bd13-3923692bc6bb","instanceIdentifier":"c996faa9-30f5-3bae-b0e9-82ab0673cb48","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"b5fa712c-5492-3261-9d30-f4fc3a51e442","id":"58ea2020-65e9-3577-bd13-3923692bc6bb","instanceIdentifier":"c996faa9-30f5-3bae-b0e9-82ab0673cb48","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"b5fa712c-5492-3261-9d30-f4fc3a51e442","identifier":"947f0af5-7688-3d84-82f1-4ebae2bd2e27","instanceIdentifier":"d5da224d-b38d-3514-12e9-550ead269fd4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"b5fa712c-5492-3261-9d30-f4fc3a51e442","id":"03c0dcbc-9ad7-3340-8774-dbd94230791d","instanceIdentifier":"b722164a-9139-388f-2eef-4c81e858dd56","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"b5fa712c-5492-3261-9d30-f4fc3a51e442","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"b5fa712c-5492-3261-9d30-f4fc3a51e442","identifier":"56837383-7a0b-3137-aff7-ce8d844b7293","instanceIdentifier":"2f1d53b0-4e32-3375-27d8-a7d69000b17a","name":"Start delete metadata","position":{"x":421.0,"y":99.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"fbf3e577-b308-3c20-4cb1-974e7a616f4d","labels":[],"name":"Delete metadata","outputPorts":[],"parameterContextName":"EU-INT","position":{"x":-8.0,"y":704.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5fa712c-5492-3261-9d30-f4fc3a51e442","identifier":"03c0dcbc-9ad7-3340-8774-dbd94230791d","instanceIdentifier":"b722164a-9139-388f-2eef-4c81e858dd56","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":376.0,"y":264.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5fa712c-5492-3261-9d30-f4fc3a51e442","identifier":"58ea2020-65e9-3577-bd13-3923692bc6bb","instanceIdentifier":"c996faa9-30f5-3bae-b0e9-82ab0673cb48","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b5fa712c-5492-3261-9d30-f4fc3a51e442","identifier":"cb430f73-95fb-3c2a-a40f-c2d3008f2948","instanceIdentifier":"ab918cc4-1617-340e-675f-b172c273648a","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1008.0,"y":336.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"12a83ea6-fd22-3261-ad03-210273509de2","instanceIdentifier":"26d448a8-2f0c-3ebb-7ca7-8db9e3bdafe7","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"0dc6abed-21dc-3286-8f61-a03a137eada6","instanceIdentifier":"89a380f9-ad35-31a4-a671-ea14868b3cd4","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"6a097a90-4e16-3192-89c6-b8c811844d3f","instanceIdentifier":"e47cef8b-4673-36e0-18f5-36291c82b4e6","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"d6708af2-8d13-31d4-94f2-11ad67269f1d","instanceIdentifier":"b6912e73-7e61-3e0a-d07c-2191f8824381","name":"Log failure deleting content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"d3a99c52-6563-381b-88f3-6e53ada72fdd","instanceIdentifier":"dd3e867d-3c82-339b-ec66-fb8f45a845eb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"9b731d8b-f8c0-3d4c-8592-9c91eb2e72bd","instanceIdentifier":"229f4f0c-83f0-3d03-a52e-e65dc2fe033f","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"44eeca3a-8197-3328-a6e4-b5f6b4db5bed","instanceIdentifier":"d9bbbabd-e505-3c0e-d0a5-215faa2f71d3","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"a58e5ff0-a90b-3d15-8880-fe12fe70a746","instanceIdentifier":"c9484186-1121-3366-1c83-26a40140146e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"d7a02e30-35aa-305f-9bc4-e99ef025f874","instanceIdentifier":"a44eef07-7b7c-3159-fb8c-ccfe5d87db55","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"2b02127c-be92-3c08-8549-0a433920c8fb","instanceIdentifier":"47d548d6-8500-3f9b-e45f-34bb1cb48d68","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"1a75df9c-1826-3b00-a2ee-bf292cdc9e3b","instanceIdentifier":"ea744723-9f4c-3f4e-1342-aebed7f7e8b5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"6a097a90-4e16-3192-89c6-b8c811844d3f","instanceIdentifier":"e47cef8b-4673-36e0-18f5-36291c82b4e6","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"6a097a90-4e16-3192-89c6-b8c811844d3f","instanceIdentifier":"e47cef8b-4673-36e0-18f5-36291c82b4e6","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"3ba0a3bb-ae46-3666-9d71-92b76fb07fb3","instanceIdentifier":"549c27b5-155c-3304-1f73-c244461be6b3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"0a446152-99f7-34d7-a430-38176530b8c5","instanceIdentifier":"26371296-b391-38e8-f809-7cdeded29721","name":"Start delete content","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"2b02127c-be92-3c08-8549-0a433920c8fb","instanceIdentifier":"47d548d6-8500-3f9b-e45f-34bb1cb48d68","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"56c5ff5e-6cba-371f-8fbe-489706a80664","instanceIdentifier":"b10acf61-4eb4-3a80-37c5-94e1017d27ed","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"12a83ea6-fd22-3261-ad03-210273509de2","instanceIdentifier":"26d448a8-2f0c-3ebb-7ca7-8db9e3bdafe7","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"2b02127c-be92-3c08-8549-0a433920c8fb","instanceIdentifier":"47d548d6-8500-3f9b-e45f-34bb1cb48d68","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"e77ebf56-dfb1-3af4-b05b-9985d57b7963","instanceIdentifier":"1ce3e96e-1d28-32fd-5c01-2d39ea641a00","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"d7a02e30-35aa-305f-9bc4-e99ef025f874","instanceIdentifier":"a44eef07-7b7c-3159-fb8c-ccfe5d87db55","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"9b731d8b-f8c0-3d4c-8592-9c91eb2e72bd","instanceIdentifier":"229f4f0c-83f0-3d03-a52e-e65dc2fe033f","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"0604d19a-5678-33b5-a719-05e19b4699d5","instanceIdentifier":"81e2ef2d-ea09-31ae-fa4d-2338c5598665","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"44eeca3a-8197-3328-a6e4-b5f6b4db5bed","instanceIdentifier":"d9bbbabd-e505-3c0e-d0a5-215faa2f71d3","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"d7a02e30-35aa-305f-9bc4-e99ef025f874","instanceIdentifier":"a44eef07-7b7c-3159-fb8c-ccfe5d87db55","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"98952b5a-a701-3916-8285-46559e52d4e0","instanceIdentifier":"7adbd678-576a-3d03-af78-eccbd97bea54","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","id":"12a83ea6-fd22-3261-ad03-210273509de2","instanceIdentifier":"26d448a8-2f0c-3ebb-7ca7-8db9e3bdafe7","name":"SplitJson","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"0a446152-99f7-34d7-a430-38176530b8c5","instanceIdentifier":"26371296-b391-38e8-f809-7cdeded29721","name":"Start delete content","position":{"x":376.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"64de30da-0275-3aab-7f5a-ebf9c7cc2ce8","labels":[],"name":"Delete content","outputPorts":[],"parameterContextName":"EU-INT","position":{"x":968.0,"y":696.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"9b731d8b-f8c0-3d4c-8592-9c91eb2e72bd","instanceIdentifier":"229f4f0c-83f0-3d03-a52e-e65dc2fe033f","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":344.0,"y":1160.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"44eeca3a-8197-3328-a6e4-b5f6b4db5bed","instanceIdentifier":"d9bbbabd-e505-3c0e-d0a5-215faa2f71d3","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":344.0,"y":936.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"12a83ea6-fd22-3261-ad03-210273509de2","instanceIdentifier":"26d448a8-2f0c-3ebb-7ca7-8db9e3bdafe7","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":352.0,"y":464.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"d7a02e30-35aa-305f-9bc4-e99ef025f874","instanceIdentifier":"a44eef07-7b7c-3159-fb8c-ccfe5d87db55","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":344.0,"y":712.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"6a097a90-4e16-3192-89c6-b8c811844d3f","instanceIdentifier":"e47cef8b-4673-36e0-18f5-36291c82b4e6","maxBackoffPeriod":"10 mins","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":344.0,"y":224.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"2b02127c-be92-3c08-8549-0a433920c8fb","instanceIdentifier":"47d548d6-8500-3f9b-e45f-34bb1cb48d68","maxBackoffPeriod":"10 mins","name":"Log failure processing content","penaltyDuration":"30 sec","position":{"x":1040.0,"y":445.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c2f89592-6605-3b9d-901f-ebf33f8a0d48","identifier":"d6708af2-8d13-31d4-94f2-11ad67269f1d","instanceIdentifier":"b6912e73-7e61-3e0a-d07c-2191f8824381","maxBackoffPeriod":"10 mins","name":"Log failure deleting content","penaltyDuration":"30 sec","position":{"x":1024.0,"y":1152.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"c9c1da18-d5db-34df-aeb4-9e76b1f420dd","instanceIdentifier":"ac67e2b2-276f-365f-7425-0e539dc5baed","maxBackoffPeriod":"10 mins","name":"Log content not found","penaltyDuration":"30 sec","position":{"x":1216.0,"y":152.0},"properties":{"log-message":"\"${responseKey}\" was not found in metadata for table \"#{dynamodb_table_prefix}-apl-metadata\"","log-level":"warn","log-prefix":"[${log.prefix}.${responseKey}.FailureAttribute]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ffe74c"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"8d0feaad-6673-325c-b113-b7cce6f88bd1","instanceIdentifier":"65900da8-6384-3630-27df-3c0eec48c407","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1224.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"0d5f4913-4b71-32cb-81f5-29557bdb9972","identifier":"f9c9c805-1af7-3d7b-982a-fb4393081ea0","instanceIdentifier":"0ff37a25-b340-326f-e7f5-497c6a8e1c08","maxBackoffPeriod":"2 mins","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":488.0,"y":440.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"f4a2e3e0-355f-3363-a76f-bf595eb087ff","instanceIdentifier":"d1423db6-fbdb-3a0b-9454-f6d3c4e8c9f4","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"6bd9848b-f019-3752-be8b-a1165bb1eeba","instanceIdentifier":"be548097-9210-3ea3-7fe3-11c9c010c6b3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"f925892d-4477-3082-af72-815ce329a42b","instanceIdentifier":"3e5e0fa8-cd95-3749-9255-cfdbbac2e63f","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"f925892d-4477-3082-af72-815ce329a42b","instanceIdentifier":"3e5e0fa8-cd95-3749-9255-cfdbbac2e63f","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"3e59d713-7a8d-3f7a-8496-59a7499cf2f9","instanceIdentifier":"ff576e5b-ea48-3b64-9a03-8d7995f624de","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"f40f4a0d-3d9a-364b-a41b-edc3fd66da1f","instanceIdentifier":"b4a874c6-3517-36f8-028f-763c30934648","name":"Delete APL region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"7e3ba78a-91e3-3200-9c8a-5370322735bd","instanceIdentifier":"3ef4b4ed-7f07-3422-5660-e7314a7d3020","name":"Start delete content","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"e5d0b5f5-ffd6-3c0a-a957-a0c22ab391b8","instanceIdentifier":"31d6fa6c-c3b7-35c9-a3e5-f3b26e8a1a74","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"f925892d-4477-3082-af72-815ce329a42b","instanceIdentifier":"3e5e0fa8-cd95-3749-9255-cfdbbac2e63f","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"6a606b19-41e6-3e49-bd3c-78efa8f61764","instanceIdentifier":"d7c6ef73-2a73-321e-2283-8a5d450115da","name":"Log content not found","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"dccec1ae-90b4-365c-98a7-13a35a6ec051","instanceIdentifier":"4fca82b1-5282-3fea-ad14-e02425b3ab58","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["not found"],"source":{"comments":"","groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"f925892d-4477-3082-af72-815ce329a42b","instanceIdentifier":"3e5e0fa8-cd95-3749-9255-cfdbbac2e63f","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","id":"fd4d5424-e825-37c0-9c05-837220e86a2d","instanceIdentifier":"57b2289c-011a-3a27-5269-9ed2632ae5e8","name":"Start delete metadata","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"251e8b56-a99c-36e0-a576-193054eca77a","instanceIdentifier":"fc2bda39-9825-323e-e0d8-132807d1aceb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","id":"f925892d-4477-3082-af72-815ce329a42b","instanceIdentifier":"3e5e0fa8-cd95-3749-9255-cfdbbac2e63f","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"f810593b-446c-30d0-ac10-333090ccd3c4","identifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"f40f4a0d-3d9a-364b-a41b-edc3fd66da1f","instanceIdentifier":"b4a874c6-3517-36f8-028f-763c30934648","name":"Delete APL region","position":{"x":544.0,"y":272.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"da1cf052-3119-3c9c-a4af-da16f152faf8","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-INT","position":{"x":664.0,"y":256.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","id":"82e8234d-6fa2-3948-a346-9f18ecc69d31","instanceIdentifier":"7870eea9-c86e-3b29-89e1-3ca55cfd94ce","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","identifier":"4728487a-716e-3fe2-a7dc-dad8328e8cb4","instanceIdentifier":"3934364f-79dc-395a-1eb6-fd075142af3b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","id":"953cc444-b23f-379c-8844-6cfa95705742","instanceIdentifier":"3cfa7830-ffde-3be4-67d9-26ca92560ee3","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","id":"953cc444-b23f-379c-8844-6cfa95705742","instanceIdentifier":"3cfa7830-ffde-3be4-67d9-26ca92560ee3","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","identifier":"4c2f070d-f390-3710-98a8-789df3415e47","instanceIdentifier":"034183c2-df4a-3de9-c58e-709e18efcc78","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","id":"075309f6-7379-3802-8d39-fb3f5078fceb","instanceIdentifier":"0455830c-0968-3fe3-5c1f-3862be7fcb47","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","id":"075309f6-7379-3802-8d39-fb3f5078fceb","instanceIdentifier":"0455830c-0968-3fe3-5c1f-3862be7fcb47","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","identifier":"88eca5b0-39c4-3ed4-a080-b4ea7dd4e497","instanceIdentifier":"bf90838c-cd74-34aa-63a8-2d143d8a79bf","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","id":"fd4d5424-e825-37c0-9c05-837220e86a2d","instanceIdentifier":"57b2289c-011a-3a27-5269-9ed2632ae5e8","name":"Start delete metadata","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","identifier":"fd4d5424-e825-37c0-9c05-837220e86a2d","instanceIdentifier":"57b2289c-011a-3a27-5269-9ed2632ae5e8","name":"Start delete metadata","position":{"x":421.0,"y":99.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"30eef26e-522f-342e-8c51-7264369157e3","labels":[],"name":"Delete metadata","outputPorts":[],"parameterContextName":"NA-INT","position":{"x":-8.0,"y":704.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","identifier":"075309f6-7379-3802-8d39-fb3f5078fceb","instanceIdentifier":"0455830c-0968-3fe3-5c1f-3862be7fcb47","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":376.0,"y":264.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","identifier":"953cc444-b23f-379c-8844-6cfa95705742","instanceIdentifier":"3cfa7830-ffde-3be4-67d9-26ca92560ee3","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a5f85f98-9b89-3002-8003-dde4c6ff8c6c","identifier":"82e8234d-6fa2-3948-a346-9f18ecc69d31","instanceIdentifier":"7870eea9-c86e-3b29-89e1-3ca55cfd94ce","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1008.0,"y":336.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"8718ed67-331b-32d9-be6a-b90c9b8fa830","instanceIdentifier":"89aa8cff-f2af-37df-9b6a-76e7aeb66033","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"6397a20e-f7cb-30a9-beb2-d0f5b2bbb9f1","instanceIdentifier":"80143903-0c5b-3c8f-ea63-5e85ac2142c0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"3f40cca5-5f9a-3a13-9ca4-2007fdfb464a","instanceIdentifier":"490850d0-c9ff-3c23-40c1-2902e9560e04","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"3f40cca5-5f9a-3a13-9ca4-2007fdfb464a","instanceIdentifier":"490850d0-c9ff-3c23-40c1-2902e9560e04","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"b57cecc0-4e1b-3872-8675-b03122746c26","instanceIdentifier":"61b29565-48a3-3e7c-8cf3-5730be28e842","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"7e3ba78a-91e3-3200-9c8a-5370322735bd","instanceIdentifier":"3ef4b4ed-7f07-3422-5660-e7314a7d3020","name":"Start delete content","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"4d81a489-0952-3f60-b210-4f5296c97542","instanceIdentifier":"9d599728-425e-32bc-ff0b-17ba4a0bd6b3","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"52e654eb-67ee-33ff-a773-e70235971041","instanceIdentifier":"e2a359bb-2d40-3bbd-3c72-29a71d0de211","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"8718ed67-331b-32d9-be6a-b90c9b8fa830","instanceIdentifier":"89aa8cff-f2af-37df-9b6a-76e7aeb66033","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"2d610ddb-1af1-3190-93b6-d5594f5a95eb","instanceIdentifier":"3384f6e3-9966-3467-94e2-0baf6a5a5d55","name":"Log failure deleting content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"23764138-1071-3f35-99eb-0b272c64012c","instanceIdentifier":"cc491e4b-ea50-3a46-a52a-4c5aacfaf984","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"9575d42b-1d42-34fe-8482-86d2f3b6f5d4","instanceIdentifier":"c414e02c-fcff-3ce9-2ac1-791e203c0972","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"9575d42b-1d42-34fe-8482-86d2f3b6f5d4","instanceIdentifier":"c414e02c-fcff-3ce9-2ac1-791e203c0972","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"99d10003-6577-3e5a-add1-d50a4c626d1b","instanceIdentifier":"4c0ca90e-a87b-3497-d843-f272670ec924","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"1fae351a-70cf-390f-9d1f-410eef9e8e1d","instanceIdentifier":"7fa893f7-db2c-3868-9c16-25856bd04022","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"1fae351a-70cf-390f-9d1f-410eef9e8e1d","instanceIdentifier":"7fa893f7-db2c-3868-9c16-25856bd04022","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"09e79e7b-4c44-33c1-910a-f7e24c93645f","instanceIdentifier":"7e31f619-0428-3806-6018-a2ac8bb4fabb","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"4266149e-208e-354c-8e94-8307429af517","instanceIdentifier":"a2bcc972-1e43-36e9-3386-14a820e7dece","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"4d81a489-0952-3f60-b210-4f5296c97542","instanceIdentifier":"9d599728-425e-32bc-ff0b-17ba4a0bd6b3","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"3ac780c7-47fb-3a13-84c1-bd8dc6879f51","instanceIdentifier":"76425da9-18fa-332e-7455-e52678d43ec8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"3f40cca5-5f9a-3a13-9ca4-2007fdfb464a","instanceIdentifier":"490850d0-c9ff-3c23-40c1-2902e9560e04","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"4266149e-208e-354c-8e94-8307429af517","instanceIdentifier":"a2bcc972-1e43-36e9-3386-14a820e7dece","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"0a7129a3-d392-3958-9199-3171c1af4d5e","instanceIdentifier":"bbeb2b00-6324-3e7a-33a4-edf7e00c9fb5","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"8718ed67-331b-32d9-be6a-b90c9b8fa830","instanceIdentifier":"89aa8cff-f2af-37df-9b6a-76e7aeb66033","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"4d81a489-0952-3f60-b210-4f5296c97542","instanceIdentifier":"9d599728-425e-32bc-ff0b-17ba4a0bd6b3","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"ab3b9c40-11c6-32cb-9ce0-254fd6e97725","instanceIdentifier":"b330ba55-17f9-3e3b-0f30-9b181da6e1cd","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"26195ff0-6122-37ec-9a82-5aec99857a3a","id":"4266149e-208e-354c-8e94-8307429af517","instanceIdentifier":"a2bcc972-1e43-36e9-3386-14a820e7dece","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"7e3ba78a-91e3-3200-9c8a-5370322735bd","instanceIdentifier":"3ef4b4ed-7f07-3422-5660-e7314a7d3020","name":"Start delete content","position":{"x":376.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"9ece983a-b46a-3c50-6490-faadeb209432","labels":[],"name":"Delete content","outputPorts":[],"parameterContextName":"NA-INT","position":{"x":968.0,"y":696.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"4266149e-208e-354c-8e94-8307429af517","instanceIdentifier":"a2bcc972-1e43-36e9-3386-14a820e7dece","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":344.0,"y":712.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"8718ed67-331b-32d9-be6a-b90c9b8fa830","instanceIdentifier":"89aa8cff-f2af-37df-9b6a-76e7aeb66033","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":352.0,"y":464.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"9575d42b-1d42-34fe-8482-86d2f3b6f5d4","instanceIdentifier":"c414e02c-fcff-3ce9-2ac1-791e203c0972","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":344.0,"y":1160.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"3f40cca5-5f9a-3a13-9ca4-2007fdfb464a","instanceIdentifier":"490850d0-c9ff-3c23-40c1-2902e9560e04","maxBackoffPeriod":"10 mins","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":344.0,"y":224.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"4d81a489-0952-3f60-b210-4f5296c97542","instanceIdentifier":"9d599728-425e-32bc-ff0b-17ba4a0bd6b3","maxBackoffPeriod":"10 mins","name":"Log failure processing content","penaltyDuration":"30 sec","position":{"x":1040.0,"y":445.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"1fae351a-70cf-390f-9d1f-410eef9e8e1d","instanceIdentifier":"7fa893f7-db2c-3868-9c16-25856bd04022","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":344.0,"y":936.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"26195ff0-6122-37ec-9a82-5aec99857a3a","identifier":"2d610ddb-1af1-3190-93b6-d5594f5a95eb","instanceIdentifier":"3384f6e3-9966-3467-94e2-0baf6a5a5d55","maxBackoffPeriod":"10 mins","name":"Log failure deleting content","penaltyDuration":"30 sec","position":{"x":1024.0,"y":1152.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"f925892d-4477-3082-af72-815ce329a42b","instanceIdentifier":"3e5e0fa8-cd95-3749-9255-cfdbbac2e63f","maxBackoffPeriod":"2 mins","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":488.0,"y":440.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"6a606b19-41e6-3e49-bd3c-78efa8f61764","instanceIdentifier":"d7c6ef73-2a73-321e-2283-8a5d450115da","maxBackoffPeriod":"10 mins","name":"Log content not found","penaltyDuration":"30 sec","position":{"x":1216.0,"y":152.0},"properties":{"log-message":"\"${responseKey}\" was not found in metadata for table \"#{dynamodb_table_prefix}-apl-metadata\"","log-level":"warn","log-prefix":"[${log.prefix}.${responseKey}.FailureAttribute]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ffe74c"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"c12e7ee7-b3c5-3e27-a12b-b518b26d0753","identifier":"f4a2e3e0-355f-3363-a76f-bf595eb087ff","instanceIdentifier":"d1423db6-fbdb-3a0b-9454-f6d3c4e8c9f4","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1224.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"3d09f07b-9c0f-3471-a8b3-f9b8c317f340","instanceIdentifier":"765d0931-c370-31d5-8283-21fd3bcfa600","name":"Delete APL region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"9897ced4-0c7a-3f12-8907-31fae41d43a7","identifier":"501c2dd2-fd86-30c7-8e30-18b587e4f360","instanceIdentifier":"8db3fd33-0032-31d9-cf2f-4ed8dc76fddc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"9897ced4-0c7a-3f12-8907-31fae41d43a7","id":"3b8fc406-e3c0-38b5-838c-baf368f452f0","instanceIdentifier":"686f6010-cb0f-38d4-81e9-fb46524f290f","name":"Delete APL environment","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"db67bd21-09f3-3424-bc63-be2b8619de14","instanceIdentifier":"89ccc9d2-f02b-30b0-ed9b-3fe3f38b8aac","name":"Delete APL region","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"9897ced4-0c7a-3f12-8907-31fae41d43a7","identifier":"8c9a3eb8-edc1-30ae-9342-4841fac1b318","instanceIdentifier":"3ef1790f-c773-3e27-e7a9-6852fc81a027","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"9897ced4-0c7a-3f12-8907-31fae41d43a7","id":"3b8fc406-e3c0-38b5-838c-baf368f452f0","instanceIdentifier":"686f6010-cb0f-38d4-81e9-fb46524f290f","name":"Delete APL environment","type":"INPUT_PORT"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"9897ced4-0c7a-3f12-8907-31fae41d43a7","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"9897ced4-0c7a-3f12-8907-31fae41d43a7","identifier":"3b8fc406-e3c0-38b5-838c-baf368f452f0","instanceIdentifier":"686f6010-cb0f-38d4-81e9-fb46524f290f","name":"Delete APL environment","position":{"x":424.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"aa4d10d1-c16e-3c4d-b243-64d441abb14e","labels":[],"name":"E2E Environment","outputPorts":[],"position":{"x":712.0,"y":656.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","id":"8f6023ee-a24e-3379-8fe9-d9c6510bcf2c","instanceIdentifier":"2a4f1839-c6ea-39d0-d569-adfc103a5adc","name":"Start delete metadata","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"b07c893c-2202-3128-b614-9ce7467c1224","instanceIdentifier":"c1135af8-e991-3d52-764a-ef6ecbe71d76","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"1ae83351-b011-3934-99e8-91f6ff961f03","instanceIdentifier":"8b8ebc95-0f93-3ae2-b781-ccb107485aab","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"a27303d8-8ccd-3156-adeb-a3c119c08f3a","instanceIdentifier":"eca6bac6-150d-33d9-480d-53616d1ca84d","name":"Log content not found","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"1c7fb74a-dbd7-3194-b7c7-ba8d98d03049","instanceIdentifier":"c1e831be-3133-325f-e403-16e4201ed5b2","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["not found"],"source":{"comments":"","groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"1ae83351-b011-3934-99e8-91f6ff961f03","instanceIdentifier":"8b8ebc95-0f93-3ae2-b781-ccb107485aab","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"16f42fcd-ecd6-3256-a1f5-834990a23485","instanceIdentifier":"97ee40dc-e6e2-3475-f8c2-7ba5e1e471c1","name":"Start delete content","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"0892f37a-be66-372f-9faf-fa77f611148b","instanceIdentifier":"61cf9cb4-6ac9-3129-cd3d-e03bb83842f3","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"1ae83351-b011-3934-99e8-91f6ff961f03","instanceIdentifier":"8b8ebc95-0f93-3ae2-b781-ccb107485aab","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"1ae83351-b011-3934-99e8-91f6ff961f03","instanceIdentifier":"8b8ebc95-0f93-3ae2-b781-ccb107485aab","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"ffe31e07-8db8-3a3f-9126-c38fed86c303","instanceIdentifier":"2cc74718-91f0-3fd3-2fbd-4fb64d5fcd29","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"db67bd21-09f3-3424-bc63-be2b8619de14","instanceIdentifier":"89ccc9d2-f02b-30b0-ed9b-3fe3f38b8aac","name":"Delete APL region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"2b22ede8-9136-3267-bf0a-e0427448c559","instanceIdentifier":"9b2b56f3-28ad-3c83-3313-fa739c4a977b","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"1c08aea7-de50-39cf-a068-6d3a0b5a47f2","instanceIdentifier":"e3a7e6e2-4bc5-31cc-95b8-eba5e1c9113a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","id":"1ae83351-b011-3934-99e8-91f6ff961f03","instanceIdentifier":"8b8ebc95-0f93-3ae2-b781-ccb107485aab","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"9897ced4-0c7a-3f12-8907-31fae41d43a7","identifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"db67bd21-09f3-3424-bc63-be2b8619de14","instanceIdentifier":"89ccc9d2-f02b-30b0-ed9b-3fe3f38b8aac","name":"Delete APL region","position":{"x":544.0,"y":272.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"50286457-d9d8-3254-9930-650f9b99e954","labels":[],"name":"NA Region","outputPorts":[],"parameterContextName":"NA-E2E","position":{"x":664.0,"y":256.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"44f7d03a-45c4-331b-8d9f-0b2ea5085fc0","instanceIdentifier":"9a044eb3-9b82-34e7-d941-595ab9911d3a","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"0798abc8-6dc0-3d52-bb3f-8a995589d1dc","instanceIdentifier":"1c0c94c7-be03-346a-be0d-00ec76332ef8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"16f42fcd-ecd6-3256-a1f5-834990a23485","instanceIdentifier":"97ee40dc-e6e2-3475-f8c2-7ba5e1e471c1","name":"Start delete content","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"c215b48c-2801-36df-853b-d2105ac29776","instanceIdentifier":"d46ba4c2-320d-3a97-ca21-cfd261c9d974","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"e245d2cf-caef-33c7-9ae8-a3f1acba28ff","instanceIdentifier":"e7cc8eaa-a3be-356c-ae55-9aa9331c08df","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"44f7d03a-45c4-331b-8d9f-0b2ea5085fc0","instanceIdentifier":"9a044eb3-9b82-34e7-d941-595ab9911d3a","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"56d48743-5390-39bc-b0cd-a27e7450aad5","instanceIdentifier":"f087ef4d-d5b8-3621-c3c8-783f48b7b4d1","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"46a6ff0a-7d01-3e89-80f9-8f53e2a75e55","instanceIdentifier":"d2d8c6a0-95cb-3207-4491-5b6f2ddf006f","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"9d41479d-6c58-3311-b5aa-e021a40a931d","instanceIdentifier":"0a1d6775-4f18-37b2-62a5-4e662b4f0f60","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"4cb1aeeb-19b0-33f9-9167-436f0c5233f8","instanceIdentifier":"810d61e3-a134-372a-1da0-4c4e9c04069e","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"a4ef09f4-90e4-3738-aa19-cf2b1fc4bda2","instanceIdentifier":"f599efa5-15e8-356d-3dcb-57b260198b2b","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"9d41479d-6c58-3311-b5aa-e021a40a931d","instanceIdentifier":"0a1d6775-4f18-37b2-62a5-4e662b4f0f60","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"4cb1aeeb-19b0-33f9-9167-436f0c5233f8","instanceIdentifier":"810d61e3-a134-372a-1da0-4c4e9c04069e","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"6ed0a0a6-50b3-32b5-9991-3c8265038b6b","instanceIdentifier":"da6d04b4-1d02-3f1f-d9ad-71a7b6633c33","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"c215b48c-2801-36df-853b-d2105ac29776","instanceIdentifier":"d46ba4c2-320d-3a97-ca21-cfd261c9d974","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"4cb1aeeb-19b0-33f9-9167-436f0c5233f8","instanceIdentifier":"810d61e3-a134-372a-1da0-4c4e9c04069e","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"f5c36854-f3fb-360f-9192-d81a7a7304d6","instanceIdentifier":"46b2cd0e-7b29-3294-a26e-25367ae2277e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"44f7d03a-45c4-331b-8d9f-0b2ea5085fc0","instanceIdentifier":"9a044eb3-9b82-34e7-d941-595ab9911d3a","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"37b67979-5584-3085-8633-9b175604e139","instanceIdentifier":"63cb9482-f63b-3344-0a2f-874812e4122b","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"73c6c897-e0d4-36aa-982a-d96614d6f81e","instanceIdentifier":"a3944da5-e693-35f1-f142-c043e0fc2093","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"56d48743-5390-39bc-b0cd-a27e7450aad5","instanceIdentifier":"f087ef4d-d5b8-3621-c3c8-783f48b7b4d1","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"5fa13cbf-edbc-3d13-9477-27a9f6912dfc","instanceIdentifier":"da116eab-4034-3674-0c9f-5897518e19c9","name":"Log failure deleting content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"0c9f6c49-0cf4-3e61-9e78-4547de595cb1","instanceIdentifier":"6c582ae4-a9f5-34a9-f414-9b07ef23ae90","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"37b67979-5584-3085-8633-9b175604e139","instanceIdentifier":"63cb9482-f63b-3344-0a2f-874812e4122b","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"9d41479d-6c58-3311-b5aa-e021a40a931d","instanceIdentifier":"0a1d6775-4f18-37b2-62a5-4e662b4f0f60","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"69ff65ac-a5c4-389c-a3d9-b18c3671a6f6","instanceIdentifier":"5bd58c71-ca2b-3d52-34be-bca405b39ba8","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"f657a930-0284-319f-b22a-788aa24e5bbd","id":"c215b48c-2801-36df-853b-d2105ac29776","instanceIdentifier":"d46ba4c2-320d-3a97-ca21-cfd261c9d974","name":"SplitJson","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"f657a930-0284-319f-b22a-788aa24e5bbd","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"16f42fcd-ecd6-3256-a1f5-834990a23485","instanceIdentifier":"97ee40dc-e6e2-3475-f8c2-7ba5e1e471c1","name":"Start delete content","position":{"x":376.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"b24b104a-2085-3aa8-07cd-ad3113f6d1e6","labels":[],"name":"Delete content","outputPorts":[],"parameterContextName":"NA-E2E","position":{"x":968.0,"y":696.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"c215b48c-2801-36df-853b-d2105ac29776","instanceIdentifier":"d46ba4c2-320d-3a97-ca21-cfd261c9d974","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":352.0,"y":464.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"56d48743-5390-39bc-b0cd-a27e7450aad5","instanceIdentifier":"f087ef4d-d5b8-3621-c3c8-783f48b7b4d1","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":344.0,"y":936.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"37b67979-5584-3085-8633-9b175604e139","instanceIdentifier":"63cb9482-f63b-3344-0a2f-874812e4122b","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":344.0,"y":1160.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"9d41479d-6c58-3311-b5aa-e021a40a931d","instanceIdentifier":"0a1d6775-4f18-37b2-62a5-4e662b4f0f60","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":344.0,"y":712.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"44f7d03a-45c4-331b-8d9f-0b2ea5085fc0","instanceIdentifier":"9a044eb3-9b82-34e7-d941-595ab9911d3a","maxBackoffPeriod":"10 mins","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":344.0,"y":224.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"5fa13cbf-edbc-3d13-9477-27a9f6912dfc","instanceIdentifier":"da116eab-4034-3674-0c9f-5897518e19c9","maxBackoffPeriod":"10 mins","name":"Log failure deleting content","penaltyDuration":"30 sec","position":{"x":1024.0,"y":1152.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"f657a930-0284-319f-b22a-788aa24e5bbd","identifier":"4cb1aeeb-19b0-33f9-9167-436f0c5233f8","instanceIdentifier":"810d61e3-a134-372a-1da0-4c4e9c04069e","maxBackoffPeriod":"10 mins","name":"Log failure processing content","penaltyDuration":"30 sec","position":{"x":1040.0,"y":445.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","id":"0407bad4-f35c-33d9-9072-137211d7b433","instanceIdentifier":"74a53e70-251b-3c77-7c27-dc7d48d63e84","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","identifier":"5f0aaaa6-6030-310c-a687-d9da21a85692","instanceIdentifier":"41e67eb6-3df4-3d0d-e5c3-346b60179665","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","id":"f0d25349-afa7-358e-9b57-f0f5709d16ce","instanceIdentifier":"85c2c675-0914-37c1-2ce0-7d3f3de30547","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","id":"f0d25349-afa7-358e-9b57-f0f5709d16ce","instanceIdentifier":"85c2c675-0914-37c1-2ce0-7d3f3de30547","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","identifier":"25c5da61-a999-32c4-822c-b78d40f3f05d","instanceIdentifier":"27bd5509-a885-3912-35fe-738a3be0f1bc","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","id":"8f6023ee-a24e-3379-8fe9-d9c6510bcf2c","instanceIdentifier":"2a4f1839-c6ea-39d0-d569-adfc103a5adc","name":"Start delete metadata","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","id":"daba3d74-235e-3fe4-818b-c323f9ac041f","instanceIdentifier":"fb630d9c-b560-307e-6830-71a52ba8b3e8","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","identifier":"34f33d0d-4fe0-3660-acee-0cf6cc682fa0","instanceIdentifier":"678440c0-d555-353e-562e-4e0c81bc632a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","id":"0407bad4-f35c-33d9-9072-137211d7b433","instanceIdentifier":"74a53e70-251b-3c77-7c27-dc7d48d63e84","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","identifier":"8f6023ee-a24e-3379-8fe9-d9c6510bcf2c","instanceIdentifier":"2a4f1839-c6ea-39d0-d569-adfc103a5adc","name":"Start delete metadata","position":{"x":421.0,"y":99.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"d85d6576-da9a-347d-da3c-f815f8018d7d","labels":[],"name":"Delete metadata","outputPorts":[],"parameterContextName":"NA-E2E","position":{"x":-8.0,"y":704.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","identifier":"daba3d74-235e-3fe4-818b-c323f9ac041f","instanceIdentifier":"fb630d9c-b560-307e-6830-71a52ba8b3e8","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1008.0,"y":336.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","identifier":"0407bad4-f35c-33d9-9072-137211d7b433","instanceIdentifier":"74a53e70-251b-3c77-7c27-dc7d48d63e84","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"a8220bab-19d7-3f7c-8621-388a46ed1fd7","identifier":"f0d25349-afa7-358e-9b57-f0f5709d16ce","instanceIdentifier":"85c2c675-0914-37c1-2ce0-7d3f3de30547","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":376.0,"y":264.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"a27303d8-8ccd-3156-adeb-a3c119c08f3a","instanceIdentifier":"eca6bac6-150d-33d9-480d-53616d1ca84d","maxBackoffPeriod":"10 mins","name":"Log content not found","penaltyDuration":"30 sec","position":{"x":1216.0,"y":152.0},"properties":{"log-message":"\"${responseKey}\" was not found in metadata for table \"#{dynamodb_table_prefix}-apl-metadata\"","log-level":"warn","log-prefix":"[${log.prefix}.${responseKey}.FailureAttribute]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ffe74c"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"2b22ede8-9136-3267-bf0a-e0427448c559","instanceIdentifier":"9b2b56f3-28ad-3c83-3313-fa739c4a977b","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1224.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"2e2e7f1d-a404-39b0-a4cf-4b5f9d865911","identifier":"1ae83351-b011-3934-99e8-91f6ff961f03","instanceIdentifier":"8b8ebc95-0f93-3ae2-b781-ccb107485aab","maxBackoffPeriod":"2 mins","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":488.0,"y":440.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"98277458-d37e-3103-9e6f-1449c8e3ada1","instanceIdentifier":"0d2eb211-1b0e-35bb-cb66-008148ee54f0","name":"GetDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"3de8bd98-4227-3e2f-8335-dc5eac2cbd4e","instanceIdentifier":"2ff85e9b-20ea-3612-147e-4f3d6477acff","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"3d09f07b-9c0f-3471-a8b3-f9b8c317f340","instanceIdentifier":"765d0931-c370-31d5-8283-21fd3bcfa600","name":"Delete APL region","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"e95f0bf0-46de-3eaa-b2b2-e905484e32ca","instanceIdentifier":"b1a98445-3ee1-39a7-537a-d080abc58f93","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"2e7abc79-19e4-3574-9f40-26d1b079a5e2","instanceIdentifier":"6dcd2163-39b1-3dd0-89d6-fcf951313c18","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"98277458-d37e-3103-9e6f-1449c8e3ada1","instanceIdentifier":"0d2eb211-1b0e-35bb-cb66-008148ee54f0","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"49ec5187-20b6-3832-9582-9f581e98553b","instanceIdentifier":"142c1228-ebc4-3b1a-4f38-d7b4ad84f3b5","name":"Start delete content","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"78898916-e98a-3180-b200-b10c41bede9e","instanceIdentifier":"a2d01512-9833-325d-dc41-e30cd880d724","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"98277458-d37e-3103-9e6f-1449c8e3ada1","instanceIdentifier":"0d2eb211-1b0e-35bb-cb66-008148ee54f0","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"groupId":"7ec4458b-763d-3788-b348-cad2a177995c","id":"247c9a7f-be78-3875-80c6-02b14256baaf","instanceIdentifier":"e9fb988c-2521-3a3d-9a0d-77584f577843","name":"Start delete metadata","type":"INPUT_PORT"},"flowFileExpiration":"0 sec","groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"da1d81c8-f89d-3461-bcbd-c762c7304fe4","instanceIdentifier":"4eea4e95-e0c5-338c-8d93-9680cd1f8a3e","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"98277458-d37e-3103-9e6f-1449c8e3ada1","instanceIdentifier":"0d2eb211-1b0e-35bb-cb66-008148ee54f0","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"392ea071-d0ff-37f0-af8b-49bba0f82331","instanceIdentifier":"8211dc40-e298-3824-fad1-566e5941b467","name":"Log content not found","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"8c4fe255-c130-320a-8082-e5433872b5ea","instanceIdentifier":"bfe43ad8-6cdd-3962-eab1-653b83ba1bfe","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["not found"],"source":{"comments":"","groupId":"7d2e42e2-3670-30b7-a567-0b73f645e350","id":"98277458-d37e-3103-9e6f-1449c8e3ada1","instanceIdentifier":"0d2eb211-1b0e-35bb-cb66-008148ee54f0","name":"GetDynamoDB","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"9897ced4-0c7a-3f12-8907-31fae41d43a7","identifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"3d09f07b-9c0f-3471-a8b3-f9b8c317f340","instanceIdentifier":"765d0931-c370-31d5-8283-21fd3bcfa600","name":"Delete APL region","position":{"x":544.0,"y":272.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"735f452a-7081-3f74-270c-96a08af9293d","labels":[],"name":"EU Region","outputPorts":[],"parameterContextName":"EU-E2E","position":{"x":-88.0,"y":248.0},"processGroups":[{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"b272598b-6bef-34b5-a7bd-cdccaea475fd","instanceIdentifier":"a7f5bc64-7d1b-3c96-1cfd-f5b81bcd1782","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"d2bed678-5032-3933-abee-6a9011c76001","instanceIdentifier":"f11f042d-901a-332a-84d6-9f47e7f5238c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"d7182818-0a88-3f72-b7d3-cb06e1b6398a","instanceIdentifier":"2b3e3add-6437-3fc4-a94c-bbe992d2434a","name":"ControlRate","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"2aebdd22-814d-3231-ba49-13e55e4b99c9","instanceIdentifier":"9781dd2a-726d-32b3-0c0b-703660c1d92b","name":"EvaluateJsonPath","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"ccdac0f7-e9b2-3cb4-abc4-78ecf084b546","instanceIdentifier":"563bb0fc-c3b9-3664-8278-d0928ea453d7","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["split"],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"c5c4a970-184a-3690-a6c4-8aca32c467a0","instanceIdentifier":"c7279ca1-37f7-3bef-e84f-e3bebf20cafb","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"2e328169-3ff1-3363-9bda-6d389f82a9c6","instanceIdentifier":"c4bb8036-df81-3937-0a2a-c03beba6e894","name":"JoltTransformJSON","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"45844122-d403-39b9-919d-f5703e9fa78c","instanceIdentifier":"8ae4a0ba-7708-3e55-93f0-89b901fe3c64","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"49ec5187-20b6-3832-9582-9f581e98553b","instanceIdentifier":"142c1228-ebc4-3b1a-4f38-d7b4ad84f3b5","name":"Start delete content","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"85b247b7-34d5-3a06-91d3-71c1f049c28b","instanceIdentifier":"f9cfa7e0-9215-3ef8-ed76-d7332c530348","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"6052a3db-dc9f-39b3-95b7-a1b8d5c0d8cc","instanceIdentifier":"b0ca9982-7a96-3ca6-da29-3d66806f915c","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"c5c4a970-184a-3690-a6c4-8aca32c467a0","instanceIdentifier":"c7279ca1-37f7-3bef-e84f-e3bebf20cafb","name":"SplitJson","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"d7182818-0a88-3f72-b7d3-cb06e1b6398a","instanceIdentifier":"2b3e3add-6437-3fc4-a94c-bbe992d2434a","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"5b342acb-36ca-332b-93c8-86a87866d46d","instanceIdentifier":"f66ff2d1-bf71-3f78-e5d3-fe4b3e908bd0","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["matched"],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"2aebdd22-814d-3231-ba49-13e55e4b99c9","instanceIdentifier":"9781dd2a-726d-32b3-0c0b-703660c1d92b","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"85b247b7-34d5-3a06-91d3-71c1f049c28b","instanceIdentifier":"f9cfa7e0-9215-3ef8-ed76-d7332c530348","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"9bc10f0b-078d-3ded-aa84-ad25dac8900d","instanceIdentifier":"518913fe-1340-32b3-556d-d9296f4c5153","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure"],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"2e328169-3ff1-3363-9bda-6d389f82a9c6","instanceIdentifier":"c4bb8036-df81-3937-0a2a-c03beba6e894","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"42b1a4a5-ae27-34f3-b70b-0ba0877ff75e","instanceIdentifier":"4e9e2283-7757-32e1-9255-53dd7fa28986","name":"Log failure deleting content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"79d97045-13b9-37ba-9db1-c97c06c6dd85","instanceIdentifier":"abcd6d44-f0f3-39cb-07ca-97270e6cf330","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"b272598b-6bef-34b5-a7bd-cdccaea475fd","instanceIdentifier":"a7f5bc64-7d1b-3c96-1cfd-f5b81bcd1782","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"c5c4a970-184a-3690-a6c4-8aca32c467a0","instanceIdentifier":"c7279ca1-37f7-3bef-e84f-e3bebf20cafb","name":"SplitJson","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"186dbe36-a383-3d98-b2ec-80d5e22ab346","instanceIdentifier":"26b36371-0f56-3710-7b65-86c238255e42","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"2e328169-3ff1-3363-9bda-6d389f82a9c6","instanceIdentifier":"c4bb8036-df81-3937-0a2a-c03beba6e894","name":"JoltTransformJSON","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"85b247b7-34d5-3a06-91d3-71c1f049c28b","instanceIdentifier":"f9cfa7e0-9215-3ef8-ed76-d7332c530348","name":"Log failure processing content","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"462fbc30-a760-343b-b659-2bcb6eb906f9","instanceIdentifier":"6ccb6550-ae55-3bc4-ad84-98f623de404a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["failure","unmatched"],"source":{"comments":"","groupId":"d631c3e3-93fc-39b9-9487-c7e87fb33125","id":"2aebdd22-814d-3231-ba49-13e55e4b99c9","instanceIdentifier":"9781dd2a-726d-32b3-0c0b-703660c1d92b","name":"EvaluateJsonPath","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","inputPorts":[{"allowRemoteAccess":false,"comments":"","componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"49ec5187-20b6-3832-9582-9f581e98553b","instanceIdentifier":"142c1228-ebc4-3b1a-4f38-d7b4ad84f3b5","name":"Start delete content","position":{"x":376.0,"y":72.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"7be7b37e-dac3-387d-a5ca-e65737d205a8","labels":[],"name":"Delete content","outputPorts":[],"parameterContextName":"EU-E2E","position":{"x":968.0,"y":696.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"42b1a4a5-ae27-34f3-b70b-0ba0877ff75e","instanceIdentifier":"4e9e2283-7757-32e1-9255-53dd7fa28986","maxBackoffPeriod":"10 mins","name":"Log failure deleting content","penaltyDuration":"30 sec","position":{"x":1024.0,"y":1152.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"2e328169-3ff1-3363-9bda-6d389f82a9c6","instanceIdentifier":"c4bb8036-df81-3937-0a2a-c03beba6e894","maxBackoffPeriod":"10 mins","name":"JoltTransformJSON","penaltyDuration":"30 sec","position":{"x":344.0,"y":224.0},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"*\": {\n          \"@\": \"keys[].key\"\n        }\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"displayName":"Jolt Specification","identifiesControllerService":false,"name":"jolt-spec","sensitive":false},"jolt-transform":{"displayName":"Jolt Transformation DSL","identifiesControllerService":false,"name":"jolt-transform","sensitive":false},"jolt-custom-class":{"displayName":"Custom Transformation Class Name","identifiesControllerService":false,"name":"jolt-custom-class","sensitive":false},"jolt-custom-modules":{"displayName":"Custom Module Directory","identifiesControllerService":false,"name":"jolt-custom-modules","resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]},"sensitive":false},"pretty_print":{"displayName":"Pretty Print","identifiesControllerService":false,"name":"pretty_print","sensitive":false},"Transform Cache Size":{"displayName":"Transform Cache Size","identifiesControllerService":false,"name":"Transform Cache Size","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"d7182818-0a88-3f72-b7d3-cb06e1b6398a","instanceIdentifier":"2b3e3add-6437-3fc4-a94c-bbe992d2434a","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":344.0,"y":936.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"85b247b7-34d5-3a06-91d3-71c1f049c28b","instanceIdentifier":"f9cfa7e0-9215-3ef8-ed76-d7332c530348","maxBackoffPeriod":"10 mins","name":"Log failure processing content","penaltyDuration":"30 sec","position":{"x":1040.0,"y":445.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":".*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"2aebdd22-814d-3231-ba49-13e55e4b99c9","instanceIdentifier":"9781dd2a-726d-32b3-0c0b-703660c1d92b","maxBackoffPeriod":"10 mins","name":"EvaluateJsonPath","penaltyDuration":"30 sec","position":{"x":344.0,"y":712.0},"properties":{"Destination":"flowfile-attribute","responseKey":"$.key","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"displayName":"Destination","identifiesControllerService":false,"name":"Destination","sensitive":false},"responseKey":{"displayName":"responseKey","identifiesControllerService":false,"name":"responseKey","sensitive":false},"Return Type":{"displayName":"Return Type","identifiesControllerService":false,"name":"Return Type","sensitive":false},"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"Path Not Found Behavior":{"displayName":"Path Not Found Behavior","identifiesControllerService":false,"name":"Path Not Found Behavior","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"b272598b-6bef-34b5-a7bd-cdccaea475fd","instanceIdentifier":"a7f5bc64-7d1b-3c96-1cfd-f5b81bcd1782","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":344.0,"y":1160.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-content","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"id","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["original"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"d631c3e3-93fc-39b9-9487-c7e87fb33125","identifier":"c5c4a970-184a-3690-a6c4-8aca32c467a0","instanceIdentifier":"c7279ca1-37f7-3bef-e84f-e3bebf20cafb","maxBackoffPeriod":"10 mins","name":"SplitJson","penaltyDuration":"30 sec","position":{"x":352.0,"y":464.0},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.keys"},"propertyDescriptors":{"Null Value Representation":{"displayName":"Null Value Representation","identifiesControllerService":false,"name":"Null Value Representation","sensitive":false},"JsonPath Expression":{"displayName":"JsonPath Expression","identifiesControllerService":false,"name":"JsonPath Expression","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.SplitJson","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7ec4458b-763d-3788-b348-cad2a177995c","id":"7261db92-855c-348d-9f1d-14cce6c61668","instanceIdentifier":"90876e47-69bd-3c07-b5e9-534b5a44a0fd","name":"Log failure","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7ec4458b-763d-3788-b348-cad2a177995c","identifier":"e9b115b7-4a6a-3b1c-9504-6299815c0ff0","instanceIdentifier":"70932804-2ce5-3b8c-1be5-7c815fbf29af","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["unprocessed","failure"],"source":{"comments":"","groupId":"7ec4458b-763d-3788-b348-cad2a177995c","id":"0b05028c-9b65-3548-95a1-77a8ddc95466","instanceIdentifier":"2b7f72fc-b63f-3bc2-ac82-a102f01c4f4e","name":"DeleteDynamoDB","type":"PROCESSOR"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7ec4458b-763d-3788-b348-cad2a177995c","id":"f4cf34a8-8341-3d9d-b548-426d29e93ed1","instanceIdentifier":"9f374236-9cfe-34af-461e-e3d5e811d8ae","name":"ControlRate","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7ec4458b-763d-3788-b348-cad2a177995c","identifier":"4b75f9ea-443e-3278-9d2c-f7fe7a54b778","instanceIdentifier":"f08d61a7-c582-313c-b83c-ca81a2c43a0a","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":[""],"source":{"groupId":"7ec4458b-763d-3788-b348-cad2a177995c","id":"247c9a7f-be78-3875-80c6-02b14256baaf","instanceIdentifier":"e9fb988c-2521-3a3d-9a0d-77584f577843","name":"Start delete metadata","type":"INPUT_PORT"},"zIndex":0},{"backPressureDataSizeThreshold":"1 GB","backPressureObjectThreshold":10000,"bends":[],"componentType":"CONNECTION","destination":{"comments":"","groupId":"7ec4458b-763d-3788-b348-cad2a177995c","id":"0b05028c-9b65-3548-95a1-77a8ddc95466","instanceIdentifier":"2b7f72fc-b63f-3bc2-ac82-a102f01c4f4e","name":"DeleteDynamoDB","type":"PROCESSOR"},"flowFileExpiration":"0 sec","groupIdentifier":"7ec4458b-763d-3788-b348-cad2a177995c","identifier":"1d1e0c78-84bc-314c-9e49-4d6f0100073f","instanceIdentifier":"7c2773cf-3c0c-35b3-59fd-6d1850a59636","labelIndex":1,"loadBalanceCompression":"DO_NOT_COMPRESS","loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","name":"","partitioningAttribute":"","prioritizers":[],"selectedRelationships":["success"],"source":{"comments":"","groupId":"7ec4458b-763d-3788-b348-cad2a177995c","id":"f4cf34a8-8341-3d9d-b548-426d29e93ed1","instanceIdentifier":"9f374236-9cfe-34af-461e-e3d5e811d8ae","name":"ControlRate","type":"PROCESSOR"},"zIndex":0}],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"7ec4458b-763d-3788-b348-cad2a177995c","inputPorts":[{"allowRemoteAccess":false,"componentType":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"groupIdentifier":"7ec4458b-763d-3788-b348-cad2a177995c","identifier":"247c9a7f-be78-3875-80c6-02b14256baaf","instanceIdentifier":"e9fb988c-2521-3a3d-9a0d-77584f577843","name":"Start delete metadata","position":{"x":421.0,"y":99.0},"scheduledState":"ENABLED","type":"INPUT_PORT"}],"instanceIdentifier":"e3679628-e699-30ea-f44b-dc7ce035277d","labels":[],"name":"Delete metadata","outputPorts":[],"parameterContextName":"EU-E2E","position":{"x":-8.0,"y":704.0},"processGroups":[],"processors":[{"autoTerminatedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7ec4458b-763d-3788-b348-cad2a177995c","identifier":"f4cf34a8-8341-3d9d-b548-426d29e93ed1","instanceIdentifier":"9f374236-9cfe-34af-461e-e3d5e811d8ae","maxBackoffPeriod":"10 mins","name":"ControlRate","penaltyDuration":"30 sec","position":{"x":376.0,"y":264.0},"properties":{"Time Duration":"2 seconds","Maximum Rate":"5","Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Maximum FlowFile Rate":{"displayName":"Maximum FlowFile Rate","identifiesControllerService":false,"name":"Maximum FlowFile Rate","sensitive":false},"Time Duration":{"displayName":"Time Duration","identifiesControllerService":false,"name":"Time Duration","sensitive":false},"Grouping Attribute":{"displayName":"Grouping Attribute","identifiesControllerService":false,"name":"Grouping Attribute","sensitive":false},"Maximum Rate":{"displayName":"Maximum Rate","identifiesControllerService":false,"name":"Maximum Rate","sensitive":false},"Rate Controlled Attribute":{"displayName":"Rate Controlled Attribute","identifiesControllerService":false,"name":"Rate Controlled Attribute","sensitive":false},"Rate Control Criteria":{"displayName":"Rate Control Criteria","identifiesControllerService":false,"name":"Rate Control Criteria","sensitive":false},"Maximum Data Rate":{"displayName":"Maximum Data Rate","identifiesControllerService":false,"name":"Maximum Data Rate","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.ControlRate","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7ec4458b-763d-3788-b348-cad2a177995c","identifier":"7261db92-855c-348d-9f1d-14cce6c61668","instanceIdentifier":"90876e47-69bd-3c07-b5e9-534b5a44a0fd","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1008.0,"y":336.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7ec4458b-763d-3788-b348-cad2a177995c","identifier":"0b05028c-9b65-3548-95a1-77a8ddc95466","instanceIdentifier":"2b7f72fc-b63f-3bc2-ac82-a102f01c4f4e","maxBackoffPeriod":"2 mins","name":"DeleteDynamoDB","penaltyDuration":"30 sec","position":{"x":376.0,"y":496.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ff817f"},"type":"org.apache.nifi.processors.aws.dynamodb.DeleteDynamoDB","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"e95f0bf0-46de-3eaa-b2b2-e905484e32ca","instanceIdentifier":"b1a98445-3ee1-39a7-537a-d080abc58f93","maxBackoffPeriod":"10 mins","name":"Log failure","penaltyDuration":"30 sec","position":{"x":1224.0,"y":416.0},"properties":{"Log prefix":"[${log.prefix}.${responseKey}.FailureAttribute]","character-set":"UTF-8","Log FlowFile Properties":"true","Log Level":"error","attributes-to-log-regex":"dynamodb\\..*","Output Format":"Line per Attribute","Log Payload":"true"},"propertyDescriptors":{"Log prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"Log prefix","sensitive":false},"character-set":{"displayName":"Character Set","identifiesControllerService":false,"name":"character-set","sensitive":false},"Log FlowFile Properties":{"displayName":"Log FlowFile Properties","identifiesControllerService":false,"name":"Log FlowFile Properties","sensitive":false},"Log Level":{"displayName":"Log Level","identifiesControllerService":false,"name":"Log Level","sensitive":false},"attributes-to-ignore-regex":{"displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"name":"attributes-to-ignore-regex","sensitive":false},"Attributes to Ignore":{"displayName":"Attributes to Ignore","identifiesControllerService":false,"name":"Attributes to Ignore","sensitive":false},"Attributes to Log":{"displayName":"Attributes to Log","identifiesControllerService":false,"name":"Attributes to Log","sensitive":false},"attributes-to-log-regex":{"displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"name":"attributes-to-log-regex","sensitive":false},"Output Format":{"displayName":"Output Format","identifiesControllerService":false,"name":"Output Format","sensitive":false},"Log Payload":{"displayName":"Log Payload","identifiesControllerService":false,"name":"Log Payload","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#d40b30"},"type":"org.apache.nifi.processors.standard.LogAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"YIELD_PROCESSOR","bulletinLevel":"WARN","bundle":{"artifact":"nifi-aws-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"98277458-d37e-3103-9e6f-1449c8e3ada1","instanceIdentifier":"0d2eb211-1b0e-35bb-cb66-008148ee54f0","maxBackoffPeriod":"2 mins","name":"GetDynamoDB","penaltyDuration":"30 sec","position":{"x":488.0,"y":440.0},"properties":{"Table Name":"#{dynamodb_table_prefix}-apl-metadata","Hash Key Value Type":"string","Access Key":"#{aws_access_key}","Hash Key Name":"key","Batch items for each request (between 1 and 50)":"1","Range Key Value":"${dynamodb.item.range.key.value}","Communications Timeout":"30 secs","Region":"#{aws_region}","Secret Key":"#{aws_secret_key}","Hash Key Value":"${responseKey}","Json Document attribute":"versions","Range Key Value Type":"string"},"propertyDescriptors":{"Proxy Host":{"displayName":"Proxy Host","identifiesControllerService":false,"name":"Proxy Host","sensitive":false},"Table Name":{"displayName":"Table Name","identifiesControllerService":false,"name":"Table Name","sensitive":false},"Hash Key Value Type":{"displayName":"Hash Key Value Type","identifiesControllerService":false,"name":"Hash Key Value Type","sensitive":false},"Access Key":{"displayName":"Access Key ID","identifiesControllerService":false,"name":"Access Key","sensitive":true},"Hash Key Name":{"displayName":"Hash Key Name","identifiesControllerService":false,"name":"Hash Key Name","sensitive":false},"proxy-configuration-service":{"displayName":"Proxy Configuration Service","identifiesControllerService":true,"name":"proxy-configuration-service","sensitive":false},"Batch items for each request (between 1 and 50)":{"displayName":"Batch items for each request (between 1 and 50)","identifiesControllerService":false,"name":"Batch items for each request (between 1 and 50)","sensitive":false},"Range Key Name":{"displayName":"Range Key Name","identifiesControllerService":false,"name":"Range Key Name","sensitive":false},"AWS Credentials Provider service":{"displayName":"AWS Credentials Provider Service","identifiesControllerService":true,"name":"AWS Credentials Provider service","sensitive":false},"SSL Context Service":{"displayName":"SSL Context Service","identifiesControllerService":true,"name":"SSL Context Service","sensitive":false},"Range Key Value":{"displayName":"Range Key Value","identifiesControllerService":false,"name":"Range Key Value","sensitive":false},"proxy-user-password":{"displayName":"Proxy Password","identifiesControllerService":false,"name":"proxy-user-password","sensitive":true},"Communications Timeout":{"displayName":"Communications Timeout","identifiesControllerService":false,"name":"Communications Timeout","sensitive":false},"Region":{"displayName":"Region","identifiesControllerService":false,"name":"Region","sensitive":false},"Secret Key":{"displayName":"Secret Access Key","identifiesControllerService":false,"name":"Secret Key","sensitive":true},"Credentials File":{"displayName":"Credentials File","identifiesControllerService":false,"name":"Credentials File","resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]},"sensitive":false},"Hash Key Value":{"displayName":"Hash Key Value","identifiesControllerService":false,"name":"Hash Key Value","sensitive":false},"Json Document attribute":{"displayName":"Json Document attribute","identifiesControllerService":false,"name":"Json Document attribute","sensitive":false},"Range Key Value Type":{"displayName":"Range Key Value Type","identifiesControllerService":false,"name":"Range Key Value Type","sensitive":false},"proxy-user-name":{"displayName":"Proxy Username","identifiesControllerService":false,"name":"proxy-user-name","sensitive":false},"Proxy Host Port":{"displayName":"Proxy Host Port","identifiesControllerService":false,"name":"Proxy Host Port","sensitive":false}},"retriedRelationships":["unprocessed"],"retryCount":5,"runDurationMillis":0,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.aws.dynamodb.GetDynamoDB","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"7d2e42e2-3670-30b7-a567-0b73f645e350","identifier":"392ea071-d0ff-37f0-af8b-49bba0f82331","instanceIdentifier":"8211dc40-e298-3824-fad1-566e5941b467","maxBackoffPeriod":"10 mins","name":"Log content not found","penaltyDuration":"30 sec","position":{"x":1216.0,"y":152.0},"properties":{"log-message":"\"${responseKey}\" was not found in metadata for table \"#{dynamodb_table_prefix}-apl-metadata\"","log-level":"warn","log-prefix":"[${log.prefix}.${responseKey}.FailureAttribute]"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{"background-color":"#ffe74c"},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"baac6cd5-5d41-3695-8c5d-473dc6877570","identifier":"2cae1680-6e6a-3501-b55d-018773a7168e","instanceIdentifier":"8e640772-629b-33b3-9927-fb250fc8ee68","maxBackoffPeriod":"10 mins","name":"Set log prefix","penaltyDuration":"30 sec","position":{"x":424.0,"y":272.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","log.prefix":"APL.DELETE"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"log.prefix":{"displayName":"log.prefix","identifiesControllerService":false,"name":"log.prefix","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}}],"processors":[{"autoTerminatedRelationships":["unmatched"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"b48e119b-f6b9-33f7-833b-a361c479862e","identifier":"d9677978-7bcb-3406-b0dc-dfa4e8a81cae","instanceIdentifier":"5bf628cb-3899-327b-9fff-7ff06982ef3d","maxBackoffPeriod":"10 mins","name":"Check table name","penaltyDuration":"30 sec","position":{"x":440.0,"y":288.0},"properties":{"Routing Strategy":"Route to Property name","isAplTable":"${tableName:equals(\"apl\")}","isResponseTable":"${tableName:equals(\"responses\")}"},"propertyDescriptors":{"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"isAplTable":{"displayName":"isAplTable","identifiesControllerService":false,"name":"isAplTable","sensitive":false},"isResponseTable":{"displayName":"isResponseTable","identifiesControllerService":false,"name":"isResponseTable","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},{"comments":"","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"3019751a-1e4e-37a6-a7f4-d42332047fe6","inputPorts":[],"instanceIdentifier":"0531693f-1af7-3f05-9eb0-491ec5b7a652","labels":[],"name":"Upsert resource","outputPorts":[],"position":{"x":544.0,"y":1168.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"678202de-e8b9-4074-b8ae-99d5f6384254","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","storageLocation":"https://nifi-registry.cms.svc.cluster.local:18443/nifi-registry-api/buckets/aa358e7e-32a7-4fe8-bc6e-7735089de3d3/flows/678202de-e8b9-4074-b8ae-99d5f6384254/versions/1","version":1}},{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"ce9b3f61-1580-3b8c-9915-33df0485de0a","inputPorts":[],"instanceIdentifier":"9e2135a7-47aa-376d-7912-825b1ebbde84","labels":[],"name":"James Tool Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":1616.0,"y":32.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","storageLocation":"https://nifi-registry.cms.svc.cluster.local:18443/nifi-registry-api/buckets/aa358e7e-32a7-4fe8-bc6e-7735089de3d3/flows/044701c6-490b-4d7e-8db8-4dea2f09f4a1/versions/18","version":18}},{"comments":"","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"a616bb8d-ab90-3396-9d2e-826308e65b8e","inputPorts":[],"instanceIdentifier":"478463d8-5439-3054-5f9d-ee1c79aa58fa","labels":[],"name":"Directus Hook","outputPorts":[],"position":{"x":176.0,"y":8.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"0edfbd42-f0f3-471f-87ac-c524e0a88038","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","storageLocation":"https://nifi-registry.cms.svc.cluster.local:18443/nifi-registry-api/buckets/aa358e7e-32a7-4fe8-bc6e-7735089de3d3/flows/0edfbd42-f0f3-471f-87ac-c524e0a88038/versions/2","version":2}},{"comments":"","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"5d471cbf-8b59-34e1-b7fc-99bc7037ba20","inputPorts":[],"instanceIdentifier":"78a5b806-db62-36cc-bacf-c02a354c72bf","labels":[],"name":"API Resources Group","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":1616.0,"y":824.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"37241d95-3175-4645-9408-8de2dfc491b1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","storageLocation":"https://nifi-registry.cms.svc.cluster.local:18443/nifi-registry-api/buckets/aa358e7e-32a7-4fe8-bc6e-7735089de3d3/flows/37241d95-3175-4645-9408-8de2dfc491b1/versions/13","version":13}},{"comments":"Get resource with retry policy and authentication","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"5dd6f771-4224-3b2b-aa80-1fb8a7794809","inputPorts":[],"instanceIdentifier":"484bf45d-6b75-3227-f6d9-c839da79cba8","labels":[],"name":"Get Resource Dataflow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":872.0,"y":312.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"044701c6-490b-4d7e-8db8-4dea2f09f4a1","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","storageLocation":"https://nifi-registry.cms.svc.cluster.local:18443/nifi-registry-api/buckets/aa358e7e-32a7-4fe8-bc6e-7735089de3d3/flows/044701c6-490b-4d7e-8db8-4dea2f09f4a1/versions/11","version":11}},{"comments":"","componentType":"PROCESS_GROUP","connections":[],"controllerServices":[],"defaultBackPressureDataSizeThreshold":"1 GB","defaultBackPressureObjectThreshold":10000,"defaultFlowFileExpiration":"0 sec","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","funnels":[],"groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"0c390072-d218-32a1-a36b-351bbd466c39","inputPorts":[],"instanceIdentifier":"763eed2f-98ab-34b7-62ff-c5aab0280d37","labels":[],"name":"GitHub Flow","outputPorts":[],"parameterContextName":"General-Configuration","position":{"x":1216.0,"y":1160.0},"processGroups":[],"processors":[],"remoteProcessGroups":[],"variables":{},"versionedFlowCoordinates":{"bucketId":"aa358e7e-32a7-4fe8-bc6e-7735089de3d3","flowId":"956670ec-99f3-4b1a-8a18-6080494cb6bc","registryUrl":"https://nifi-registry.cms.svc.cluster.local:18443","storageLocation":"https://nifi-registry.cms.svc.cluster.local:18443/nifi-registry-api/buckets/aa358e7e-32a7-4fe8-bc6e-7735089de3d3/flows/956670ec-99f3-4b1a-8a18-6080494cb6bc/versions/3","version":3}}],"processors":[{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"3a1a3061-d935-3762-8cd2-224a99dbe577","instanceIdentifier":"1031e515-9adc-3bbb-ab46-7280642b638e","maxBackoffPeriod":"10 mins","name":"UpdateAttribute","penaltyDuration":"30 sec","position":{"x":888.0,"y":624.0},"properties":{"clausePublishedAndHybrid":"${status:toLower():equals('published'):and(${availability:toLower():equals('hybrid')})}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","clausePublishedAndLocal":"${status:toLower():equals('published'):and(${availability:toLower():equals('local')})}","clauseWaitingLocalizationAndHybrid":"${status:toLower():equals('waiting_localization'):and(${availability:toLower():equals('hybrid')}):and(${assistant:contains('mybmw'):not()})}","clauseWaitingLocalizationAndLocal":"${status:toLower():equals('waiting_localization'):and(${availability:toLower():equals('local')}):and(${assistant:contains('mybmw'):not()})}"},"propertyDescriptors":{"clausePublishedAndHybrid":{"displayName":"clausePublishedAndHybrid","identifiesControllerService":false,"name":"clausePublishedAndHybrid","sensitive":false},"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"clausePublishedAndLocal":{"displayName":"clausePublishedAndLocal","identifiesControllerService":false,"name":"clausePublishedAndLocal","sensitive":false},"clauseWaitingLocalizationAndHybrid":{"displayName":"clauseWaitingLocalizationAndHybrid","identifiesControllerService":false,"name":"clauseWaitingLocalizationAndHybrid","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false},"clauseWaitingLocalizationAndLocal":{"displayName":"clauseWaitingLocalizationAndLocal","identifiesControllerService":false,"name":"clauseWaitingLocalizationAndLocal","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"fcbf3566-eb4d-33f0-87b0-0410fe87cea4","instanceIdentifier":"47f6436b-53c4-33a3-31a2-6ac9cafcb143","maxBackoffPeriod":"10 mins","name":"RouteOnAttribute","penaltyDuration":"30 sec","position":{"x":888.0,"y":856.0},"properties":{"RouteToUpsertResource":"${assistant:contains('mybmw')}","Routing Strategy":"Route to Property name","RouteToGit":"${clausePublishedAndLocal:or(${clausePublishedAndHybrid})}","RouteToAPIResources":"${clauseWaitingLocalizationAndLocal:or(${clauseWaitingLocalizationAndHybrid})}"},"propertyDescriptors":{"RouteToUpsertResource":{"displayName":"RouteToUpsertResource","identifiesControllerService":false,"name":"RouteToUpsertResource","sensitive":false},"Routing Strategy":{"displayName":"Routing Strategy","identifiesControllerService":false,"name":"Routing Strategy","sensitive":false},"RouteToGit":{"displayName":"RouteToGit","identifiesControllerService":false,"name":"RouteToGit","sensitive":false},"RouteToAPIResources":{"displayName":"RouteToAPIResources","identifiesControllerService":false,"name":"RouteToAPIResources","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-update-attribute-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"91c7a5fc-29d5-309d-829b-5c1692236586","instanceIdentifier":"e3345b3c-ace2-34a7-07f7-1832fc149bb3","maxBackoffPeriod":"10 mins","name":"Prepare CMS Request - Get revisions","penaltyDuration":"30 sec","position":{"x":888.0,"y":32.0},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","custom.uri":"/revisions?filter={\"collection\":{\"_eq\":\"${tableName}\"},\"item\":{\"_eq\":\"${itemId}\"}, \"data\":{\"_contains\": \"\\\"status\\\":\\\"${status}\\\"\"}}&sort=-activity&fields[]=data","custom.jolt.config":"[{\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"data\": {\n        \"*\": {\n          \"data\": \"data[]\"\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"data\": {\n        \"*\": {\n          \"id\": \"=toInteger\",\n          \"modified_by\": \"=toInteger\",\n          \"version\": \"=toInteger\"\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"\"\n    }\n\t}, {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"@version[]\"\n    }\n  }, {\n    \"operation\": \"cardinality\",\n    \"spec\": {\n      \"*\": {\n        \"@\": \"ONE\"\n      }\n    }\n}]"},"propertyDescriptors":{"Delete Attributes Expression":{"displayName":"Delete Attributes Expression","identifiesControllerService":false,"name":"Delete Attributes Expression","sensitive":false},"Store State":{"displayName":"Store State","identifiesControllerService":false,"name":"Store State","sensitive":false},"canonical-value-lookup-cache-size":{"displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"name":"canonical-value-lookup-cache-size","sensitive":false},"custom.uri":{"displayName":"custom.uri","identifiesControllerService":false,"name":"custom.uri","sensitive":false},"custom.jolt.config":{"displayName":"custom.jolt.config","identifiesControllerService":false,"name":"custom.jolt.config","sensitive":false},"Stateful Variables Initial Value":{"displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"name":"Stateful Variables Initial Value","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","yieldDuration":"1 sec"},{"autoTerminatedRelationships":["success"],"backoffMechanism":"PENALIZE_FLOWFILE","bulletinLevel":"WARN","bundle":{"artifact":"nifi-standard-nar","group":"org.apache.nifi","version":"1.19.1"},"comments":"","componentType":"PROCESSOR","concurrentlySchedulableTaskCount":1,"executionNode":"ALL","groupIdentifier":"8a99c018-7c11-355b-8ae5-017e4a08dad9","identifier":"ccf70e1d-591c-3d18-befa-3280c0bb76b4","instanceIdentifier":"e1271bc6-9743-3e9f-59c6-e9d28fdf577b","maxBackoffPeriod":"10 mins","name":"LogMessage","penaltyDuration":"30 sec","position":{"x":280.0,"y":856.0},"properties":{"log-level":"info"},"propertyDescriptors":{"log-message":{"displayName":"Log message","identifiesControllerService":false,"name":"log-message","sensitive":false},"log-level":{"displayName":"Log Level","identifiesControllerService":false,"name":"log-level","sensitive":false},"log-prefix":{"displayName":"Log prefix","identifiesControllerService":false,"name":"log-prefix","sensitive":false}},"retriedRelationships":[],"retryCount":10,"runDurationMillis":25,"scheduledState":"ENABLED","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","style":{},"type":"org.apache.nifi.processors.standard.LogMessage","yieldDuration":"1 sec"}],"remoteProcessGroups":[],"variables":{}},"flowEncodingVersion":"1.0","parameterContexts":{"NA-PROD":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"NA-PROD","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"General-Configuration":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"General-Configuration","parameters":[{"description":"","name":"directus_user","provided":false,"sensitive":false,"value":"admin@ipa.com"},{"description":"GitHub base branch","name":"cc_github_base_branch","provided":false,"sensitive":false,"value":"develop"},{"description":"","name":"directus_token_identifier","provided":false,"sensitive":false,"value":"directus_token"},{"description":"GitHub user","name":"cc_github_user","provided":false,"sensitive":false,"value":"filipemorgado"},{"description":"","name":"directus_password_test","provided":false,"sensitive":true},{"description":"","name":"directus_cache_identifier","provided":false,"sensitive":false,"value":"directus_auth"},{"description":"KeyStore FileName","name":"keystore_filename","provided":false,"sensitive":false,"value":"/opt/nifi/nifi-current/conf/keystore.jks"},{"description":"KeyStore Type","name":"keystore_type","provided":false,"sensitive":false,"value":"JKS"},{"description":"GitHub repository","name":"cc_github_repository","provided":false,"sensitive":false,"value":"Speech/assistant-responses-definition"},{"description":"","name":"directus_auth_path","provided":false,"sensitive":false,"value":"auth/login"},{"description":"","name":"directus_hostname","provided":false,"sensitive":false,"value":"http://cms-app-v9.cms.svc.cluster.local"},{"description":"Directus Password","name":"directus_password","provided":false,"sensitive":true},{"description":"","name":"distributed_map_cache_port","provided":false,"sensitive":false,"value":"4557"},{"description":"GitHub target file path","name":"cc_github_target_file_path","provided":false,"sensitive":false,"value":"app/src/main/res/resources/"},{"description":"","name":"RouteToAPIResources","provided":false,"sensitive":false,"value":"${clauseWaitingLocalizationAndLocal:or(${clauseWaitingLocalizationAndHybrid})}"},{"description":"Key Password","name":"key_password","provided":false,"sensitive":true},{"description":"","name":"distributed_map_cache_hostname","provided":false,"sensitive":false,"value":"localhost"},{"description":"GitHub token","name":"cc_github_access_token","provided":false,"sensitive":true},{"description":"","name":"clauseWaitingLocalizationAndHybrid","provided":false,"sensitive":false},{"description":"KeyStore Password","name":"keystore_password","provided":false,"sensitive":true}]},"EU-INT":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"EU-INT","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-TEST":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"EU-TEST","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"NA-INT":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"NA-INT","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-E2E":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"EU-E2E","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"NA-E2E":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"NA-E2E","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"us-east-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]},"EU-PROD":{"componentType":"PARAMETER_CONTEXT","inheritedParameterContexts":[],"name":"EU-PROD","parameters":[{"description":"","name":"aws_access_key","provided":false,"sensitive":true},{"description":"","name":"aws_region","provided":false,"sensitive":false,"value":"eu-central-1"},{"description":"","name":"s3_bucket","provided":false,"sensitive":false,"value":"directus-infra-content-s3bucket-eu-dev-staged"},{"description":"","name":"dynamodb_table_prefix","provided":false,"sensitive":false,"value":"dynamodb-eu-dev-staged"},{"description":"","name":"aws_secret_key","provided":false,"sensitive":true}]}},"parameterProviders":{},"snapshotMetadata":{"author":"hephzibah.gabriel@ctw.bmwgroup.com","comments":"set directus_password and github token processor groups","timestamp":1754570199192,"version":34}}